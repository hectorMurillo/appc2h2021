(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},r={app:0},n=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var o=a("85ec"),r=a.n(o);r.a},"0eed":function(e,t,a){},"0f9e":function(e,t,a){"use strict";var o=a("a253"),r=a.n(o);r.a},1:function(e,t){},"10f3":function(e,t,a){},2:function(e,t){},"23aa":function(e,t,a){"use strict";var o=a("d1af"),r=a.n(o);r.a},"2cc4":function(e,t,a){},3:function(e,t){},"3d68":function(e,t,a){},"3e46":function(e,t,a){"use strict";var o=a("423b"),r=a.n(o);r.a},4:function(e,t){},"423b":function(e,t,a){},"42cf":function(e,t,a){"use strict";var o=a("2cc4"),r=a.n(o);r.a},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=n(e);return a(t)}function n(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=n,e.exports=r,r.id="4678"},"4d06":function(e,t,a){"use strict";var o=a("6f69"),r=a.n(o);r.a},5:function(e,t){},"55ac":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("0cdd");var o=a("2b0e"),r=a("5f5b"),n=a("b1e0");a("ab8b"),a("2dd8");o["default"].use(r["a"]),o["default"].use(n["a"]);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("pm-loader"),a("router-view")],1)},s=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{id:"loading-spinner"}},[a("div",[e._m(0),a("span",{staticClass:"font-14 color-white-1"},[e._v(e._s(e.msg))])])])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-2"},[a("i",{staticClass:"fas fa-spinner fa-pulse fa-3x color-white-1 fa-spin"})])}],u={computed:{loading:function(){return this.$store.state.loading},msg:function(){return this.$store.state.msgLoading}}},d=u,m=(a("74ae"),a("2877")),p=Object(m["a"])(d,c,l,!1,null,null,null),f=p.exports,b={components:{PmLoader:f}},v=b,h=(a("034f"),Object(m["a"])(v,i,s,!1,null,null,null)),g=h.exports,C=(a("b0c0"),a("8c4f")),x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bg-white",class:{collapsed:e.layoutCollapsed},attrs:{id:"layout"}},[o("div",[o("sidebar-menu",{attrs:{menu:e.menu,"show-one-child":!0,collapsed:e.layoutCollapsed},on:{"toggle-collapse":e.onToggleCollapse}},[o("span",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"my-5"})])])],1),o("div",{staticClass:"content"},[o("b-navbar",{staticClass:"border",attrs:{type:"light",variant:"light"}},[o("b-navbar-brand",{staticClass:"d-flex align-items-center"},[o("img",{staticStyle:{width:"110px",height:"50px",cursor:"pointer"},attrs:{src:a("e090")},on:{click:e.noticias}}),o("h5",{staticClass:"mx-2 mb-0"},[e._v(e._s(e.titulo))])]),o("b-navbar-nav",{staticClass:"ml-auto font-weight-bold"},[o("b-nav-item",[e._v(" "+e._s(e.usuario.nombre)+" "),o("Notificaciones",{staticClass:"d-inline",attrs:{notificaciones:e.notifLocal,notificacionesPendientes:e.notificacionesPendientes},on:{actualizarNotificaciones:e.actualizarNotificaciones}})],1),o("button",{staticClass:"btn btn-outline-secondary",on:{click:e.logout}},[o("div",{staticClass:"row"},[o("i",{staticClass:"fa fa-sign-out-alt col-2 mt-1"}),o("span",{staticClass:"d-none d-lg-block col-6"},[e._v("Salir ")])])])],1)],1),o("div",{staticClass:"row no-gutters",staticStyle:{background:"white"}},[o("div",{staticClass:"col-12 px-4"},[o("router-view",{staticClass:"router-content mt-4",on:{titulo:function(t){return e.titulo=t}}})],1)])],1)])},w=[],k=(a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("button",{staticClass:"btn  mr-2 p-0 px-1 pr-2",attrs:{type:"button",id:"btnNotificacion"},on:{click:e.marcarVistaNotificaciones}},[a("i",{staticClass:"fas fa-bell fa-lg m-0"}),a("i",{staticClass:"icon-trazado-1103 yellow-bell m-0"},[a("span",{class:{"point-red":null!=e.notificaciones?e.notificaciones.length:0}})])]),a("b-popover",{ref:"popover",attrs:{target:"btnNotificacion",placement:"bottomleft",triggers:"click","custom-class":"popover-notificaciones"}},[a("ul",{staticClass:"noti-list"},e._l(e.notificaciones,(function(t){return a("div",{key:t.codNotificacion,staticClass:"row",class:{"no-leidos":!t.redirigido}},[a("li",{staticClass:"noti-item text-truncate"},[a("a",{staticClass:"noti-fuente",attrs:{href:"#/"},on:{click:function(a){return e.redirigeNotificacion(t)}}},[e._v(" "+e._s(t.descripcion)+" - "),a("span",{staticClass:"noti-date"},[e._v(e._s(t.fechaNotifFormat))])])])])})),0),a("hr",{staticClass:"popover-line-bottom"}),a("div",{staticClass:"mt-0"},[a("div",{staticClass:"popover-marcar-todas"},[a("button",{staticClass:"btn btn-inline btn-info btn-marcar-todas",on:{click:function(t){return e.limpiaNotificaciones()}}},[e._v("Marcar como leidas")])])])])],1)}),_=[],R=(a("4160"),a("159b"),a("d3b7"),a("ac1f"),a("1276"),a("bc3a")),y=a.n(R),E={apiUrl:"https://cors-anywhere.herokuapp.com/http://hector14-001-site2.etempurl.com/"},P=E,$=a("3d20"),O=a.n($),S=!1,N=y.a.create({baseURL:P.apiUrl});N.interceptors.request.use((function(e){var t=null,a="";return window.localStorage.tokenWebAdmin&&(t=JSON.parse(window.localStorage.tokenWebAdmin),a=t.token),a&&(e.headers.authorization="Bearer ".concat(a)),e}),(function(e){return O.a.fire({text:"Ocurrio un error al realizar la peticion al servidor",icon:"warning"}),Promise.reject(e)})),N.interceptors.response.use((function(e){return e}),(function(e){console.log("error-51",e);var t=e.config,a=e.response,o=t;if(null!=a)if(401===a.status){if(!S){S=!0;var r=y.a.create({baseURL:P.apiUrl});r.post("/seguridad/renovar-token",{refresh_token:window.localStorage.refreshToken}).then((function(e){S=!1,console.log("Aqui");var t=e.data.accessToken,a=JSON.parse(window.localStorage.tokenWebAdmin);a.token=t,window.localStorage.expiresIn=e.data.expiresIn,window.localStorage.refreshToken=e.data.refreshToken,a.user=window.atob(t.split(".")[1]),window.localStorage.tokenWebAdmin=a,o.headers.Authorization="Bearer ".concat(t),y()(o)})).catch((function(e){console.error(e)}))}}else O.a.fire({text:"La sesión ha caducado",icon:"warning"});return Promise.reject(e)}));var D=N,F={obtenerNotificaciones:function(){return D.get("/notificaciones/ultimasNotificaciones").then((function(e){return e.data})).catch((function(e){console.log(e)}))},marcarNotificacionRedirigida:function(e,t){return D.post("/notificaciones/redireccionadas",{todasRedirigidas:e,codigoNotificacion:t}).then((function(e){return e.data})).catch((function(e){return e}))},marcarNotificacionesVista:function(){return D.post("/notificaciones/marcarVistas").then((function(e){return e.data})).catch((function(e){return e}))}},T=F,j={props:["notificaciones","notificacionesPendientes"],data:function(){return{seleccionaTodo:!1,seleccionados:[]}},methods:{seleccionarTodos:function(){var e=this;this.seleccionaTodos=!this.seleccionaTodos,this.seleccionaTodos?this.notificaciones.forEach((function(t){e.seleccionados.push(t.codNotificacion)})):this.seleccionados=[]},redirigeNotificacion:function(e){var t=this;T.marcarNotificacionRedirigida(!1,e.codNotificacion).then((function(a){a.value&&t.$router.push({path:e.uRLDestino})}))},limpiaNotificaciones:function(){var e=this;T.marcarNotificacionRedirigida(!0).then((function(t){t.value&&e.notificaciones.forEach((function(e){e.redirigido=1}))})).catch((function(e){return console.error(e)}))},marcarVistaNotificaciones:function(){var e=this;return T.marcarNotificacionesVista().then((function(t){t.value&&e.obtenerNotificaciones()}))}}},A=j,B=(a("f069f"),Object(m["a"])(A,k,_,!1,null,"2f9a2442",null)),q=B.exports,M={props:["notificaciones","notificacionesPendientes"],components:{Notificaciones:q},data:function(){return{menu:[],layoutCollapsed:!1,titulo:"",notifLocal:null}},mounted:function(){var e=this;this.cargarMenu(),this.obtenerNotificaciones().then((function(t){e.notifLocal=t.data})).catch((function(e){return console.error(e)}))},methods:{formatearOpciones:function(e){for(var t=[],a=[],o=0;o<e.length;o++){var r=e[o],n=r["id"],i=r["parentid"],s=r["name"],c=r["icon"],l=r["url"];if(a[i]){var u={id:n,parentid:i,title:s,icon:c,href:l};a[i].child||(a[i].child=[]),a[i].child[a[i].child.length]=u,a[n]=u}else a[n]={id:n,parentid:i,title:s,icon:c},t[n]=a[n]}return t=t.filter((function(e){return null!=e.parentid})),t},actualizarNotificaciones:function(e){this.$emit("actualizarNotificaciones",e)},cargarMenu:function(){this.permisos&&(this.layoutCollapsed="true"==localStorage.getItem("layoutCollapsed"),this.menu=this.permisos,this.menu=this.formatearOpciones(this.menu))},logout:function(){window.localStorage.removeItem("tokenWebAdmin"),this.$router.push({name:"login"})},onToggleCollapse:function(e){var t=this;this.layoutCollapsed=e;var a=document.getElementById("tabla-articulos");window.localStorage.setItem("layoutCollapsed",e),this.$nextTick((function(){t.$floatThead.reflow(a),t.$floatThead.ini(a,{position:"absolute",scrollContainer:!0})}))},noticias:function(){this.$router.push({path:"/noticias"})}}},I=M,z=(a("d0ed"),Object(m["a"])(I,x,w,!1,null,"6cf3f970",null)),V=z.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"login-container"},[e._m(0),a("article",{staticClass:"login-body"},[a("form",[a("b-input-group",{staticClass:"mb-2"},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("i",{staticClass:"fa fa-user fa-lg"})]),a("b-form-input",{attrs:{type:"text",placeholder:"Nombre de usuario",autocomplete:"off"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.credenciales.usuario,callback:function(t){e.$set(e.credenciales,"usuario",t)},expression:"credenciales.usuario"}})],1),a("b-input-group",{staticClass:"mb-2 py-2"},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("i",{staticClass:"fa fa-lock fa-lg"})]),a("b-form-input",{attrs:{type:"password",placeholder:"Contraseña"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.credenciales.password,callback:function(t){e.$set(e.credenciales,"password",t)},expression:"credenciales.password"}})],1),a("div",{staticClass:"py-1"},[a("button",{staticClass:"btn btn-block btn-success-2h",attrs:{type:"button"},on:{click:e.login}},[e._v(" Ingresar ")])])],1)])])])},U=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-header"},[a("img",{staticClass:"ml-5",attrs:{src:"https://concretos2h.com.mx/img/3447/818.png",alt:"Logo",width:"56%"}}),a("hr")])}],L=(a("96cf"),a("1da1")),K={login:function(e){return D.post("/seguridad/login",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},H=K,J={data:function(){return{credenciales:{usuario:"",password:""},tokenWebAdmin:{token:null,expiresAt:null,user:null,permisos:null,empresas:null}}},methods:{login:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,H.login(e.credenciales);case 3:a=t.sent,a.value?(e.tokenWebAdmin.token=a.data.accessToken.accessToken,e.tokenWebAdmin.expiresAt=a.data.accessToken.exp,e.tokenWebAdmin.user=JSON.stringify(a.data.user),e.tokenWebAdmin.permisos=JSON.stringify(a.data.permisos),o=decodeURIComponent(encodeURI(e.tokenWebAdmin.user)),e.tokenWebAdmin.user=o,window.localStorage.tokenWebAdmin=JSON.stringify(e.tokenWebAdmin),e.$router.push({path:"/"})):e.$swal.fire({text:a.message,icon:"warning"}),e.$loading(!1);case 6:case"end":return t.stop()}}),t)})))()}}},W=J,X=(a("d6db"),Object(m["a"])(W,G,U,!1,null,null,null)),Y=X.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("b-modal",{attrs:{id:e.modalEspecial.id,title:e.modalEspecial.title,codigo:e.modalEspecial.codigo},on:{hide:e.resetModalEspecial,show:e.cargarDatosSugeridos,ok:e.aceptarNombreUsuario}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("b-form-group",{attrs:{label:"Nombre de usuario","label-for":"txtNombreUsuario","invalid-feedback":"El nombre de usuario es requerido"}},[a("b-form-input",{attrs:{id:"txtNombreUsuario",required:"",autocomplete:"false",disabled:e.modalEspecial.disabled},model:{value:e.form.usuario,callback:function(t){e.$set(e.form,"usuario",t)},expression:"form.usuario"}})],1),a("b-form-group",{attrs:{label:"Contraseña de usuario","label-for":"txtContraseña","invalid-feedback":"La contraseña es requerida"}},[a("b-form-input",{attrs:{id:"txtContraseña",type:"password",required:"",autocomplete:"false",disabled:e.modalEspecial.disabled},model:{value:e.form.contraseña,callback:function(t){e.$set(e.form,"contraseña",t)},expression:"form.contraseña"}}),a("b-form-text",[e._v(" El usuario y la contraseña son recomendadas por el sistema. "),a("br"),e._v(" Las puede cambiar. ")])],1)],1)]),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,modalEspecial:e.modalEspecial,permisoEscritura:e.permisoEscritura}})],1)])},Q=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-5"},[a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Clientes")])])}],ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[0==e.items.length?a("b-container",{staticClass:"my-2",attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"3","offset-md":"8"}},[e.permisoEscritura&&e.rutaNuevo.length>0?a("b-button",{staticClass:"btn btn-sm py-1 mt-1 btn-block",attrs:{variant:"primary"},on:{click:e.redirect}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nuevo ")]):e._e()],1)],1),a("hr"),a("h3",{staticClass:"text-secondary font-italic"},[e._v("No hay registros para mostrar . . .")])],1):e._e(),e.items.length>0?a("b-container",{attrs:{fluid:""}},[a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{attrs:{md:"3","offset-md":"2"}},[e.permisoEscritura&&e.rutaNuevo.length>0?a("b-button",{staticClass:"btn btn-sm py-1 mt-1 btn-block",attrs:{variant:"primary"},on:{click:e.redirect}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nuevo ")]):e._e()],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(show_details)",fn:function(t){return[e._v(" "+e._s(t.value.first)+" "+e._s(t.value.last)+" "),a("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Hide":"Show")+" Details ")]),a("b-form-checkbox",{on:{change:t.toggleDetails},model:{value:t.detailsShowing,callback:function(a){e.$set(t,"detailsShowing",a)},expression:"row.detailsShowing"}},[e._v(" Details via check ")])]}},{key:"cell(detalleEmit)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Ver Detalle",variant:"outline-info"},on:{click:function(a){return e.modalEmit(t.item,t.index,a.target)}}},[a("i",{staticClass:"fa fa-eye"})])]}},{key:"cell(actions)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Ver Detalle",variant:"outline-info"},on:{click:function(a){return e.modal(t.item,t.index,a.target)}}},[a("i",{staticClass:"fa fa-eye"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",to:e.rutaNuevo+t.item.codigo,title:"Editar",variant:"outline-info"}},[a("i",{staticClass:"fa fa-edit"})])]}},{key:"cell(apiGoogleMaps)",fn:function(t){return[a("a",{staticClass:"btn btn-outline-primary btn-block",attrs:{href:t.item.uRLGoogleMaps,target:"_blank"}},[a("i",{staticClass:"fas fa-map-marked-alt"}),e._v(" Ver en el mapa")])]}},{key:"cell(userClient)",fn:function(t){return[null==t.item.usuario?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"outline-info",title:"Generar Usuario"},on:{click:function(a){return e.generarUsuario(t.item,t.index,a.target)}}},[a("i",{staticClass:"far fa-user"})]):e._e(),null!=t.item.usuario?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"outline-secondary",title:"Ver Usuario"},on:{click:function(a){return e.verUsuarioCliente(t.item,t.index,a.target)}}},[a("i",{staticClass:"far fa-user"})]):e._e()]}},{key:"cell(sendWS)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"success",title:"Whatsapp"},on:{click:function(a){return e.enviarWs(t.item)}}},[a("i",{staticClass:"fab fa-whatsapp"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary",title:"Llamar"},on:{click:function(a){return e.llamar(t.item)}}},[a("i",{staticClass:"fas fa-phone-alt"})])]}},{key:"cell(documentacion)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"outline-warning",title:"Ver Documentación"},on:{click:function(a){return e.infoDocLaboral(t.item)}}},[a("i",{staticClass:"fas fa-book"})])]}},{key:"cell(descargar)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"info",title:"Descargar Nota"},on:{click:function(a){return e.DescargarNotaRemision(t.item.folio)}}},[a("i",{staticClass:"fa fa-download"})])]}},{key:"cell(cancelar)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{disabled:"P"!==t.item.estatus,size:"sm",variant:"danger",title:"Cancelar Nota"},on:{click:function(a){return e.CancelarNotaRemision(t.item)}}},[a("i",{staticClass:"fa fa-times"})])]}},{key:"cell(mostrarNotaRemision)",fn:function(t){return[a("button",{staticClass:"btn btn-sm btn-primary mr-1",attrs:{size:"sm",title:"Mostrar"},on:{click:function(a){return e.mostrarPdfNotaRemision(t.item)}}},[a("i",{staticClass:"fa fa-eye"})]),a("b-modal",{ref:"showPdf"+t.item.idNotasRemisionEnc,attrs:{centered:"",size:"lg","hide-footer":"","hide-header":"","hide-header-close":""}},[a("div",{staticClass:"container pt-0 mb-1"},[a("div",{staticClass:"row justify-content-end"},[a("div",{staticClass:"col-3 text-right pr-0"},[a("button",{staticClass:"btn btn-sm btn-secondary ml-2",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Abrir"},on:{click:e.AbrirPdfNotaRemision}},[a("i",{staticClass:"fas fa-file"})]),a("button",{staticClass:"btn btn-sm btn-secondary ml-2",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Descargar"},on:{click:e.DescargarPdfNotaRemision}},[a("i",{staticClass:"fas fa-file-download"})])])])]),a("vue-pdf-app",{staticStyle:{height:"100vh"},attrs:{pdf:e.pdf,config:e.config,id:"Iframe"}})],1)]}},{key:"cell(action)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Ver Detalle",variant:"warning"},on:{click:function(a){return e.modal(t.item,t.index,a.target)}}},[a("i",{staticClass:"fa fa-eye"})])]}},{key:"cell(estatus)",fn:function(t){return[t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"success"}},[e._v("Activo")]):e._e(),t.item.estatus?e._e():a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Inactivo")])]}},{key:"cell(estatusNotas)",fn:function(t){return["P"==t.item.estatus?a("b-badge",{staticClass:"p-2",staticStyle:{width:"130px"},attrs:{variant:"success"}},[e._v("Pendiente Salida")]):e._e(),"C"==t.item.estatus?a("b-badge",{staticClass:"p-2",staticStyle:{width:"130px"},attrs:{variant:"danger"}},[e._v("Cancelado")]):e._e(),"S"==t.item.estatus?a("b-badge",{staticClass:"p-2",staticStyle:{width:"130px"},attrs:{variant:"primary"}},[e._v("Surtiendo")]):e._e()]}},{key:"cell(entradasalida)",fn:function(t){return[t.item.entrada?a("b-badge",{staticClass:"p-2",attrs:{variant:"primary"}},[e._v("Entrada")]):e._e(),t.item.entrada?e._e():a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Salida")])]}},{key:"cell(cancelarPedidoCierre)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{disabled:"P"!==t.item.estatus,size:"sm",variant:"danger",title:"Cancelar Cierre"},on:{click:function(a){return e.CancelarPedidoCierre(t.item)}}},[a("i",{staticClass:"fa fa-times"})])]}},{key:"cell(pedidosDetenidos)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Aceptar",variant:"success"},on:{click:function(a){return e.AceptarPedido(t.item)}}},[a("i",{staticClass:"fa fa-check"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Rechazar",variant:"danger"},on:{click:function(a){return e.CancelarPedido(t.item)}}},[a("i",{staticClass:"fa fa-times"})])]}},{key:"cell(actionsUsuarios)",fn:function(t){return["A"===t.item.estatus?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Desactivar",variant:"danger"},on:{click:function(a){return e.ModificarEstatusUsuario(t.item)}}},[a("i",{staticClass:"fa fa-times"}),e._v(" Desactivar ")]):e._e(),"I"==t.item.estatus?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Activar",variant:"info"},on:{click:function(a){return e.ModificarEstatusUsuario(t.item)}}},[a("i",{staticClass:"fa fa-check"}),e._v(" Activar ")]):e._e()]}},{key:"cell(estatusCliente)",fn:function(t){return["A "===t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"success"}},[e._v(" Activo ")]):e._e(),"D "===t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"warning"}},[e._v(" Detenido ")]):e._e(),"DC"===t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"warning"}},[e._v(" Detenido Límite Crédito ")]):e._e()]}},{key:"cell(actionsClientes)",fn:function(t){return["A "===t.item.estatusNuevo?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Detener Cliente",variant:"danger"},on:{click:function(a){return e.ModificarEstatusCliente(t.item)}}},[a("i",{staticClass:"fa fa-times"}),e._v(" Detener ")]):e._e(),"A "!=t.item.estatusNuevo?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Activar Cliente",variant:"primary"},on:{click:function(a){return e.ModificarEstatusCliente(t.item)}}},[a("i",{staticClass:"fa fa-check"}),e._v(" Activar ")]):e._e()]}},{key:"cell(estatusEquipos)",fn:function(t){return[!0===t.item.estatus?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Desactivar",variant:"danger"},on:{click:function(a){return e.ModificarEstatusEquipo(t.item)}}},[a("i",{staticClass:"fa fa-times"}),e._v(" Desactivar ")]):e._e(),!1===t.item.estatus?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Activar",variant:"info"},on:{click:function(a){return e.ModificarEstatusEquipo(t.item)}}},[a("i",{staticClass:"fa fa-check"}),e._v(" Activar ")]):e._e()]}}],null,!1,106585426)}),a("b-modal",{attrs:{id:e.infoModal.id,title:e.infoModal.title,"ok-only":"",codigo:e.infoModal.codigo,"hide-footer":""},on:{hide:e.resetInfoModal}},[e._l(e.infoModal.content,(function(t,o){return a("tr",{key:o},[a("th",[e._v(e._s(o))]),a("td",[e._v(e._s(t))])])})),a("b-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"mt-3",attrs:{variant:"outline-primary",block:"",to:e.rutaNuevo+"?id="+e.idSeleccionado}},[a("i",{staticClass:"fa fa-eye"}),e._v(" Más información")])],2),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),a("b-modal",{attrs:{id:"modal-1"}},[a("div",{staticClass:"d-block"},[e._v("Hello From My Modal!")])])],1):e._e()],1)},te=[],ae=(a("99af"),a("d81d"),a("3ca3"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ddb0"),a("2b3d"),{obtenerNotasRemision:function(){return D.get("/cobranza/obtenerNotasRemision").then((function(e){return console.log(e),e.data})).catch((function(e){return e}))},ObtenerDatosReporte:function(e){return D.get("/cobranza/obtenerNotasRemision/".concat(e)).then((function(e){return console.log(e),e.data})).catch((function(e){return e}))},obtenerNotasRemisionSurtiendo:function(){return D.get("/cobranza/obtener-notas-surtiendo").then((function(e){return console.log(e),e.data})).catch((function(e){return e}))},obtenerNotasRemisionEntradasSalidas:function(e){return D.get("/cobranza/obtener-notas-remision/".concat(e)).then((function(e){return console.log(e),e.data})).catch((function(e){return e}))},obtenerNotasRemisionCobranza:function(e,t){return D.get("/cobranza/obtener-notas-remision-cobranza/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))},guardarPago:function(e,t){return D.post("/cobranza/notas-remision-guardar-pago/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerNotaRemisionCobranza:function(e){return D.get("/cobranza/obtener-nota-remision-cobranza/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerDetalleAbonos:function(e){return D.get("/cobranza/obtener-detalle-abonos-nota-remision-cobranza/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))}}),oe=ae,re={obtenerUltimoFolioGinco:function(){return D.get("/dosificador/ultimo-folio-ginco").then((function(e){return e.data})).catch((function(e){return e}))},obtenerNotasRemisionCanceladas:function(){return D.get("/dosificador/notasRemision-canceladas").then((function(e){return e.data})).catch((function(e){return e}))},obtenerUltimoFolioNR:function(){return D.get("/dosificador/ultimo-folio-notaRemision").then((function(e){return e.data})).catch((function(e){return e}))},agentesClientes:function(e){return D.get("/agentes/clientes/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerFormulas:function(e){return D.get("/dosificador/formulas/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerPedido:function(e){return D.get("/dosificador/folio-pedido/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},verificarPedido:function(e){return D.get("/dosificador/verificar-notasRemision-pedido/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerOperadores:function(e){return D.get("/dosificador/operadores/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerOperadoresCamionRevolvedor:function(){return D.get("/dosificador/operadores-camion-revolvedor").then((function(e){return e.data})).catch((function(e){return e}))},obtenerOperadoresCamionBombeable:function(){return D.get("/dosificador/operadores-camion-bombeable").then((function(e){return e.data})).catch((function(e){return e}))},obtenerObras:function(e){return D.get("/dosificador/obras-clientes/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerEquipo:function(e,t){return D.get("/dosificador/equipo-operador/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerNotasEspecialRelacionadas:function(e,t){return D.get("/dosificador/notasRemision-especial/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerPdfNotaRemision:function(e){return D.get("/dosificador/notaRemision/pdf/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},guardarNotaRemision:function(e,t){return D.post("/dosificador/notaRemision/guardar",e,t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},agregarNotaRemisionEspecial:function(e){return D.post("/dosificador/notaRemision/agregar-nota",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},cancelarNotaRemision:function(e){return D.post("/dosificador/notaRemision/cancelar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarFormula:function(e){return D.post("/dosificador/formula/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarProductosFormula:function(e){return D.post("/dosificador/productos-formula/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},ne=re,ie={obtenerPedidos:function(e,t,a){return D.get("/pedidos/obtener-pedidos/".concat(e,"/").concat(t,"/").concat(a)).then((function(e){return e.data})).catch((function(e){return e}))},guardarPedido:function(e){return D.post("/pedidos/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerCierres:function(e){return D.get("/pedidos/obtener-cierres/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},guardarCierre:function(e,t){return D.get("/pedidos/guardar-cierres/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerPedidosDetenidos:function(e){return D.get("/pedidos/pedidos-detenidos/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},autorizarPedidoDetenido:function(e,t,a){return D.get("/pedidos/autorizar-pedido-detenido/".concat(e,"/").concat(t,"/").concat(a)).then((function(e){return e.data})).catch((function(e){return e}))}},se=y.a.create({baseURL:"https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/distancematrix/"});ie.obtenerTiempoDistancia=function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(a,t),console.log("SERVICIO GOOGLE fuera"),e.next=4,se.get().then((function(e){console.log("SERVICIO GOOGLE ",e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie.cambiarEstatusPedido=function(e,t){return D.get("/pedidos/cambiar-estatus/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))},ie.reagendarPedido=function(e){return D.post("/pedidos/reagendar-pedido/",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e}))};var ce=ie,le={usuarios:function(){return D.get("/usuario/todos").then((function(e){return console.log(e),e.data})).catch((function(e){return e}))},tipos:function(){return D.get("/usuario/tipos").then((function(e){return console.log(e),e.data})).catch((function(e){return e}))},actualizarEstatus:function(e,t){return D.get("/usuario/actualizar-estatus/".concat(e,"/").concat(t)).then((function(e){return console.log(e),e.data})).catch((function(e){return e}))},guardarUsuario:function(e){return D.post("/usuario/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},ue=le,de={clientes:function(e){return null==e||void 0==e||0==e?D.get("/clientes/todos").then((function(e){return e.data})).catch((function(e){return e})):(console.log(e),D.get("/clientes/".concat(e)).then((function(e){return console.log(e),e.data})).catch((function(e){return e})))},clientesCombo:function(){return D.get("/clientes/clientes-combo").then((function(e){return e.data})).catch((function(e){return e}))},guardarDireccion:function(e){return D.post("/clientes/direcciones/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarContacto:function(e){return D.post("/clientes/contactos/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarCliente:function(e){return D.post("/clientes/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarClienteForzar:function(e){return D.post("/clientes/cliente-forzar/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarUsuario:function(e){return D.post("/clientes/guardarUsuarioCliente",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerUsuario:function(e){return D.get("/clientes/obtenerUsuarioCliente/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},sugerirUsuario:function(e){return D.get("/clientes/sugerenciaUsuario/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerClientesAgente:function(e){return D.get("/clientes/clientes-agente/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerClientesDetenidos:function(){return D.get("/clientes/clientes-detenidos/").then((function(e){return e.data})).catch((function(e){return e}))},obtenerDireccion:function(e){return D.get("/clientes/direccion/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerClientesCobranza:function(){return D.get("/clientes/cobranza/").then((function(e){return e.data})).catch((function(e){return e}))},actualizarEstatusCliente:function(e,t){return D.get("/clientes/actualizar-estatus/".concat(e,"/").concat(t)).then((function(e){return console.log(e),e.data})).catch((function(e){return e}))}},me=de,pe={equipos:function(e){return null==e||void 0==e||0==e?D.get("/equipos/todos").then((function(e){return e.data})).catch((function(e){return e})):D.get("/equipos/".concat(e)).then((function(e){return console.log("EQUIPO ",e.data),e.data})).catch((function(e){return e}))},guardar:function(e){return console.log(e),D.post("/equipos/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e}))},marcas:function(e){return e=null==e||void 0==e?0:e,D.get("/equipos/marcas/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},modelos:function(e){return e=null==e||void 0==e?0:e,D.get("/equipos/modelos/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},marcasCombo:function(){return D.get("/equipos/marcasCombo").then((function(e){return e.data})).catch((function(e){return e}))},modelosCombo:function(){return D.get("/equipos/modelosCombo").then((function(e){return e.data})).catch((function(e){return e}))},tanquesDiesel:function(e){return e=null==e||void 0==e?0:e,D.get("/equipos/tanques/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},tipoEquipoCombo:function(){return D.get("/equipos/tipoEquipoCombo").then((function(e){return e.data})).catch((function(e){return e}))},obtenerConsumiblesCombo:function(){return D.get("/equipos/consumiblesCombo").then((function(e){return e.data})).catch((function(e){return e}))},guardarMarca:function(e){return D.post("/equipos/guardar/marca",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e}))},guardarModelo:function(e){return D.post("/equipos/guardar/modelo",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e}))},guardarTanque:function(e){return D.post("/equipos/guardar/tanque",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e}))},tiposEquipo:function(e){return e=null==e||void 0==e?0:e,D.get("/equipos/tiposEquipo/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},guardarTipoEquipo:function(e){return D.post("/equipos/guardar/tipoEquipo",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e}))},entradasSalidas:function(e){return D.get("/equipos/entradasSalidas/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},actualizarEstatusEquipo:function(e,t){return D.get("/equipos/actualizar-estatus/".concat(e,"/").concat(t)).then((function(e){return console.log(e),e.data})).catch((function(e){return e}))}},fe=pe,be={props:["items","fields","rutaNuevo","permisoEscritura","modalEspecial"],data:function(){return{observacion:"",modalShow:!1,config:{toolbar:!1},mostrarPdf:!1,pdfBase64:"",pdf:"",totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],componentsModal:[],infoModal:{id:"info-modal",title:"",content:"",codigo:""},currentSection:document.location.href.split("/"),idSeleccionado:0}},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},mounted:function(){var e=this;console.log("----\x3e"+this.items.length),setTimeout((function(){e.totalRows=e.items.length}),1e3)},methods:{redirect:function(){var e=this;setTimeout((function(){e.$router.push({path:"".concat(e.rutaNuevo,"0")})}),500)},redirectID:function(e){var t=this;this.$loading(!0),setTimeout((function(){t.$router.push({name:t.rutaNuevo,params:{id:e.codigo}}),t.$loading(!1)}),500)},generarUsuario:function(e,t,a){this.modal(e,t,a,"generarUsuario")},verUsuarioCliente:function(e,t,a){this.modal(e,t,a,"verUsuarioCte")},infoDocLaboral:function(e){this.$router.push({path:"Empleados/Documentacion/".concat(e.codEmpleado)})},modalEmit:function(e,t){var a={item:e,index:t};this.$emit("show-modal",a)},modal:function(e,t,a,o){var r="";switch(this.idSeleccionado=e.codigo,o=void 0==o?this.currentSection[this.currentSection.length-1].toLowerCase():o,o){case"clientes":this.infoModal.title="Datos del cliente ".concat(e.nombreCompleto),r+='{ "RFC": "'.concat(e.rFC,'", "Teléfono": "').concat(e.telefono,'","Celular": "').concat(e.celular,'","Correo": "').concat(e.correo,'",'),r+='"Registrado": "'.concat(e.fechaCorta,'","Crédito": "').concat(e.creditoFormat,'" }'),r=JSON.parse(r),this.infoModal.content=r,this.$root.$emit("bv::show::modal",this.infoModal.id,a);break;case"empleados":break;case"equipos":console.log(e),this.infoModal.title="Datos del equipo ".concat(e.identificador),r+='{ "Marca": "'.concat(e.marca,'", "Modelo": "').concat(e.modelo,'","Nombre": "').concat(e.descripcion,'","Numero de serie": "').concat(e.numeroSerie,'", "Numero de serie de motor " : "').concat(e.numeroSerieMotor,'",'),r+='"tipoEquipo": "'.concat(e.tipoEquipo,'" }'),r=JSON.parse(r),this.infoModal.content=r,this.$root.$emit("bv::show::modal",this.infoModal.id,a);break;case"marca-equipo":this.infoModal.title="Datos de la marca ".concat(e.descripcion),r+='{ "Marca": "'.concat(e.descripcion,'", "Estatus": "').concat(e.estatus?"Activo":"Inactivo",'"}'),r=JSON.parse(r),this.infoModal.content=r,this.$root.$emit("bv::show::modal",this.infoModal.id,a);break;case"generarUsuario":this.modalEspecial.title="Generar Usuario para el cliente ".concat(e.nombre),this.modalEspecial.codigo=e.codigo,this.$root.$emit("bv::show::modal",this.modalEspecial.id,a);break;case"verUsuarioCte":this.modalEspecial.title="Usuario para el cliente ".concat(e.nombre),this.modalEspecial.codigo=e.codigo,this.modalEspecial.disabled=!0,this.$root.$emit("bv::show::modal",this.modalEspecial.id,a);break;case"pedidos":this.infoModal.title="Datos del PEDIDO #".concat(e.folioPedido),r+="{ ",r+='"Folio pedido" : " : '.concat(e.folioPedido,'\\n\\n", '),r+='"Cliente" : " : '.concat(e.cliente,'\\n\\n",'),r+='"Fecha de Salida" : " : '.concat(e.fechaSalida,'\\n\\n",'),r+='"Hora de Salida" : " : '.concat(e.horaSalida,'\\n\\n",'),r+='"Obra" : " : '.concat(e.obra,'\\n\\n",'),r+='"Cantidad" : " : '.concat(e.cantidad,' m³\\n\\n",'),r+='"Cierre" : " : '.concat(e.cierre,'\\n\\n",'),r+='"Cantidad Cierre" : " : '.concat(e.cantidadCierre,' m³\\n\\n",'),r+='"Vendedor" : " : '.concat(e.vendedor,'\\n\\n",'),r+='"Usuario" : " : '.concat(e.usuario,'\\n\\n"'),r+='"Observación": ": '.concat(e.observacion,"\\n\\n"),r+="}",r=JSON.parse(r),this.infoModal.content=r,this.$root.$emit("bv::show::modal",this.infoModal.id,a),console.log("PEDIDO SELECCIONADO->",e);break;case"entradas-salidas":console.log(e),e.entrada?this.infoModal.title="Datos de la ENTRADA":this.infoModal.title="Datos de la SALIDA",r+="{ ",r+='"Fecha" : " : '.concat(e.fecha,'\\n\\n", '),r+='"Equipo" : " : '.concat(e.equipo,'\\n\\n",'),r+='"Operador" : " : '.concat(e.operador,'\\n\\n",'),r+='"Nota de Remisión" : " : '.concat(e.notaRemision,'\\n\\n",'),r+='"Kilometraje" : " : '.concat(e.kilometraje,'\\n\\n",'),r+='"Horometraje" : " : '.concat(e.horometraje,'\\n\\n",'),r+='"Observación" : " : '.concat(e.observacion,'\\n\\n",'),r+='"Usuario" : " : '.concat(e.usuario,'\\n\\n"'),r+="}",r=JSON.parse(r),this.infoModal.content=r,this.$root.$emit("bv::show::modal",this.infoModal.id,a);break;case"suministros":console.log(e),this.infoModal.title="Datos de la carga de SUMINISTROS",r+="{ ",r+='"Fecha" : " : '.concat(e.fecha,'\\n\\n", '),r+='"Equipo" : " : '.concat(e.equipo,'\\n\\n",'),r+='"Operador" : " : '.concat(e.operador,'\\n\\n",'),r+='"Diesel" : " : '.concat(e.diesel,'\\n\\n",'),r+='"Anticongelante" : " : '.concat(e.anticongelante,'\\n\\n",'),r+='"Aceite" : " : '.concat(e.aceite,'\\n\\n",'),r+='"Usuario" : " : '.concat(e.usuario,'\\n\\n"'),r+="}",r=JSON.parse(r),this.infoModal.content=r,this.$root.$emit("bv::show::modal",this.infoModal.id,a);break;case"notas-de-remision":this.infoModal.title="Datos de la nota #".concat(e.folio),r+="{ ",r+='"Folio nota" : " : '.concat(e.folio,'\\n\\n", '),r+='"Folio pedido" : " : '.concat(e.folioPedido,'\\n\\n", '),r+='"Cliente" : " : '.concat(e.cliente,'\\n\\n",'),r+='"Fecha" : " : '.concat(e.fechaFormato,'\\n\\n",'),r+='"Obra" : " : '.concat(e.obra,'\\n\\n",'),r+='"Operador" : " : '.concat(e.operador,'\\n\\n",'),r+='"Equipo" : " : '.concat(e.equipo,'\\n\\n",'),r+='"Producto" : " : '.concat(e.producto,'\\n\\n",'),r+='"Cantidad" : " : '.concat(e.cantidad,' m³\\n\\n",'),r+='"Vendedor" : " : '.concat(e.vendedor,'\\n\\n",'),r+='"Usuario" : " : '.concat(e.nombreUsuario,'\\n\\n"'),r+="}",r=JSON.parse(r),this.infoModal.content=r,this.$root.$emit("bv::show::modal",this.infoModal.id,a),console.log("PEDIDO SELECCIONADO->",e);break;default:}},enviarWs:function(e){window.open("https://api.whatsapp.com/send?phone=52".concat(e.celular),"_blank")},llamar:function(e){window.open("tel:+52".concat(e.celular),"_blank")},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},DescargarNotaRemision:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("folio->",e),a.next=3,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea descargar está nota de remisión?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 3:if(o=a.sent,!o.value){a.next=11;break}return a.next=7,oe.ObtenerDatosReporte(e);case 7:if(r=a.sent,!r.value){a.next=11;break}return a.next=11,t.ImprimirNota(r.data,e);case 11:case"end":return a.stop()}}),a)})))()},CancelarNotaRemision:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o,r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea cancelar está nota de remisión?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:if(o=a.sent,!o.value){a.next=18;break}return a.next=6,t.CapturarObservacion();case 6:if(!t.procederGuardado){a.next=18;break}return e.observacion=t.observacion,t.$loading(!0),a.next=11,ne.cancelarNotaRemision(e);case 11:if(r=a.sent,!r.value){a.next=17;break}return a.next=15,ne.obtenerNotasRemisionCanceladas();case 15:n=a.sent,n.value&&(i=n.data,t.$emit("actualizar-items",i));case 17:t.$loading(!1);case 18:case"end":return a.stop()}}),a)})))()},mostrarPdfNotaRemision:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$loading(!0),a.next=3,ne.obtenerPdfNotaRemision(e.idNotasRemisionEnc);case 3:if(o=a.sent,!o.value){a.next=10;break}return a.next=7,ve(o.data);case 7:t.pdf=a.sent,t.pdfBase64=o.data,t.imprimeTicket();case 10:t.$loading(!1);case 11:case"end":return a.stop()}}),a)})))()},imprimeTicket:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(console.log("asdasd"),a=window.atob(e.pdfBase64),o=a.length,r=new Uint8Array(o),n=0;n<o;n++)i=a.charCodeAt(n),r[n]=i;s=new Blob([r],{type:"application/pdf"}),c=window.URL.createObjectURL(s),window.open(c,"","height=650,width=840");case 8:case"end":return t.stop()}}),t)})))()},ImprimirNota:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log(t),o="data:application/pdf;base64,"+e,r=window.open(),r.document.write('<iframe src="'+o+'" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>'),r.print();case 5:case"end":return a.stop()}}),a)})))()},CancelarPedidoCierre:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea cancelar este cierre del pedido "+e.folioPedido+"?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 3:if(o=a.sent,!o.value){a.next=8;break}return console.log("aqui se cancelara el cierre del pedido y cambiara el estatus."),a.next=8,t.AutorizarPedidoDetenido(e.folioPedido,!1,"autorizado");case 8:case"end":return a.stop()}}),a)})))()},CancelarPedido:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("P"==e.estatus){a.next=4;break}t.$swal.fire({text:"No se puede cancelar un pedido, que no esta en estatus PENDIENTE",icon:"warning"}),a.next=11;break;case 4:return a.next=6,O.a.fire({text:"¿Desea cancelar el pedido de "+e.cliente+"?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 6:if(o=a.sent,!o.value){a.next=11;break}return console.log("aqui se cancelara el pedido y cambiara el estatus."),a.next=11,t.AutorizarPedidoDetenido(e.folioPedido,!0,"autorizado");case 11:case"end":return a.stop()}}),a)})))()},AceptarPedido:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({text:"¿Desea aceptar el pedido de "+e.cliente+"?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:a=t.sent,a.value&&console.log("aqui se aceptara el pedido y cambiara el estatus.");case 4:case"end":return t.stop()}}),t)})))()},AutorizarPedidoDetenido:function(e,t,a){var o=this;return Object(L["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o.$loading(!0),r.next=3,ce.autorizarPedidoDetenido(e,t,a).then((function(e){console.log(e),o.$loading(!1),location.reload()})).catch((function(e){console.log(e)}));case 3:case"end":return r.stop()}}),r)})))()},AbrirPdfNotaRemision:function(){var e="data:application/pdf;base64,"+this.pdfBase64,t=window.open();t.document.write('<iframe src="'+e+'" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>')},DescargarPdfNotaRemision:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Nota de remisión 1",a.href="data:application/pdf;base64,"+e.pdfBase64,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()},ImprimirPdfNotaRemision:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$swal.fire({text:"En proceso de elaboración",icon:"info"});case 1:case"end":return t.stop()}}),t)})))()},CapturarObservacion:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"Ingrese una observación:",html:'<textarea id="swal-input2" class="swal2-input" placeholder="Capture una observación" style="margin-top: 20px; margin-bottom: 20px; height: 120px;">',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",preConfirm:function(){a=O.a.getPopup().querySelector("#swal-input2").value;var e=O.a.getPopup().querySelector("#swal-input2");e.style.borderColor="",""===a&&(e.style.borderColor="red",O.a.showValidationMessage("Favor de ingresar una observación."))}});case 2:o=t.sent,r=o.value,r?(e.observacion=a,e.procederGuardado=!0):(e.procederGuardado=!1,e.errorUsuario=!1);case 5:case"end":return t.stop()}}),t)})))()},ModificarEstatusUsuario:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),o="A"==e.estatus?"DESACTIVAR":"ACTIVAR",r="A"!=e.estatus,a.next=5,O.a.fire({text:"¿Desea "+o+" el usuario "+e.usuario.toUpperCase()+"?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 5:if(n=a.sent,!n.value){a.next=9;break}return a.next=9,ue.actualizarEstatus(e.idUsuario,r).then((function(a){a.value&&(o="A"==e.estatus?"DESACTIVO":"ACTIVO",t.$swal.fire({text:"Se "+o+" correctamente el usuario "+e.usuario.toUpperCase()+".",icon:"success"}),setTimeout((function(){location.reload()}),1200)),console.log(a),t.$loading(!1),location.reload()})).catch((function(e){console.log(e)}));case 9:case"end":return a.stop()}}),a)})))()},ModificarEstatusCliente:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),o="A "==e.estatusNuevo?"DETENER":"ACTIVAR",r="A "!=e.estatusNuevo,a.next=5,O.a.fire({text:"¿Desea "+o+" el cliente "+e.nombreComercial.toUpperCase()+"?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 5:if(n=a.sent,!n.value){a.next=9;break}return a.next=9,me.actualizarEstatusCliente(e.codigo,r).then((function(a){a.value&&(o="A "==e.estatusNuevo?"DETUVO":"ACTIVO",t.$swal.fire({text:"Se "+o+" correctamente el cliente "+e.nombreComercial.toUpperCase()+".",icon:"success"}),setTimeout((function(){location.reload()}),1200)),t.$loading(!1)})).catch((function(e){console.log(e)}));case 9:case"end":return a.stop()}}),a)})))()},ModificarEstatusEquipo:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),o=1==e.estatus?"DESACTIVAR":"ACTIVAR",r=1!=e.estatus,a.next=5,O.a.fire({text:"¿Desea "+o+" el equipo "+e.nombre.toUpperCase()+"?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 5:if(n=a.sent,!n.value){a.next=9;break}return a.next=9,fe.actualizarEstatusEquipo(e.codigo,r).then((function(a){a.value&&(o=1==e.estatus?"DESACTIVO":"ACTIVO",t.$swal.fire({text:"Se "+o+" correctamente el equipo "+e.nombre.toUpperCase()+".",icon:"success"}),setTimeout((function(){location.reload()}),1200)),t.$loading(!1)})).catch((function(e){console.log(e)}));case 9:case"end":return a.stop()}}),a)})))()}}};function ve(e){return he(e)}function he(e){for(var t=window.atob(e),a=t.length,o=new Uint8Array(a),r=0;r<a;r++)o[r]=t.charCodeAt(r);return o.buffer}var ge=be,Ce=Object(m["a"])(ge,ee,te,!1,null,null,null),xe=Ce.exports,we={data:function(){return{form:{usuario:"","contraseña":"",codigo:0},modalEspecial:{id:"modal-especial",title:"",content:"",codigo:"",disabled:!1},rutaNuevo:"clientes/registro/",items:[],fields:[{key:"nombreComercial",label:"Nombre comercial",sortable:!0,sortDirection:"desc"},{key:"creditoFormat",label:"Crédito",sortable:!0,class:"text-center"},{key:"fechaCorta",label:"Registro",sortable:!0,class:"text-center"},{key:"credito",label:"Crédito Utilizado",sortable:!0,class:"text-center"},{key:"userClient",label:"Cliente-Usuario",class:"text-center"},{key:"sendWS",label:"Contactar",class:"text-center"},{key:"actions",label:"Acciones",class:"text-center"}],permisoEscritura:!0}},components:{TableSortable:xe},mounted:function(){this.consultarClientes()},methods:{resetModalEspecial:function(){this.modalEspecial.title="",this.modalEspecial.disabled=!1},cargarDatosSugeridos:function(){var e=this;this.$loading(!0),me.sugerirUsuario(this.modalEspecial.codigo).then((function(t){t.value?(e.form.usuario=t.data[0].usuario,e.form.contraseña=t.data[0].contraseña,e.form.codigo=e.modalEspecial.codigo,e.$loading(!1)):(me.obtenerUsuario(e.modalEspecial.codigo).then((function(t){e.form.usuario=t.data[0].usuario,e.form.contraseña=t.data[0].contraseña,e.modalEspecial.disabled=!0})),e.$loading(!1))})).catch((function(e){console.error(e)}))},aceptarNombreUsuario:function(){var e=this;this.$loading(!0);var t=this.form;me.guardarUsuario(t).then((function(t){e.$loading(!1),t.value?(e.$swal.fire({text:t.message,icon:"success"}),e.consultarClientes()):e.$swal.fire({text:t.message,icon:"warning"})})).catch((function(e){console.error(e)}))},consultarClientes:function(){var e=this;this.$loading(!0),me.clientes().then((function(t){console.log(t),e.items=t.data.cliente,e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}))}}},ke=we,_e=Object(m["a"])(ke,Z,Q,!1,null,"ce7bb61e",null),Re=_e.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container py-5"},[e._m(0),a("b-tabs",{staticClass:"py-3",attrs:{"content-class":"mt-3",fill:""}},[a("b-tab",{attrs:{active:e.activeGeneral},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"fas fa-list"}),e._v(" General ")]},proxy:!0}])},[a("div",{staticClass:"py-1"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12"},[a("label",{staticClass:"mt-3"},[e._v("Vendedor "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("div",{staticClass:"input-group"},[a("b-form-select",{attrs:{id:"cboVendedor",required:"",options:e.vendedores,disabled:e.disabledVendedor},model:{value:e.form.codVendedor,callback:function(t){e.$set(e.form,"codVendedor",t)},expression:"form.codVendedor"}})],1)]),a("b-col",{staticClass:"col-md-6 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"cboRegimenFiscal"}},[e._v("Regimen Fiscal "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-select",{attrs:{options:e.optionsRS,id:"cboRegimenFiscal","aria-placeholder":"Seleccione..."},model:{value:e.form.regimenFiscal,callback:function(t){e.$set(e.form,"regimenFiscal",t)},expression:"form.regimenFiscal"}})],1)],1),"PM"==e.form.regimenFiscal?a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtRazonSocial"}},[e._v("Razón Social "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtRazonSocial",type:"text",placeholder:"Razón Social",required:"PM"==e.form.regimenFiscal,autocomplete:"off"},model:{value:e.form.razonSocial,callback:function(t){e.$set(e.form,"razonSocial",t)},expression:"form.razonSocial"}})],1),a("b-col",{staticClass:"col-md-6 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtNombreComercial"}},[e._v("Nombre Comercial "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtNombreComercial",type:"text",placeholder:"Nombre Comercial",required:"PM"==e.form.regimenFiscal,autocomplete:"off"},model:{value:e.form.nombreComercial,callback:function(t){e.$set(e.form,"nombreComercial",t)},expression:"form.nombreComercial"}})],1)],1):e._e(),"PM"==e.form.regimenFiscal?a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("div",{staticClass:"row mt-4 ml-4 mb-4"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rfcGenerico,expression:"form.rfcGenerico"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"rfcGenerico"},domProps:{checked:Array.isArray(e.form.rfcGenerico)?e._i(e.form.rfcGenerico,null)>-1:e.form.rfcGenerico},on:{change:function(t){var a=e.form.rfcGenerico,o=t.target,r=!!o.checked;if(Array.isArray(a)){var n=null,i=e._i(a,n);o.checked?i<0&&e.$set(e.form,"rfcGenerico",a.concat([n])):i>-1&&e.$set(e.form,"rfcGenerico",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.form,"rfcGenerico",r)}}}),a("label",{staticClass:"custom-control-label mt-3",attrs:{for:"rfcGenerico"}},[e._v("RFC GENÉRICO")])])])]),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtRFC"}},[e._v("RFC "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{staticClass:"text-uppercase",attrs:{id:"txtRFC",type:"text",disabled:e.form.rfcGenerico,required:"PM"==e.form.regimenFiscal,placeholder:"RFC..."},model:{value:e.form.rFC,callback:function(t){e.$set(e.form,"rFC",t)},expression:"form.rFC"}})],1)],1):e._e(),"PF"==e.form.regimenFiscal?a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtNombre"}},[e._v("Nombre "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtNombre",type:"text",required:"PF"==e.form.regimenFiscal,placeholder:"Nombre(s)"},model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtApellidoP"}},[e._v("Apellido Paterno "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtApellidoP",type:"text",required:"PF"==e.form.regimenFiscal,placeholder:"Apellido Paterno"},model:{value:e.form.apellidoP,callback:function(t){e.$set(e.form,"apellidoP",t)},expression:"form.apellidoP"}})],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtApellidoM"}},[e._v("Apellido Materno")]),a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtApellidoM",type:"text",placeholder:"Apellido Materno"},model:{value:e.form.apellidoM,callback:function(t){e.$set(e.form,"apellidoM",t)},expression:"form.apellidoM"}})],1)],1):e._e(),"PF"==e.form.regimenFiscal?a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("div",{staticClass:"row mt-4 ml-4 mb-4"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rfcGenerico,expression:"form.rfcGenerico"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"rfcGenerico"},domProps:{checked:Array.isArray(e.form.rfcGenerico)?e._i(e.form.rfcGenerico,null)>-1:e.form.rfcGenerico},on:{change:function(t){var a=e.form.rfcGenerico,o=t.target,r=!!o.checked;if(Array.isArray(a)){var n=null,i=e._i(a,n);o.checked?i<0&&e.$set(e.form,"rfcGenerico",a.concat([n])):i>-1&&e.$set(e.form,"rfcGenerico",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.form,"rfcGenerico",r)}}}),a("label",{staticClass:"mt-3 custom-control-label",attrs:{for:"rfcGenerico"}},[e._v("RFC GENÉRICO")])])])]),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtRFC"}},[e._v("RFC "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{staticClass:"text-uppercase",attrs:{id:"txtRFC",type:"text",disabled:e.form.rfcGenerico,placeholder:"RFC...",required:"PF"==e.form.regimenFiscal},model:{value:e.form.rFC,callback:function(t){e.$set(e.form,"rFC",t)},expression:"form.rFC"}})],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtNombreComercial"}},[e._v("Nombre Comercial "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{attrs:{id:"txtNombreComercial",type:"text",required:"PF"==e.form.regimenFiscal,placeholder:"Nombre Comercial..."},model:{value:e.form.nombreComercial,callback:function(t){e.$set(e.form,"nombreComercial",t)},expression:"form.nombreComercial"}})],1)],1):e._e(),null!=e.form.regimenFiscal?a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtTelefono"}},[e._v("Número de teléfono "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{attrs:{id:"txtTelefono",type:"text",required:"",placeholder:"Número de teléfono..."},model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono",t)},expression:"form.telefono"}})],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtCelular"}},[e._v("Número de celular "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{attrs:{id:"txtCelular",type:"text",required:"",placeholder:"Número de celular..."},model:{value:e.form.celular,callback:function(t){e.$set(e.form,"celular",t)},expression:"form.celular"}})],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("label",{staticClass:"mt-3",attrs:{for:"txtCorreoE"}},[e._v("Correo electrónico "),a("span",{staticClass:"text-danger"},[e._v(" *")])]),a("b-form-input",{attrs:{id:"txtCorreoE",type:"text",required:"",placeholder:"Correo electrónico..."},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo",t)},expression:"form.correo"}})],1)],1):e._e(),a("b-row"),a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-block",on:{click:e.MostrarAgregarDireccionesFiscas}},[a("span",{staticClass:"align-text-bottom"},[a("i",{staticClass:"fas fa-map-marked-alt"}),e._v(" Agregar Direcciones Fiscales "),e.mostrarDireccionFiscal?a("i",{staticClass:"fas fa-arrow-circle-down float-right"}):e._e(),e.mostrarDireccionFiscal?e._e():a("i",{staticClass:"fas fa-arrow-circle-up float-right"})])]),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:null!=e.form.regimenFiscal&&e.mostrarDireccionFiscal,expression:"form.regimenFiscal != null && mostrarDireccionFiscal"}],staticClass:"py-1"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-12 col-sm-12 col-12"},[a("div",[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Código Postal:","label-align-sm":"right","label-for":"txtCPFiscal"}},[a("b-form-input",{attrs:{id:"txtCPFiscal",max:"99999"},model:{value:e.form.direccionFiscal.cP,callback:function(t){e.$set(e.form.direccionFiscal,"cP",t)},expression:"form.direccionFiscal.cP"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Municipio:","label-align-sm":"right","label-for":"txtMunicipioFiscal"}},[a("b-form-input",{attrs:{id:"txtMunicipioFiscal"},model:{value:e.form.direccionFiscal.municipio,callback:function(t){e.$set(e.form.direccionFiscal,"municipio",t)},expression:"form.direccionFiscal.municipio"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Colonia:","label-align-sm":"right","label-for":"cboColoniaFiscal"}},[a("b-form-select",{attrs:{options:e.coloniasFiscales,id:"cboColoniaFiscal","aria-placeholder":"Seleccione..."},model:{value:e.form.direccionFiscal.codColonia,callback:function(t){e.$set(e.form.direccionFiscal,"codColonia",t)},expression:"form.direccionFiscal.codColonia"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Calle y número:","label-align-sm":"right","label-for":"txtCalleFiscal"}},[a("b-form-input",{attrs:{id:"txtCalleFiscal"},model:{value:e.form.direccionFiscal.calleNumero,callback:function(t){e.$set(e.form.direccionFiscal,"calleNumero",t)},expression:"form.direccionFiscal.calleNumero"}})],1),a("google-map",{ref:"mapFiscal",attrs:{searchLocation:e.searchLocationFiscal}}),a("b-row",[a("b-col",{staticClass:"col-md-6 col-12"},[a("b-button",{staticClass:"mt-2",attrs:{block:"",variant:"outline-primary"},on:{click:function(t){return e.agregarDireccion(e.fiscal=!0)}}},[a("i",{staticClass:"fas fa-plus"}),e._v(" Agregar dirección")])],1),a("b-col",{staticClass:"col-md-6 col-12"},[a("b-button",{staticClass:"mt-2",attrs:{block:"",variant:"outline-danger"},on:{click:function(t){return e.limpiarDireccion(e.fiscal=!0)}}},[a("i",{staticClass:"fas fa-broom"}),e._v(" Limpiar dirección")])],1)],1)],1)],1)])],1)],1)],1),e.itemsDireccionesFiscales.length>0?a("div",[a("label",{staticClass:"font-weight-bold"},[e._v("Direcciones fiscales de "+e._s(e.form.nombreComercial))]),a("table-sortable",{attrs:{fields:e.fieldsDireccionesFiscales,rutaNuevo:"",permisoEscritura:e.permisoEscritura,items:e.itemsDireccionesFiscales}})],1):e._e(),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)],1)]),e.mostrarDirecciones?a("b-tab",{attrs:{active:e.activeDirecciones},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"fas fa-home"}),e._v(" Obras ")]},proxy:!0}],null,!1,361570239)},[a("div",{staticClass:"py-1"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-12 col-sm-12 col-12"},[a("div",[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Obras de "+this.form.nombreComercial,"label-size":"lg","label-class":"font-weight-bold pt-0 text-uppercase"}},[a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Código Postal:","label-align-sm":"right","label-for":"txtCP"}},[a("b-form-input",{attrs:{id:"txtCPObra",max:"99999"},model:{value:e.form.direccionObra.cP,callback:function(t){e.$set(e.form.direccionObra,"cP",t)},expression:"form.direccionObra.cP"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Municipio:","label-align-sm":"right","label-for":"txtMunicipioObra"}},[a("b-form-input",{attrs:{id:"txtMunicipioObra"},model:{value:e.form.direccionObra.municipio,callback:function(t){e.$set(e.form.direccionObra,"municipio",t)},expression:"form.direccionObra.municipio"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Colonia:","label-align-sm":"right","label-for":"cboColonia"}},[a("b-form-select",{attrs:{options:e.colonias,id:"cboColoniaObra","aria-placeholder":"Seleccione..."},model:{value:e.form.direccionObra.codColonia,callback:function(t){e.$set(e.form.direccionObra,"codColonia",t)},expression:"form.direccionObra.codColonia"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Calle y número:","label-align-sm":"right","label-for":"txtCalleObra"}},[a("b-form-input",{attrs:{id:"txtCalleObra"},model:{value:e.form.direccionObra.calleNumero,callback:function(t){e.$set(e.form.direccionObra,"calleNumero",t)},expression:"form.direccionObra.calleNumero"}})],1),a("google-map",{ref:"mapObra",attrs:{searchLocation:e.searchLocationObra}}),a("b-row",[a("b-col",{staticClass:"col-md-6 col-12"},[a("b-button",{staticClass:"mt-2",attrs:{block:"",variant:"outline-primary"},on:{click:function(t){return e.agregarDireccion(e.fiscal=!1)}}},[a("i",{staticClass:"fas fa-plus"}),e._v(" Agregar dirección")])],1),a("b-col",{staticClass:"col-md-6 col-12"},[a("b-button",{staticClass:"mt-2",attrs:{block:"",variant:"outline-danger"},on:{click:function(t){return e.limpiarDireccion(e.fiscal=!1)}}},[a("i",{staticClass:"fas fa-broom"}),e._v(" Limpiar dirección")])],1)],1)],1)],1)],1)])],1)],1)],1),e.itemsDireccionesObras.length>0?a("table-sortable",{attrs:{fields:e.fieldsObras,rutaNuevo:"",permisoEscritura:e.permisoEscritura,items:e.itemsDireccionesObras}}):e._e()],1):e._e(),e.mostrarContactos?a("b-tab",{attrs:{active:e.activeContactos},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"fas fa-id-card-alt"}),e._v(" Contactos ")]},proxy:!0}],null,!1,686831905)},[a("div",{staticClass:"py-1"},[a("b-modal",{attrs:{id:"modalContactos",title:"Contacto"},on:{ok:e.guardarContacto}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("label",[a("i",{staticClass:"fas fa-id-card-alt"}),e._v(" Nombre de contacto "),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("b-form-input",{attrs:{id:"txtNombreContacto",required:"",autocomplete:"false"},model:{value:e.form.contacto.nombreContacto,callback:function(t){e.$set(e.form.contacto,"nombreContacto",t)},expression:"form.contacto.nombreContacto"}}),a("label",{staticClass:"mt-3"},[a("i",{staticClass:"fas fa-phone-alt"}),e._v(" Teléfono ")]),a("b-form-input",{attrs:{id:"txtNumeroTelefono",autocomplete:"false"},model:{value:e.form.contacto.telefono,callback:function(t){e.$set(e.form.contacto,"telefono",t)},expression:"form.contacto.telefono"}}),a("label",{staticClass:"mt-3"},[a("i",{staticClass:"fas fa-mobile-alt"}),e._v(" Teléfono Móvil ")]),a("b-form-input",{attrs:{id:"txtNumeroMovil",autocomplete:"false"},model:{value:e.form.contacto.telefonoMovil,callback:function(t){e.$set(e.form.contacto,"telefonoMovil",t)},expression:"form.contacto.telefonoMovil"}}),a("label",{staticClass:"mt-3"},[a("i",{staticClass:"far fa-envelope-open"}),e._v(" Correo ")]),a("b-form-input",{attrs:{id:"txtCorreo",autocomplete:"false"},model:{value:e.form.contacto.correo,callback:function(t){e.$set(e.form.contacto,"correo",t)},expression:"form.contacto.correo"}}),a("b-form-checkbox",{staticClass:"mt-3",attrs:{id:"checkbox-1",name:"checkbox-1"},model:{value:e.form.contacto.contactoPrincipal,callback:function(t){e.$set(e.form.contacto,"contactoPrincipal",t)},expression:"form.contacto.contactoPrincipal"}},[e._v(" Contacto Principal ")])],1)]),a("b-col",{staticClass:"col-md-12 col-sm-12 col-12"},[a("div",[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-group",{staticClass:"mb-0 col-12 form-row",attrs:{label:"Contactos de "+this.form.nombreComercial,"label-size":"lg","label-class":"font-weight-bold pt-0 text-uppercase"}})],1),a("div",{staticClass:"row table-responsive-lg"},[a("table",{staticClass:"table table-striped"},[a("thead",{staticClass:"thead-dark"},e._l(e.fieldsContactos,(function(t,o){return a("th",{key:o},[0==o?a("button",{staticClass:"btn btn-sm btn-success",on:{click:function(t){return e.addContacto(t.target)}}},[a("i",{staticClass:"fas fa-user-plus"})]):e._e(),0!=o?a("div",[e._v(" "+e._s(t)+" ")]):e._e()])})),0),e._l(e.itemsContactos,(function(t){return a("tr",{key:t.codContacto},[a("td"),a("td",[e._v(" "+e._s(t.nombreContacto)+" ")]),a("td",[e._v(" "+e._s(t.telefono)+" ")]),a("td",[e._v(" "+e._s(t.telefonoMovil)+" ")]),a("td",[e._v(" "+e._s(t.correo)+" ")])])}))],2)])],1)])],1)]):e._e(),e.permisoCobranza?a("b-tab",{attrs:{active:e.activeCredito},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"fas fa-credit-card"}),e._v(" Crédito ")]},proxy:!0}],null,!1,4244642855)}):e._e()],1)],1)},Ee=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Registro de cliente")])}],Pe=(a("7db0"),a("a434"),a("466d"),{obtenerDatosCP:function(e){return D.get("/generales/codigoPostal/".concat(e)).then((function(e){return console.log(e),e.data})).catch((function(e){return e}))},obtenerParametro:function(e){return D.get("/generales/parametro/".concat(e)).then((function(e){return console.log(e),e.data})).catch((function(e){return e}))},obtenerEmpresasCombo:function(){return D.get("/empresas/combo").then((function(e){return console.log(e),e.data})).catch((function(e){return e}))}}),$e=Pe,Oe={especificaciones:function(){return D.get("/materiales/especificaciones/todos").then((function(e){return e.data})).catch((function(e){return e}))},concretos:function(){return D.get("/materiales/concretos/todos").then((function(e){return e.data})).catch((function(e){return e}))},resistencias:function(){return D.get("/materiales/resistencias/todos").then((function(e){return e.data})).catch((function(e){return e}))},TMAS:function(){return D.get("/materiales/TMA/todos").then((function(e){return e.data})).catch((function(e){return e}))},tiposObras:function(){return D.get("/materiales/tipoObra/todos").then((function(e){return e.data})).catch((function(e){return e}))},guardarTMA:function(e){return console.log("TEEMEA ",e),D.post("/materiales/tma/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarTipoConcreto:function(e){return console.log("TIPO CONCRETO-> ",e),D.post("/materiales/concretos/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarTipoResistencia:function(e){return D.post("/materiales/resistencias/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},Se=Oe,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12"},[e._m(1),a("gmap-autocomplete",{staticClass:"form-control col-md-12 col-12",attrs:{value:e.searchLocation},on:{place_changed:e.setPlace}}),a("br")],1)]),a("GmapMap",{ref:"mapRef",staticStyle:{width:"100%",height:"360px",margin:"32px auto"},attrs:{center:e.myCoordinates,zoom:e.zoom},on:{dragend:e.handleDrag}},[a("gmap-marker",{attrs:{position:e.marker.position,draggable:!0},on:{dragend:e.handleDragMarker}})],1)],1)},De=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"max-width":"800px",margin:"0 auto",display:"flex","align-items":"center","justify-content":"space-between"}},[a("div"),a("div")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v("Lugar especifíco "),a("span",{staticClass:"text-danger"},[e._v("*")])])}],Fe=(a("b680"),{props:["searchLocation","currentLocation"],data:function(){return{map:null,myCoordinates:{lat:0,lng:0},zoom:7,center:{lat:45.508,lng:-73.587},marker:{position:{}},places:[],currentPlace:null,infoOpened:!1,infoContent:""}},created:function(){var e=this;localStorage.center?this.myCoordinates=JSON.parse(localStorage.center):this.$getLocation({}).then((function(t){e.myCoordinates=t})).catch((function(e){return alert(e)})),localStorage.zoom&&(this.zoom=parseInt(localStorage.zoom))},mounted:function(){var e=this;this.$refs.mapRef.$mapPromise.then((function(t){return e.map=t})),this.addMarker()},methods:{handleDrag:function(){var e=this.map.getZoom();localStorage.zoom=e,this.addMarker()},handleDragMarker:function(){},setPlace:function(e){this.currentPlace=e,this.addMarker()},addMarker:function(){if(this.currentPlace){var e={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.myCoordinates=e,localStorage.center=JSON.stringify(e),this.marker={position:e},this.places.push(this.currentPlace),this.center=e}else{var t=localStorage.getItem("center");this.marker={position:JSON.parse(t)},console.log(this.marker)}},geolocate:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.center={lat:t.coords.latitude,lng:t.coords.longitude}}))},toggleInfo:function(e){this.infoPosition=this.getPosition(e),this.infoContent="Obra 6 de enero",this.infoOpened=!this.infoOpened},getPosition:function(){var e,t,a,o;return{currentLocation:{lat:parseFloat(null===(e=this.marker)||void 0===e||null===(t=e.position)||void 0===t?void 0:t.lat),long:parseFloat(null===(a=this.marker)||void 0===a||null===(o=a.position)||void 0===o?void 0:o.lng)}}}},computed:{mapCoordinates:function(){return this.map?{lat:this.map.getCenter().lat().toFixed(4),lng:this.map.getCenter().lng().toFixed(4)}:{lat:0,lng:0}}}}),Te=Fe,je=Object(m["a"])(Te,Ne,De,!1,null,null,null),Ae=je.exports,Be={agentesCombo:function(){return D.get("/agentes/todosCombo").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerNotasRemisionAgente:function(e){return D.get("/agentes/notas-remision/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerClientes:function(){return D.get("/agentes/clientes").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerProductosXCliente:function(e){return D.get("/agentes/productos-cliente/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerDetalleNotasRemisionAgente:function(e){return D.get("/agentes/notas-remision-detalle/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarPrecioProducto:function(e){return D.post("/agentes/guardar-precio-productoXCliente",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},qe=Be,Me={login:function(e,t){return D.post("/seguridad/login",{usuario:e,password:t}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},verificaPermiso:function(e,t){return D.post("/seguridad/verificaPermisoModulo/".concat(t,"/").concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},Ie=Me,ze={data:function(){return{fieldsContactos:["","Nombre","Teléfono","Telefono Móvil","Correo Electrónico"],currentLocation:{lat:0,lng:0},activeGeneral:!1,activeDirecciones:!1,activeCredito:!1,activeContactos:!1,disabledVendedor:!1,permisoCobranza:!1,mostrarDirecciones:!1,mostrarDireccionFiscal:!1,mostrarContactos:!0,optionsRS:[{value:null,text:"Seleccione Regimen Fiscal..."},{value:"PM",text:"Persona Moral"},{value:"PF",text:"Persona Física"}],form:{nombre:"",apellidoP:"",apellidoM:"",rFC:"",estatus:null,tipoEmpleado:null,alias:"",telefono:"",celular:"",correo:"",credito:0,codVendedor:null,regimenFiscal:null,razonSocial:"",rfcGenerico:!1,nombreComercial:"",rFCValidate:{esValido:!1,msg:""},contacto:{codContacto:0,nombreContacto:"",telefono:"",telefonoMovil:"",correo:"",contactoPrincipal:!1},direccionObra:{cP:"",codEstado:0,estado:"",codTipoObra:0,codMunicipio:0,municipio:"",ciudad:"Culiacán Rosales",codColonia:null,colonia:"",calleNumero:"",latitud:0,longitud:0,referencia:"",uRLGoogleMaps:"",entrega:!0,fiscal:!1},direccionFiscal:{cP:"",codEstado:0,estado:"",codTipoObra:0,codMunicipio:0,municipio:"",ciudad:"Culiacán Rosales",codColonia:null,colonia:"",calleNumero:"",latitud:0,longitud:0,referencia:"",uRLGoogleMaps:"",entrega:!1,fiscal:!0}},vendedores:[{value:null,text:"Seleccione un vendedor..."}],colonias:[{value:null,text:"Seleccione una colonia..."}],coloniasFiscales:[{value:null,text:"Seleccione una colonia..."}],tiposObras:[{value:null,text:"Seleccione el tipo de obra..."}],disabledSubtipos:!0,disabledMunicipio:!0,disabledColonia:!0,disabledCP:!1,rutaNuevo:"TiposConcreto/Registro",permisoEscritura:!0,itemsDireccionesObras:[],itemsDireccionesFiscales:[],itemsContactos:[],fieldsObras:[{key:"colonia",label:"Colonia",sortable:!0,class:"text-center"},{key:"domicilio",label:"Domicilio",sortable:!0,sortDirection:"desc"},{key:"apiGoogleMaps",label:"Accion"}],fieldsDireccionesFiscales:[{key:"colonia",label:"Colonia",sortable:!0,class:"text-center"},{key:"domicilio",label:"Domicilio",sortable:!0,sortDirection:"desc"},{key:"apiGoogleMaps",label:"Accion"}]}},components:{TableSortable:xe,GoogleMap:Ae},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activeGeneral=!0,e.options=null,e.id=void 0!=e.$route.params.id?e.$route.params.id:0,e.cargaCliente(),e.permisoEscritura=!0,e.$loading(!0),t.next=8,Ie.verificaPermiso(e.usuario.idUsuario,"cobranza").then((function(t){e.permisoCobranza=t.data}));case 8:e.$loading(!1);case 9:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.usuario.agente){t.next=6;break}e.vendedores=[{value:e.usuario.codEmpleado,text:e.usuario.nombre}],e.form.codVendedor=e.vendedores[0].value,e.disabledVendedor=!0,t.next=9;break;case 6:return e.disabledVendedor=!1,t.next=9,e.obtenerVendedores();case 9:return t.next=11,e.ObtenerPermisos();case 11:case"end":return t.stop()}}),t)})))()},computed:{validationNombres:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.nombre.match(e)&&this.nombre.length>1)},validationApellidoP:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.apellidoP.match(e)&&this.apellidoP.length>1)},searchLocationObra:function(){var e,t,a="",o=this.form.direccionObra.codColonia;return null!=o&&(a=this.colonias.find((function(e){return e.value==o}))),"".concat(this.form.direccionObra.calleNumero," ").concat(void 0==(null===(e=a)||void 0===e?void 0:e.text)?"":null===(t=a)||void 0===t?void 0:t.text)},searchLocationFiscal:function(){var e,t,a="",o=this.form.direccionFiscal.codColonia;return null!=o&&(a=this.coloniasFiscales.find((function(e){return e.value==o}))),"".concat(this.form.direccionFiscal.calleNumero," ").concat(void 0==(null===(e=a)||void 0===e?void 0:e.text)?"":null===(t=a)||void 0===t?void 0:t.text)}},watch:{"form.direccionFiscal.cP":function(e,t){e!=t&&(this.form.direccionFiscal.codColonia=null,5==e.length?this.obtenerDatosCP(!0):(this.coloniasFiscales=[{value:null,text:"Seleccione una colonia..."}],this.form.direccionFiscal.municipio=""))},"form.direccionObra.cP":function(e,t){e!=t&&(this.form.direccionObra.codColonia=null,5==e.length?this.obtenerDatosCP(!1):(this.colonias=[{value:null,text:"Seleccione una colonia..."}],this.form.direccionFiscal.municipio=""))},"form.rFC":function(e){void 0!=this.form.rFC&&(this.form.rFC=this.form.rFC.toUpperCase(),/^([A-Z,Ñ,&]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[A-Z|\d]{3})$/.test(e)?(this.form.rFCValidate.esValido=!0,this.form.rFCValidate.msg="El RFC es válido"):(this.form.rFCValidate.esValido=!1,this.form.rFCValidate.msg="El RFC NO es válido"))},"form.rfcGenerico":function(e){this.form.rFC=e?"XAXX010101000":""}},methods:{onSubmit:function(e){e.preventDefault(),this.guardarCliente()},limpiar:function(){var e=this;this.$swal.fire({title:"¿ Está seguro ?",text:"Se limpiarán todos los campos del formulario...",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, limpiar!"}).then((function(t){t.value&&(e.form.nombre="",e.form.apellidoP="",e.form.apellidoM="",e.form.rFC="",e.form.regimenFiscal=null,e.form.alias="",e.form.telefono="",e.form.celular="",e.form.correo="",e.form.fechaRegistro="",e.form.credito=null,e.form.codVendedor=null)}))},MostrarAgregarDireccionesFiscas:function(e){this.mostrarDireccionFiscal=!this.mostrarDireccionFiscal,e.preventDefault()},guardarCliente:function(){var e=this,t={codigo:this.id,nombre:this.form.nombre,nombreCompleto:"",apellidoP:this.form.apellidoP,apellidoM:this.form.apellidoM,rFC:this.form.rFC,regimenFiscal:this.form.regimenFiscal,alias:this.form.alias,telefono:this.form.telefono,celular:this.form.celular,correo:this.form.correo,nombreComercial:this.form.nombreComercial,razonSocial:this.form.razonSocial,codEmpleadoVendedor:this.form.codVendedor};me.guardarCliente(t).then((function(t){if(t.value){var a=t.data[0];e.$swal.fire({text:"El cliente ".concat(e.form.nombre," se ha guardado exitosamente!"),icon:"success"}),e.id=a,e.mostrarDirecciones=!0,e.activeDirecciones=!0}else e.$swal.fire({text:"No se pudo guardar el cliente, contacte a sistemas",icon:"error"})}))},guardarContacto:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),a={codCliente:e.id,codContacto:e.form.contacto.codContacto,nombreContacto:e.form.contacto.nombreContacto,telefonoMovil:e.form.contacto.telefonoMovil,correo:e.form.contacto.correo,contactoPrincipal:e.form.contacto.contactoPrincipal},t.next=4,me.guardarContacto(a).then((function(t){console.log(t);var a=t.value?"success":"error";e.$swal.fire({text:t.message,icon:a}),e.cargaCliente()}));case 4:e.$loading(!1);case 5:case"end":return t.stop()}}),t)})))()},obtenerVendedores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,qe.agentesCombo().then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codVendedor,text:t.nombreVendedor};e.vendedores.push(a)}))}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},consultaTiposObras:function(){var e=this;Se.tiposObras().then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codigo,text:t.descripcionCorta};e.tiposObras.push(a)}))}))},cargaCliente:function(){var e=this;this.id>0&&(this.$loading(!0),me.clientes(this.id).then((function(t){var a,o;t.value?(e.mostrarDirecciones=!0,e.form.nombreComercial=t.data.cliente[0].nombreComercial,e.form.razonSocial=t.data.cliente[0].razonSocial,e.form.nombre=t.data.cliente[0].nombre,e.form.apellidoP=t.data.cliente[0].apellidoP,e.form.apellidoM=t.data.cliente[0].apellidoM,e.form.rFC=t.data.cliente[0].rFC,e.form.estatus=t.data.cliente[0].estatus,e.form.tipoEmpleado=t.data.cliente[0].tipoEmpleado,e.form.alias=t.data.cliente[0].alias,e.form.telefono=t.data.cliente[0].telefono,e.form.celular=t.data.cliente[0].celular,e.form.correo=t.data.cliente[0].correo,e.form.credito=t.data.cliente[0].creditoFormat,e.form.codVendedor=t.data.cliente[0].codEmpleadoVendedor,e.form.regimenFiscal=t.data.cliente[0].regimenFiscal,e.itemsDireccionesFiscales=[],e.itemsDireccionesObras=[],console.log("Direcciones -> ",null===(a=t.data)||void 0===a?void 0:a.direccionesXCliente),null===(o=t.data)||void 0===o||o.direccionesXCliente.forEach((function(t){t.fiscal&&!t.entrega?e.itemsDireccionesFiscales.push(t):t.entrega&&!t.fiscal&&e.itemsDireccionesObras.push(t)})),e.itemsContactos=t.data.contactosXCliente,e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:"".concat(t.message),icon:"error"}),setTimeout((function(){e.$router.push({path:"."})}),1e3))})))},addContacto:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$root.$emit("bv::show::modal","modalContactos",e);case 1:case"end":return a.stop()}}),a)})))()},agregarDireccion:function(e){var t=this,a=null;if(e){var o=this.$refs.mapFiscal.getPosition();this.form.direccionFiscal.latitud=o.currentLocation.lat,this.form.direccionFiscal.longitud=o.currentLocation.long,a={codigo:this.form.direccionFiscal.codigo,codCliente:this.id,cP:this.form.direccionFiscal.cP,codEstado:this.form.direccionFiscal.codEstado,codColonia:this.form.direccionFiscal.codColonia,calleNumero:this.form.direccionFiscal.calleNumero,codTipoObra:this.form.direccionFiscal.codTipoObra,referencia:this.form.direccionFiscal.referencia,uRLGoogleMaps:this.form.direccionFiscal.uRLGoogleMaps,latitud:this.form.direccionFiscal.latitud,longitud:this.form.direccionFiscal.longitud,fiscal:this.form.direccionFiscal.fiscal,entrega:this.form.direccionFiscal.entrega}}else{var r=this.$refs.mapObra.getPosition();this.form.direccionObra.latitud=r.currentLocation.lat,this.form.direccionObra.longitud=r.currentLocation.long,a={codigo:this.form.direccionObra.codigo,codCliente:this.id,cP:this.form.direccionObra.cP,codEstado:this.form.direccionObra.codEstado,codColonia:this.form.direccionObra.codColonia,calleNumero:this.form.direccionObra.calleNumero,codTipoObra:this.form.direccionObra.codTipoObra,referencia:this.form.direccionObra.referencia,uRLGoogleMaps:this.form.direccionObra.uRLGoogleMaps,latitud:this.form.direccionObra.latitud,longitud:this.form.direccionObra.longitud,fiscal:this.form.direccionObra.fiscal,entrega:this.form.direccionObra.entrega}}me.guardarDireccion(a).then((function(o){console.log("DIRECCION ",a),o.value?(t.$swal.fire({text:o.message,icon:"success"}),t.cargaCliente(),t.limpiarDireccion(e)):t.$swal.fire({text:"".concat(o.message),icon:"error"})})).catch((function(e){t.$swal.fire({text:"".concat(e.message),icon:"error"})}))},limpiarDireccion:function(e){e?(this.form.direccionFiscal.cP="",this.form.direccionFiscal.codEstado=0,this.form.direccionFiscal.estado="",this.form.direccionFiscal.codMunicipio=0,this.form.direccionFiscal.municipio="",this.form.direccionFiscal.codColonia=null,this.form.direccionFiscal.codTipoObra=0,this.form.colonia="",this.disabledCP=!1,this.form.direccionFiscal.calleNumero="",this.form.direccionFiscal.fiscal=!0,this.form.direccionFiscal.entrega=!1,this.coloniasFiscales=[{value:null,text:"Seleccione una colonia..."}]):(this.form.direccionObra.cP="",this.form.direccionObra.codEstado=0,this.form.direccionObra.estado="",this.form.direccionObra.codMunicipio=0,this.form.direccionObra.municipio="",this.form.direccionObra.codColonia=null,this.form.direccionObra.codTipoObra=0,this.form.colonia="",this.disabledCP=!1,this.form.direccionObra.calleNumero="",this.form.direccionObra.fiscal=!1,this.form.direccionObra.entrega=!0,this.colonias=[{value:null,text:"Seleccione una colonia..."}])},obtenerDatosCP:function(e){var t=this;this.$loading(!0),e?(this.$loading(!0),$e.obtenerDatosCP(this.form.direccionFiscal.cP).then((function(e){e.value?(e.data.forEach((function(e){t.coloniasFiscales.push({value:e.codigoColonia,text:e.colonia}),t.$loading(!1)})),t.form.direccionFiscal.codEstado=e.data[0].codigoEstado,t.form.direccionFiscal.codMunicipio=e.data[0].codigoMunicipio,t.form.direccionFiscal.municipio=e.data[0].municipio):(t.$loading(!1),t.$swal.fire({text:e.message,icon:"warning"}))}))):$e.obtenerDatosCP(this.form.direccionObra.cP).then((function(e){e.value?(e.data.forEach((function(e){t.colonias.push({value:e.codigoColonia,text:e.colonia}),t.$loading(!1)})),t.form.direccionObra.codEstado=e.data[0].codigoEstado,t.form.direccionObra.codMunicipio=e.data[0].codigoMunicipio,t.form.direccionObra.municipio=e.data[0].municipio,t.disabledCP=!0):(t.$loading(!1),t.$swal.fire({text:e.message,icon:"warning"}))}))},addTelefono:function(){this.contactos.push({codContacto:this.contactos.length+1,telefono:"",correo:""})},removeTelefono:function(e){this.contactos.splice(e,1)},ObtenerPermisos:function(){return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},cancelar:function(){var e=0==this.id?"¿Desea cancelar el registro de un nuevo cliente?":"¿Desea cancelar la actualización del cliente?";console.log(e),this.$swal.fire({title:e,text:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, volver al catálogo",cancelButtonText:"Cancelar"}).then((function(e){e.value&&window.history.back()}))}}},Ve=ze,Ge=Object(m["a"])(Ve,ye,Ee,!1,null,"6fedc07c",null),Ue=Ge.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("h3",{staticClass:"mb-4"},[e._v("Clientes Detenidos")]),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["DC"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Limite Credito")]):e._e()]}}])}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},Ke=[],He={data:function(){return{items:[],credenciales:{usuario:"",password:""},totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"nombreCompleto",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"celular",label:"Celular",sortable:!0,class:"text-center"},{key:"correo",label:"Correo",sortable:!0,class:"text-center"},{key:"estatus",label:"Estatus",class:"text-center"}]}},components:{},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerClientesDetenidos();case 2:return t.next=4,e.CargarRenglones();case 4:case"end":return t.stop()}}),t)})))()},methods:{onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},ObtenerClientesDetenidos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],e.$loading(!0),t.next=4,me.obtenerClientesDetenidos().then((function(t){e.$loading(!1),console.log(t),t.value&&(e.items=t.data)})).catch((function(t){e.$loading(!1),console.log(t)}));case 4:case"end":return t.stop()}}),t)})))()},CargarRenglones:function(){var e=this;console.log("----\x3e"+this.items.length),setTimeout((function(){e.totalRows=e.items.length}),1e3)}}},Je=He,We=Object(m["a"])(Je,Le,Ke,!1,null,null,null),Xe=We.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("b-container",{attrs:{fluid:""}},[a("b-form-group",{attrs:{label:"Filtrar tipos de usuarios:"}},[a("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.tiposEmpleados,name:"flavour-1"},on:{change:e.seleccionados},model:{value:e.selectTiposEmpleados,callback:function(t){e.selectTiposEmpleados=t},expression:"selectTiposEmpleados"}})],1)],1),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},Ze=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Empleados")])])}],Qe={empleados:function(){return D.get("/empleados/todos").then((function(e){return e.data})).catch((function(e){return e}))},obtenerPersonalCargaDiesel:function(e){return e=null==e||void 0==e||0==e?0:e,D.get("/empleados/personalCargaDiesel/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},tipos:function(){return D.get("/empleados/tipos").then((function(e){return e.data})).catch((function(e){return e}))},tiposUtilizados:function(){return D.get("/empleados/tiposUtilizados").then((function(e){return e.data})).catch((function(e){return e}))},guardarEmpleado:function(e){return D.post("/empleados/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},subtipo:function(e){return D.post("/empleados/SubTipos",{codTipo:e},{headers:{"Content-Type":"application/json"}}).then((function(e){return console.log("SUBTIPOSSS-> ",e),e.data})).catch((function(e){console.log(e)}))},obtenerEmpleado:function(e){return D.get("/Empleados/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},tiposEmpleado:function(e){return e=null==e||void 0==e?0:e,D.get("/empleados/tiposEmpleado/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},guardarTipoEmpleado:function(e){return D.post("/empleados/guardar/tipoEmpleado",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e}))}},et=Qe,tt={data:function(){return{rutaNuevo:"empleados/registro/",tiposEmpleados:[],selectTiposEmpleados:[],items:[],itemsCopy:[],fields:[{key:"nombreCompleto",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"celular",label:"Celular",sortable:!0,class:"text-center"},{key:"correo",label:"Correo",sortable:!0,class:"text-center"},{key:"tipo",label:"Area",sortable:!0,class:"text-center"},{key:"documentacion",label:"Documentos",class:"text-center"},{key:"sendWS",label:"Contactar",class:"text-center"},{key:"actions",label:"Acciones",class:"text-center"}],permisoEscritura:!0}},components:{TableSortable:xe},mounted:function(){var e=this;this.$loading(!0),et.empleados().then((function(t){e.items=t.data,e.items.forEach((function(e){null!=e.estatus&&void 0!=e.estatus&&(e._rowVariant=e.estatus?"success":"danger",e.estatus=e.estatus?"Activo":"Inactivo")})),e.itemsCopy=e.items,e.$loading(!1)})).catch((function(e){console.log(e)})),et.tiposUtilizados().then((function(t){t.data.forEach((function(t){var a={text:t.descripcion,value:t.codigo};e.tiposEmpleados.push(a)}))}))},methods:{seleccionados:function(e){var t=this;e.length>0?(this.items=[],e.forEach((function(e){var a=[];a=t.itemsCopy.filter((function(t){return t.codigoTipoEmpleado==e})),a.forEach((function(e){return t.items.push(e)}))}))):this.items=this.itemsCopy}}},at=tt,ot=Object(m["a"])(at,Ye,Ze,!1,null,"bd2636d4",null),rt=ot.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container py-5"},[e._m(0),a("div",{staticClass:"py-5"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-1",label:"Nombre *","label-for":"txtNombre"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtNombre",type:"text",required:"",placeholder:"Nombre(s)"},model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-2",label:"Apellido Paterno *","label-for":"txtApellidoP"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtApellidoP",type:"text",required:"",placeholder:"Apellido Paterno"},model:{value:e.form.apellidoP,callback:function(t){e.$set(e.form,"apellidoP",t)},expression:"form.apellidoP"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Apellido Materno *","label-for":"txtApellidoM"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtApellidoM",type:"text",required:"",placeholder:"Apellido Materno"},model:{value:e.form.apellidoM,callback:function(t){e.$set(e.form,"apellidoM",t)},expression:"form.apellidoM"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"RFC","label-for":"txtRFC"}},[a("b-form-input",{staticClass:"text-uppercase",attrs:{id:"txtRFC",type:"text",placeholder:"RFC...",state:e.form.rFCValidate.esValido},model:{value:e.form.rFC,callback:function(t){e.$set(e.form,"rFC",t)},expression:"form.rFC"}}),a("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[e._v(" Usa el formato válido para el RFC ")])],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Estatus de empleado *","label-for":"cboEstatus"}},[a("b-form-select",{attrs:{options:e.optionsEstatusEmplados,id:"cboEstatus","aria-placeholder":"Seleccione..."},model:{value:e.form.estatus,callback:function(t){e.$set(e.form,"estatus",t)},expression:"form.estatus"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Tipo/Área de empleado *","label-for":"cboTipoEmpleado"}},[a("b-form-select",{attrs:{options:e.optionsTiposEmpleados,id:"cboTipoEmpleado","aria-placeholder":"Seleccione..."},on:{change:e.consultaSubTipo},model:{value:e.form.codigoTipoEmpleado,callback:function(t){e.$set(e.form,"codigoTipoEmpleado",t)},expression:"form.codigoTipoEmpleado"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Número de teléfono *","label-for":"txtTelefono *"}},[a("b-form-input",{attrs:{id:"txtTelefono",type:"text",required:"",placeholder:"Número de teléfono..."},model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono",t)},expression:"form.telefono"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Número de celular *","label-for":"txtCelular"}},[a("b-form-input",{attrs:{id:"txtCelular",type:"text",required:"",placeholder:"Número de celular..."},model:{value:e.form.celular,callback:function(t){e.$set(e.form,"celular",t)},expression:"form.celular"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Correo electrónico *","label-for":"txtCorreoE"}},[a("b-form-input",{attrs:{id:"txtCorreoE",type:"text",required:"",placeholder:"Correo electrónico..."},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo",t)},expression:"form.correo"}})],1)],1)],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 "},[a("div",{staticClass:"card text-center"},[a("h5",{staticClass:"card-header text-left"},[e._v("Comisiones")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},e._l(e.comisiones,(function(t,o,r){return a("div",{key:r,staticClass:"custom-control col-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.comisiones[o].seleccionado,expression:"comisiones[key].seleccionado"}],staticClass:"custom-control-input",attrs:{id:o,type:"checkbox"},domProps:{checked:Array.isArray(e.comisiones[o].seleccionado)?e._i(e.comisiones[o].seleccionado,null)>-1:e.comisiones[o].seleccionado},on:{change:function(t){var a=e.comisiones[o].seleccionado,r=t.target,n=!!r.checked;if(Array.isArray(a)){var i=null,s=e._i(a,i);r.checked?s<0&&e.$set(e.comisiones[o],"seleccionado",a.concat([i])):s>-1&&e.$set(e.comisiones[o],"seleccionado",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.comisiones[o],"seleccionado",n)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:o}},[e._v(e._s(t.descripcion))])])})),0)])])])]),a("b-row",{staticClass:"mt-3"},[a("b-col",{staticClass:"col-md-12 col-sm-12 col-12"},[a("div",[a("b-card",{attrs:{"bg-variant":"light"}},[a("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Dirección","label-size":"lg","label-class":"font-weight-bold pt-0"}},[a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Código Postal:","label-align-sm":"right","label-for":"txtCP"}},[a("b-form-input",{attrs:{id:"txtCP",disabled:e.disabledCP,max:"99999"},model:{value:e.form.direccion.cP,callback:function(t){e.$set(e.form.direccion,"cP",t)},expression:"form.direccion.cP"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Municipio:","label-align-sm":"right","label-for":"txtMunicipio"}},[a("b-form-input",{attrs:{id:"txtMunicipio",disabled:e.disabledMunicipio},model:{value:e.form.direccion.municipio,callback:function(t){e.$set(e.form.direccion,"municipio",t)},expression:"form.direccion.municipio"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Colonia:","label-align-sm":"right","label-for":"txtColonia"}},[a("b-form-select",{attrs:{options:e.colonias,id:"cboColonia","aria-placeholder":"Seleccione..."},model:{value:e.form.direccion.codColonia,callback:function(t){e.$set(e.form.direccion,"codColonia",t)},expression:"form.direccion.codColonia"}})],1),a("b-form-group",{attrs:{"label-cols-sm":"3",label:"Calle y número:","label-align-sm":"right","label-for":"txtCalle"}},[a("b-form-input",{attrs:{id:"txtCalle"},model:{value:e.form.direccion.calleNumero,callback:function(t){e.$set(e.form.direccion,"calleNumero",t)},expression:"form.direccion.calleNumero"}})],1)],1)],1)],1)])],1),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)],1)])},it=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Registro de empleados")])}],st={comisiones:function(){return D.get("/comisiones/obtenerComisiones").then((function(e){return e.data})).catch((function(e){return e}))}},ct=st,lt={data:function(){return{id:0,comisiones:[],optionsEstatusEmplados:[{value:null,text:"Seleccione estatus..."},{value:!0,text:"Activo"},{value:!1,text:"Inactivo"}],form:{nombre:"",apellidoP:"",apellidoM:"",rFC:"",domicilio:"",codigoTipoEmpleado:null,codigoSubTipo:null,estatus:null,telefono:"",celular:"",correo:"",fechaRegistro:"",direccion:{cP:"",codEstado:0,estado:"",codMunicipio:0,municipio:"",codColonia:0,colonia:"",calleNumero:""},rFCValidate:{msg:"",esValido:null},codigo:"",tipo:""},colonias:[{value:null,text:"Seleccione una colonia..."}],disabledSubtipos:!0,disabledMunicipio:!0,disabledColonia:!0,disabledCP:!1,optionsTiposEmpleados:[{value:null,text:"Seleccione un tipo/área..."}],optionsSubTiposEmpleados:[{value:null,text:"Seleccione un subtipo..."}]}},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.id=void 0!=e.$route.params.id?e.$route.params.id:0,e.consultaTipoArea(),e.cargaEmpleado(),t.next=5,e.comisionesExistentes();case 5:case"end":return t.stop()}}),t)})))()},computed:{validationNombres:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.nombre.match(e)&&this.nombre.length>1)},validationApellidoP:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.apellidoP.match(e)&&this.apellidoP.length>1)}},watch:{"form.direccion.cP":function(e,t){e!=t&&(this.form.direccion.codColonia=null,5==e.length?this.obtenerDatosCP():(this.colonias=[{value:null,text:"Seleccione una colonia..."}],this.form.direccion.municipio=""))},"form.rFC":function(e){this.form.rFC=this.form.rFC.toUpperCase(),/^([A-Z,Ñ,&]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[A-Z|\d]{3})$/.test(e)?(this.form.rFCValidate.esValido=!0,this.form.rFCValidate.msg="El RFC es válido"):(this.form.rFCValidate.esValido=!1,this.form.rFCValidate.msg="El RFC NO es válido")}},methods:{onSubmit:function(e){e.preventDefault(),this.guardarEmpleado()},limpiar:function(){this.form.nombre="",this.form.apellidoP="",this.form.apellidoM="",this.form.rFC="",this.form.domicilio="",this.form.codigoTipoEmpleado=null,this.form.codigoSubTipo=null,this.form.estatus=null,this.form.telefono="",this.form.celular="",this.form.correo="",this.form.fechaRegistro=""},limpiarDireccion:function(){this.form.direccion.cP="",this.form.direccion.codEstado=0,this.form.direccion.estado="",this.form.direccion.codMunicipio=0,this.form.direccion.municipio="",this.form.direccion.codColonia=null,this.form.colonia="",this.disabledCP=!1,this.form.direccion.calleNumero="",this.colonias=[{value:null,text:"Seleccione una colonia..."}]},guardarEmpleado:function(){var e=this,t={nombre:this.form.nombre,nombreCompleto:"",apellidoP:this.form.apellidoP,apellidoM:this.form.apellidoM,rFC:this.form.rFC,codigoTipoEmpleado:this.form.codigoTipoEmpleado,estatus:this.form.estatus,telefono:this.form.telefono,celular:this.form.celular,correo:this.form.correo,direccion:this.form.direccion,codigo:this.id,comisiones:this.comisiones};console.log(t),et.guardarEmpleado(t).then((function(t){t.value?(e.$swal.fire({text:t.message,icon:"success"}),e.limpiar(),window.history.back()):e.$swal.fire({text:t.message,icon:"success"})}))},consultaTipoArea:function(){var e=this;et.tipos().then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codigo,text:t.descripcion};e.optionsTiposEmpleados.push(a)}))}))},consultaSubTipo:function(){var e=this;this.optionsSubTiposEmpleados=[{value:null,text:"Seleccione un subtipo..."}],this.codSubTipoEmpleado=null,et.subtipo(this.form.codigoTipoEmpleado).then((function(t){t.value&&(e.disabledSubtipos=0==t.data.length,t.data.forEach((function(t){var a={value:t.codSubTipoEmpleado,text:t.descripcion};e.optionsSubTiposEmpleados.push(a)})))}))},obtenerDatosCP:function(){var e=this;this.$loading(!0),$e.obtenerDatosCP(this.form.direccion.cP).then((function(t){t.value?(t.data.forEach((function(t){e.colonias.push({value:t.codigoColonia,text:t.colonia}),e.$loading(!1)})),e.form.direccion.codEstado=t.data[0].codigoEstado,e.form.direccion.codMunicipio=t.data[0].codigoMunicipio,e.form.direccion.municipio=t.data[0].municipio,e.disabledCP=!0):(e.$loading(!1),e.$swal.fire({text:t.message,icon:"warning"}))}))},cargaEmpleado:function(){var e=this;this.id>0&&(this.$loading(!0),et.obtenerEmpleado(this.id).then((function(t){t.value?(e.form.nombre=t.data.empleado[0].nombre,e.form.apellidoP=t.data.empleado[0].apellidoP,e.form.apellidoM=t.data.empleado[0].apellidoM,e.form.rFC=t.data.empleado[0].rFC,e.form.estatus=t.data.empleado[0].estatus,e.form.telefono=t.data.empleado[0].telefono,e.form.celular=t.data.empleado[0].celular,e.form.correo=t.data.empleado[0].correo,e.form.credito=t.data.empleado[0].creditoFormat,e.form.codigo=t.data.empleado[0].codigo,e.form.tipo=t.data.empleado[0].tipo,e.form.codigoTipoEmpleado=t.data.empleado[0].codigoTipoEmpleado,e.$loading(!1),console.log("EMPLEADO CARGADO->",e.form)):(e.$loading(!1),e.$swal.fire({text:"".concat(t.message),icon:"error"}),setTimeout((function(){e.$router.push({path:"."})}),1e3))})))},cancelar:function(){var e=0==this.id?"¿Desea cancelar el registro de un nuevo empleado?":"¿Desea cancelar la actualización del empleado?";console.log(e),this.$swal.fire({title:e,text:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, volver al catálogo",cancelButtonText:"Cancelar"}).then((function(e){e.value&&window.history.back()}))},comisionesExistentes:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ct.comisiones();case 2:a=t.sent,console.log(a),e.comisiones=a.data;case 5:case"end":return t.stop()}}),t)})))()}}},ut=lt,dt=Object(m["a"])(ut,nt,it,!1,null,"4ffce74f",null),mt=dt.exports,pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("div",{attrs:{role:"tablist"}},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",href:"#",variant:"primary"}},[e._v("Acta de nacimiento")])],1),a("b-collapse",{attrs:{id:"accordion-1",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("iframe",{attrs:{src:"https://concretos2h.com.mx/img/3447/818.png",width:"100%",height:"500px"}})])],1)],1)],1)])])},ft=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-5"},[a("h3",[a("i",{staticClass:"far fa-file-alt"}),e._v("Documentación")])])}],bt={data:function(){return{}},mounted:function(){},methods:{ponPDF:function(){}}},vt=bt,ht=Object(m["a"])(vt,pt,ft,!1,null,null,null),gt=ht.exports,Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},xt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-hard-hat"}),e._v(" Especificaciones de concretos")])}],wt={data:function(){return{rutaNuevo:"tipos-de-concreto/registro/",permisoEscritura:!0,items:[],fields:[{key:"descripcionCorta",label:"Abreviación",sortable:!0,sortDirection:"desc"},{key:"descripcion",label:"Descripción",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones",class:"text-center"}]}},components:{TableSortable:xe},mounted:function(){this.consultarEspecificaciones()},methods:{consultarEspecificaciones:function(){var e=this;this.$loading(!0),Se.especificaciones().then((function(t){e.items=t.data,e.$loading(!1)})).catch((function(e){console.log(e)}))}}},kt=wt,_t=Object(m["a"])(kt,Ct,xt,!1,null,null,null),Rt=_t.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},Et=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-hard-hat"}),e._v(" Tipos de concreto")])}],Pt={data:function(){return{rutaNuevo:"tipos-de-concreto/registro/",permisoEscritura:!0,items:[],fields:[{key:"descripcionCorta",label:"Descripción Corta",sortable:!0,sortDirection:"desc"},{key:"descripcion",label:"Descripción",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones",class:"text-center"}]}},components:{TableSortable:xe},mounted:function(){this.consultarTiposConcretos()},methods:{consultarTiposConcretos:function(){var e=this;this.$loading(!0),Se.concretos().then((function(t){e.items=t.data,e.$loading(!1)})).catch((function(e){console.log(e)}))}}},$t=Pt,Ot=Object(m["a"])($t,yt,Et,!1,null,null,null),St=Ot.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container py-5"},[e._m(0),a("div",{staticClass:"py-5"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-2 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Tipo de concreto","label-for":"cboConcreto"}},[a("b-form-select",{attrs:{options:e.concretos,id:"cboConcreto","aria-placeholder":"Seleccione..."},model:{value:e.form.tipoConcreto,callback:function(t){e.$set(e.form,"tipoConcreto",t)},expression:"form.tipoConcreto"}})],1)],1),a("b-col",{staticClass:"col-md-2 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-2",label:"Descripción corta *","label-for":"txtDescripcionCorta"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtDescripcionCorta",type:"text",required:"",placeholder:"Descripción corta"},model:{value:e.form.descripcionCorta,callback:function(t){e.$set(e.form,"descripcionCorta",t)},expression:"form.descripcionCorta"}})],1)],1),a("b-col",{staticClass:"col-md-6 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Descripción *","label-for":"txtDescripcion"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtDescripcion",type:"text",required:"",placeholder:"Descripción"},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1)],1),a("b-col",{staticClass:"col-md-2 col-sm-12 col-12"},[a("b-form-group",{attrs:{label:"Estatus:"}},[a("b-form-checkbox",{attrs:{id:"chckEstatus",name:"chckEstatus",switch:"",size:"lg"},model:{value:e.form.estatus,callback:function(t){e.$set(e.form,"estatus",t)},expression:"form.estatus"}},[e._v(" "+e._s(e.form.estatus?"Activo":"Inactivo")+" ")])],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)],1)])},Dt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-hard-hat"}),e._v(" Registro de tipos de concreto")])}],Ft={data:function(){return{id:0,tipoConcreto:null,form:{tipoConcreto:null,descripcionCorta:"",descripcion:"",estatus:!1},concretos:[{value:null,text:"Seleccione tipo de concreto..."}]}},mounted:function(){this.resistencia=null,this.id=void 0!=this.$route.params.id?this.$route.params.id:0,this.consultarConcreto()},computed:{validationNombres:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.nombre.match(e)&&this.nombre.length>1)},validationApellidoP:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.apellidoP.match(e)&&this.apellidoP.length>1)}},methods:{onSubmit:function(e){e.preventDefault(),this.guardarTipoConcreto()},limpiar:function(){this.form.tipoResistencia=null,this.form.descripcionCorta="",this.form.descripcion="",this.form.estatus=!1},guardarTipoConcreto:function(){var e=this,t={codigo:this.id,codTipoResistencia:this.form.tipoResistencia,descripcionCorta:this.form.descripcionCorta,descripcion:this.form.descripcion,estatus:this.form.estatus};Se.guardarTipoConcreto(t).then((function(t){t.value?(e.$swal.fire({text:t.message,icon:"success"}),window.history.back()):e.$swal.fire({text:"No se pudo guardar el tipo de concreto, contacte a sistemas",icon:"error"})}))},consultarConcreto:function(){var e=this;Se.concretos().then((function(t){t.value&&t.data.forEach((function(t){console.log(t);var a={value:t.codigo,text:t.descripcionCorta};e.concretos.push(a)}))}))},cancelar:function(){var e=0==this.id?"¿Desea cancelar el registro de un nuevo tipo de concreto?":"¿Desea cancelar la actualización del tipo de concreto?";console.log(e),this.$swal.fire({title:e,text:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, volver al catálogo",cancelButtonText:"Cancelar"}).then((function(e){e.value&&window.history.back()}))}}},Tt=Ft,jt=Object(m["a"])(Tt,Nt,Dt,!1,null,"4821d699",null),At=jt.exports,Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},qt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-hard-hat"}),e._v(" Tipos de resistencia")])}],Mt={data:function(){return{rutaNuevo:"tipos-de-resistencias/registro/",permisoEscritura:!0,items:[],fields:[{key:"tipoConcreto",label:"Tipo de concreto",sortable:!0,class:"text-center"},{key:"descripcionCorta",label:"Abreviación",sortable:!0,sortDirection:"desc"},{key:"descripcion",label:"Descripción",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones",class:"text-center"}]}},components:{TableSortable:xe},mounted:function(){this.consultarTiposConcretos()},methods:{consultarTiposConcretos:function(){var e=this;this.$loading(!0),Se.resistencias().then((function(t){e.items=t.data,e.$loading(!1)})).catch((function(e){console.log(e)}))}}},It=Mt,zt=Object(m["a"])(It,Bt,qt,!1,null,null,null),Vt=zt.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container py-5"},[e._m(0),a("div",{staticClass:"py-5"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-2",label:"Descripción corta *","label-for":"txtDescripcionCorta"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtDescripcionCorta",type:"text",required:"",placeholder:"Descripción corta"},model:{value:e.form.descripcionCorta,callback:function(t){e.$set(e.form,"descripcionCorta",t)},expression:"form.descripcionCorta"}})],1)],1),a("b-col",{staticClass:"col-md-8 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Descripción *","label-for":"txtDescripcion"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtDescripcion",type:"text",required:"",placeholder:"Descripción"},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)],1)])},Ut=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-hard-hat"}),e._v(" Registro de tipos de resistencias")])}],Lt={data:function(){return{id:0,form:{descripcionCorta:"",descripcion:""},resistencias:[{value:null,text:"Seleccione una resistencia..."}]}},mounted:function(){this.resistencia=null,this.id=void 0!=this.$route.params.id?this.$route.params.id:0,this.ConsultarResistencias()},computed:{validationNombres:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.nombre.match(e)&&this.nombre.length>1)},validationApellidoP:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.apellidoP.match(e)&&this.apellidoP.length>1)}},methods:{onSubmit:function(e){e.preventDefault(),this.guardarTipoResistencia()},limpiar:function(){this.form.descripcionCorta="",this.form.descripcion=""},guardarTipoResistencia:function(){var e=this,t={codigo:this.id,descripcionCorta:this.form.descripcionCorta,descripcion:this.form.descripcion};Se.guardarTipoResistencia(t).then((function(t){t.value?(e.$swal.fire({text:"El tipo de resistencia se ha guardado exitosamente!",icon:"success"}),e.limpiar()):e.$swal.fire({text:"No se pudo guardar el tipo de resistencia, contacte a sistemas",icon:"error"})}))},ConsultarResistencias:function(){var e=this;Se.resistencias().then((function(t){t.value&&t.data.forEach((function(t){console.log(t);var a={value:t.codigo,text:t.descripcionCorta};e.resistencias.push(a)}))}))},cancelar:function(){var e=0==this.id?"¿Desea cancelar el registro de un nuevo tipo de resistencia?":"¿Desea cancelar la actualización del tipo de resistencia?";console.log(e),this.$swal.fire({title:e,text:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, volver al catálogo",cancelButtonText:"Cancelar"}).then((function(e){e.value&&window.history.back()}))}}},Kt=Lt,Ht=Object(m["a"])(Kt,Gt,Ut,!1,null,"04a3b2d2",null),Jt=Ht.exports,Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},Xt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-hard-hat"}),e._v(" Tamaños máximos de agregados (TMA)")])}],Yt={data:function(){return{rutaNuevo:"TMA/Registro/0",permisoEscritura:!0,items:[],fields:[{key:"descripcionCorta",label:"Descripción Corta",sortable:!0,sortDirection:"desc"},{key:"descripcion",label:"Descripción",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones"}]}},components:{TableSortable:xe},mounted:function(){this.consultarTMA()},methods:{consultarTMA:function(){var e=this;this.$loading(!0),Se.TMAS().then((function(t){e.items=t.data,e.$loading(!1)})).catch((function(e){console.log(e)}))}}},Zt=Yt,Qt=Object(m["a"])(Zt,Wt,Xt,!1,null,null,null),ea=Qt.exports,ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container py-5"},[e._m(0),a("div",{staticClass:"py-5"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-2",label:"Descripción corta *","label-for":"txtDescripcionCorta"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtDescripcionCorta",type:"text",required:"",placeholder:"Descripción corta"},model:{value:e.form.descripcionCorta,callback:function(t){e.$set(e.form,"descripcionCorta",t)},expression:"form.descripcionCorta"}})],1)],1),a("b-col",{staticClass:"col-md-6 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Descripción *","label-for":"txtDescripcion"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtDescripcion",type:"text",required:"",placeholder:"Descripción"},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1)],1),a("b-col",{staticClass:"col-md-2 col-sm-12 col-12"},[a("b-form-group",{attrs:{label:"Estatus:"}},[a("b-form-checkbox",{attrs:{id:"chckEstatus",name:"chckEstatus",switch:""},model:{value:e.form.estatus,callback:function(t){e.$set(e.form,"estatus",t)},expression:"form.estatus"}},[e._v(" "+e._s(e.form.estatus?"Activo":"Inactivo")+" ")])],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")])],1),a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mt-2",attrs:{type:"reset",block:"",variant:"outline-danger"},on:{click:e.limpiar}},[a("i",{staticClass:"fas fa-broom"}),e._v("Limpiar")])],1)],1)],1)],1)])},aa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-hard-hat"}),e._v(" Registro de Tamaños Máximos de Agregados")])}],oa={data:function(){return{form:{descripcionCorta:"",descripcion:"",estatus:!1},resistencias:[{value:null,text:"Seleccione una resistencia..."}]}},mounted:function(){this.resistencia=null,this.cosnsultarResistencias()},computed:{validationNombres:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.nombre.match(e)&&this.nombre.length>1)},validationApellidoP:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.apellidoP.match(e)&&this.apellidoP.length>1)}},methods:{onSubmit:function(e){e.preventDefault(),this.guardarTMA()},limpiar:function(){this.form.descripcionCorta="",this.form.descripcion=""},guardarTMA:function(){var e=this,t={codigo:0,descripcionCorta:this.form.descripcionCorta,descripcion:this.form.descripcion,estatus:this.form.estatus};Se.guardarTMA(t).then((function(t){t.value?(e.$swal.fire({text:"El TMA se ha guardado exitosamente!",icon:"success"}),e.limpiar()):e.$swal.fire({text:"No se pudo guardar el TMA, contacte a sistemas",icon:"error"})}))},cosnsultarResistencias:function(){var e=this;Se.resistencias().then((function(t){t.value&&t.data.forEach((function(t){console.log(t);var a={value:t.codigo,text:t.descripcionCorta};e.resistencias.push(a)}))}))}}},ra=oa,na=Object(m["a"])(ra,ta,aa,!1,null,"06088113",null),ia=na.exports,sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},ca=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas"}),e._v(" Tipos de Equipo")])}],la={data:function(){return{rutaNuevo:"tipos-equipo/registro/",items:[],permisoEscritura:!0,fields:[{key:"nombre",label:"Nombre de equipo",sortable:!0,class:"text-center"},{key:"abreviacion",label:"Abreviación",sortable:!0,class:"text-center"},{key:"descripcion",label:"Descripción",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones",class:"text-center"}]}},components:{TableSortable:xe},mounted:function(){var e=this;this.$loading(!0),fe.tiposEquipo(0).then((function(t){e.items=t.data})).catch((function(e){console.log(e)})),this.$loading(!1)}},ua=la,da=Object(m["a"])(ua,sa,ca,!1,null,null,null),ma=da.exports,pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container py-5"},[e._m(0),a("div",{staticClass:"py-5"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-2",label:"Nombre de Equipo","label-for":"txtNombreEquipo"}},[a("b-form-input",{ref:"txtNombreEquipo",staticClass:"text-capitalize",attrs:{id:"txtNombreEquipo",type:"text",required:"",placeholder:"Camión Revolvedor"},model:{value:e.nombreEquipo,callback:function(t){e.nombreEquipo=t},expression:"nombreEquipo"}})],1)],1),a("b-col",{staticClass:"col-md-2 col-sm-12 col-12"},[a("b-col",[a("b-form-group",{attrs:{label:"Abreviación","label-for":"txtAbreviacion"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{ref:"txtAbreviacion",staticClass:"text-capitalize",attrs:{id:"txtAbreviacion",type:"text",required:"",disabled:1==e.validated,placeholder:"CR"},model:{value:e.form.abreviacion,callback:function(t){e.$set(e.form,"abreviacion",t)},expression:"form.abreviacion"}}),a("b-input-group-append",[a("b-button",{on:{click:e.habilitarInput}},[a("i",{staticClass:"fas fa-edit"})])],1)],1)],1)],1)],1),a("b-col",{staticClass:"col-md-6 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Descripción","label-for":"txtDescripcion"}},[a("b-form-input",{attrs:{id:"txtDescripcion",type:"text",placeholder:"Equipo para la producción de concreto"},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)],1)])},fa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas"}),e._v(" Registro de tipos de equipo")])}],ba=(a("25f0"),{data:function(){return{codTipoEquipo:0,validated:1,form:{nombreEquipo:"",descripcion:"",abreviacion:""}}},mounted:function(){this.codTipoEquipo=this.$route.params.id,this.cargarTipoRegistro(),this.$refs.txtNombreEquipo.focus()},computed:{nombreEquipo:{get:function(){return this.form.nombreEquipo},set:function(e){this.form.nombreEquipo=e,this.form.abreviacion=this.obtenerAbreviacion(e)}}},methods:{onSubmit:function(e){e.preventDefault(),this.guardarTipoEquipo()},habilitarInput:function(){this.validated=!1,this.$refs.txtAbreviacion.focus()},cargarTipoRegistro:function(){var e=this;this.$loading(!0),this.codTipoEquipo>0&&fe.tiposEquipo(this.codTipoEquipo).then((function(t){console.log(t.data[0]),e.form.nombreEquipo=t.data[0].nombre,e.form.descripcion=t.data[0].descripcion,e.form.abreviacion=t.data[0].abreviacion})).catch((function(e){console.log(e)})),this.$loading(!1)},guardarTipoEquipo:function(){var e=this,t={codigo:this.codTipoEquipo,nombre:this.nombreEquipo,descripcion:this.form.descripcion,abreviacion:this.form.abreviacion};fe.guardarTipoEquipo(t).then((function(t){t.value?(e.$swal.fire({text:t.message,icon:"success"}),window.history.back()):e.$swal.fire({text:t.message,icon:"error"})}))},obtenerAbreviacion:function(e){var t="",a=e.split(" ");return a.forEach((function(e){e.length>2&&(t+=e.toString().substring(0,1).toUpperCase())})),t},cancelar:function(){var e=0==this.codTipoEquipo?"¿Desea cancelar el registro de un nuevo tipo de equipo?":"¿Desea cancelar la actualización del registro?";console.log(e),this.$swal.fire({title:e,text:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, volver al catálogo",cancelButtonText:"Cancelar"}).then((function(e){e.value&&window.history.back()}))}}}),va=ba,ha=Object(m["a"])(va,pa,fa,!1,null,"46e3e3fe",null),ga=ha.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},xa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas"}),e._v(" Tipos de Empleado")])}],wa={data:function(){return{rutaNuevo:"tipos-empleado/registro/",permisoEscritura:!0,items:[],fields:[{key:"descripcion",label:"Tipo de Empleado",sortable:!0,class:"text-center"},{key:"nombreEquipo",label:"Equipo Asignado",sortable:!0,class:"text-center",formatter:function(e){return""==e?"* Sin equipo asignado *":e}},{key:"estatus",label:"Estado",sortable:!0,class:"text-center",formatter:function(e){return e?"Activo":"Inactivo"}},{key:"actions",label:"Acciones",class:"text-center"}]}},components:{TableSortable:xe},mounted:function(){var e=this;this.$loading(!1),et.tiposEmpleado(0).then((function(t){e.items=t.data})).catch((function(e){console.log(e)})),this.$loading(!1)}},ka=wa,_a=Object(m["a"])(ka,Ca,xa,!1,null,null,null),Ra=_a.exports,ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container py-5"},[e._m(0),a("div",{staticClass:"py-5"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-5 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-2",label:"Tipo de empleado","label-for":"txtTipoEmpleado"}},[a("b-form-input",{ref:"txtTipoEmpleado",staticClass:"text-capitalize",attrs:{id:"txtTipoEmpleado",type:"text",required:"",placeholder:"Sistemas"},model:{value:e.form.tipoEmpleado,callback:function(t){e.$set(e.form,"tipoEmpleado",t)},expression:"form.tipoEmpleado"}})],1)],1),a("b-col",{staticClass:"col-md-5 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Tipo de equipo","label-for":"cboTipo"}},[a("b-form-select",{attrs:{options:e.tiposEquipo,id:"cboTipo"},model:{value:e.form.codTipoEquipo,callback:function(t){e.$set(e.form,"codTipoEquipo",t)},expression:"form.codTipoEquipo"}})],1)],1),a("b-col",{directives:[{name:"show",rawName:"v-show",value:e.mostrarEstatus,expression:"mostrarEstatus"}],staticClass:"col-md-2 col-sm-12 col-12"},[a("b-form-group",{attrs:{label:"Estatus:"}},[a("b-form-checkbox",{attrs:{id:"chckEstatus",name:"chckEstatus",switch:"",size:"lg"},model:{value:e.form.estatus,callback:function(t){e.$set(e.form,"estatus",t)},expression:"form.estatus"}},[e._v(" "+e._s(e.form.estatus?"Activo":"Inactivo")+" ")])],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)],1)])},Ea=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas"}),e._v(" Registro de tipos de empleado")])}],Pa={data:function(){return{mostrarEstatus:!1,codTipoEmpleado:0,form:{tipoEmpleado:"",estatus:!0,codTipoEquipo:0},tiposEquipo:[{value:0,text:"Seleccione el equipo"}]}},mounted:function(){this.consultarTipos(),this.$refs.txtTipoEmpleado.focus(),this.codTipoEmpleado=parseInt(this.getUrlParameter("id")),this.codTipoEmpleado>0&&(this.cargarTipoEmpleado(),this.mostrarEstatus=!0)},methods:{onSubmit:function(e){e.preventDefault(),this.guardarTipoEmpleado()},cargarTipoEmpleado:function(){var e=this;this.codTipoEmpleado=parseInt(this.getUrlParameter("id")),this.$loading(!0),this.codTipoEmpleado>0&&et.tiposEmpleado(this.codTipoEmpleado).then((function(t){e.form.tipoEmpleado=t.data[0].descripcion,e.form.estatus=t.data[0].estatus,e.form.codigoTipoEquipo=t.data[0].codTipoEquipo})).catch((function(e){console.log(e)})),this.$loading(!1)},consultarTipos:function(){var e=this;fe.tipoEquipoCombo().then((function(t){console.log(t),t.value&&t.data.forEach((function(t){var a={value:t.codigo,text:t.descripcion};e.tiposEquipo.push(a)}))}))},guardarTipoEmpleado:function(){var e=this,t={codigo:this.codTipoEmpleado,descripcion:this.form.tipoEmpleado,estatus:this.form.estatus,codTipoEquipo:this.form.codTipoEquipo};et.guardarTipoEmpleado(t).then((function(t){t.value?(e.$swal.fire({text:t.message,icon:"success"}),window.history.back()):e.$swal.fire({text:t.message,icon:"error"})}))},cancelar:function(){var e=0==this.codTipoEmpleado?"¿Desea cancelar el registro de un nuevo tipo de empleado?":"¿Desea cancelar la actualización del registro?";console.log(e),this.$swal.fire({title:e,text:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, volver al catálogo",cancelButtonText:"Cancelar"}).then((function(e){e.value&&window.history.back()}))}}},$a=Pa,Oa=Object(m["a"])($a,ya,Ea,!1,null,"1dad2be0",null),Sa=Oa.exports,Na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},Da=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-5"},[a("h3",[a("i",{staticClass:"fas fa-truck"}),e._v(" Equipos")])])}],Fa={data:function(){return{rutaNuevo:"/catalogos/equipos/registro/",items:[],fields:[{key:"identificador",label:"Identificador",sortable:!0,class:"text-center"},{key:"descripcion",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"modelo",label:"Modelo",sortable:!0,class:"text-center"},{key:"tipoEquipo",label:"Tipo de equipo",sortable:!0,class:"text-center"},{key:"estatus",label:"Estatus",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones"}],permisoEscritura:!0}},components:{TableSortable:xe},mounted:function(){var e=this;this.$loading(!0),fe.equipos().then((function(t){return e.items=t.data,e.$loading(!1),t.data})).catch((function(e){console.log(e)}))},methods:{}},Ta=Fa,ja=Object(m["a"])(Ta,Na,Da,!1,null,"4cfd9d6d",null),Aa=ja.exports,Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container py-5"},[e._m(0),a("div",{staticClass:"py-5"},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Marca *","label-for":"cboMarca"}},[a("b-form-select",{attrs:{options:e.marcas,required:"",id:"cboMarca","aria-placeholder":"Seleccione..."},model:{value:e.form.codigoMarca,callback:function(t){e.$set(e.form,"codigoMarca",t)},expression:"form.codigoMarca"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Modelo *","label-for":"cboModelo"}},[a("b-form-select",{attrs:{options:e.modelos,id:"cboModelo",required:"","aria-placeholder":"Seleccione..."},model:{value:e.form.codigoModelo,callback:function(t){e.$set(e.form,"codigoModelo",t)},expression:"form.codigoModelo"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Tipo *","label-for":"cboTipo"}},[a("b-form-select",{attrs:{options:e.tiposEquipo,id:"cboTipo",required:"","aria-placeholder":"Seleccione..."},model:{value:e.form.codigoTipoEquipo,callback:function(t){e.$set(e.form,"codigoTipoEquipo",t)},expression:"form.codigoTipoEquipo"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Número de serie","label-for":"txtNumeroSerie"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtNumeroSerie",type:"text",placeholder:"# de serie",autocomplete:"off"},model:{value:e.form.numeroSerie,callback:function(t){e.$set(e.form,"numeroSerie",t)},expression:"form.numeroSerie"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Descripción *","label-for":"txtDescripcion"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtDescripcion",type:"text",required:"",placeholder:"Descripción",autocomplete:"off"},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Numero Economico *","label-for":"txtIdentificador"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtIdentificador",type:"text",required:"",placeholder:"Numero Economico",autocomplete:"off"},model:{value:e.form.identificador,callback:function(t){e.$set(e.form,"identificador",t)},expression:"form.identificador"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Número de serie de motor","label-for":"txtNumeroSerieMotor"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtNumeroSerieMotor",type:"text",placeholder:"# de serie de motor",autocomplete:"off"},model:{value:e.form.numeroSerieMotor,callback:function(t){e.$set(e.form,"numeroSerieMotor",t)},expression:"form.numeroSerieMotor"}})],1)],1),e.parametro>0?a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{label:"Estatus:"}},[a("b-form-checkbox",{attrs:{id:"chckEstatus",name:"chckEstatus",switch:"",size:"lg"},model:{value:e.form.estatus,callback:function(t){e.$set(e.form,"estatus",t)},expression:"form.estatus"}},[e._v(" "+e._s(e.form.estatus?"Activo":"Inactivo")+" ")])],1)],1):e._e()],1),a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")])],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[a("i",{staticClass:"fas fa-arrow-left"}),e._v(" Cancelar")])],1)],1)],1)],1)])},qa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas fa-truck"}),e._v(" Registro de equipos ")])}],Ma={data:function(){return{form:{codigo:0,nombre:"",descripcion:"",identificador:"",estatus:!0,codigoMarca:null,codigoModelo:null,numeroSerie:"",numeroSerieMotor:"",codigoTipoEquipo:null},marcas:[{value:null,text:"Seleccione marca..."}],modelos:[{value:null,text:"Seleccione modelo..."}],tiposEquipo:[{value:null,text:"Seleccione el tipo..."}],parametro:0}},mounted:function(){this.$loading(!0),this.parametro=void 0!=this.$route.params.id?this.$route.params.id:0,console.log("P->",this.parametro),this.resistencia=null,this.consultaMarcas(),this.consultarModelos(),this.cosnsultarTipos(),this.cargaEquipo(),this.$loading(!1)},computed:{validationNombres:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.nombre.match(e)&&this.nombre.length>1)},validationApellidoP:function(){var e=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.apellidoP.match(e)&&this.apellidoP.length>1)}},methods:{onSubmit:function(e){e.preventDefault(),this.guardarEquipo()},limpiar:function(){this.form.tipoResistencia=null,this.form.descripcionCorta="",this.form.descripcion="",this.form.estatus=!1},consultaMarcas:function(){var e=this;fe.marcasCombo().then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codigo,text:t.descripcion};e.marcas.push(a)}))}))},consultarModelos:function(){var e=this;fe.modelosCombo().then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codigo,text:t.descripcion};e.modelos.push(a)}))}))},cosnsultarTipos:function(){var e=this;fe.tipoEquipoCombo().then((function(t){t.value&&t.data.forEach((function(t){console.log(t);var a={value:t.codigo,text:t.descripcion};e.tiposEquipo.push(a)}))}))},cargaEquipo:function(){var e=this;this.parametro>0&&(this.$loading(!0),fe.equipos(this.parametro).then((function(t){t.value?(e.form.nombre=t.data[0].nombre,e.form.descripcion=t.data[0].descripcion,e.form.identificador=t.data[0].identificador,e.form.codigoModelo=t.data[0].codigoModelo,e.form.codigoMarca=t.data[0].codigoMarca,e.form.codigoTipoEquipo=t.data[0].codigoTipoEquipo,e.form.numeroSerie=t.data[0].numeroSerie,e.form.numeroSerieMotor=t.data[0].numeroSerieMotor,e.form.estatus=t.data[0].estatus,e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:"".concat(t.message),icon:"error"}),setTimeout((function(){e.$router.push({path:"."})}),1e3))})))},guardarEquipo:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar el equipo?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:if(a=t.sent,!a.value){t.next=7;break}return o={codigo:e.parametro,nombre:e.form.nombre,descripcion:e.form.descripcion,codigoModelo:e.form.codigoModelo,codigoMarca:e.form.codigoMarca,codigoTipoEquipo:e.form.codigoTipoEquipo,numeroSerie:e.form.numeroSerie,identificador:e.form.identificador,numeroSerieMotor:e.form.numeroSerieMotor,estatus:e.form.estatus},t.next=7,fe.guardar(o).then((function(t){t.value?(O.a.fire({text:"".concat(t.message),icon:"success"}),e.$router.push({path:"/catalogos/equipos"})):O.a.fire({text:"No se pudo guardar, contacte a sistemas",icon:"error"})}));case 7:case"end":return t.stop()}}),t)})))()},cancelar:function(){return Object(L["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea cancelar el registro del equipo?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:t=e.sent,t.value&&window.history.back();case 4:case"end":return e.stop()}}),e)})))()}}},Ia=Ma,za=Object(m["a"])(Ia,Ba,qa,!1,null,"3c807000",null),Va=za.exports,Ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-3"},[e._m(0),a("div",[a("table-sortable",{staticClass:"mt-3",attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},Ua=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-truck"}),e._v(" Operadores")])])}],La={obtenerOperadores:function(e){return D.get("/operadores/todos/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerOperadoresEntradasSalidas:function(e){return D.get("/operadores/entradasSalidas/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerTiposOperadores:function(){return D.get("/operadores/tipos").then((function(e){return e.data})).catch((function(e){return e}))},guardarOperador:function(e){return D.post("/operadores/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e}))}},Ka=La,Ha={data:function(){return{items:[],fields:[{key:"nombreCompleto",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"tipoEmpleado",label:"Tipo",sortable:!0,sortDirection:"desc"},{key:"celular",label:"Celular",sortable:!0,sortDirection:"desc"},{key:"estatus",label:"Estatus",sortable:!0,sortDirection:"desc"},{key:"actions",label:"",class:"text-center"}],permisoEscritura:!0,rutaNuevo:"operadores/registro/"}},components:{TableSortable:xe},mounted:function(){this.ObtenerOperadores()},created:function(){},computed:{},methods:{ObtenerOperadores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Ka.obtenerOperadores(0).then((function(t){e.items=t.data,console.log("R->",e.items),e.$loading(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},Ja=Ha,Wa=Object(m["a"])(Ja,Ga,Ua,!1,null,"29af69dd",null),Xa=Wa.exports,Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container mt-3"},[a("div",[0==e.parametro?a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Registrar Operador")]):e._e(),e.parametro>0?a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Actualizar Operador")]):e._e(),a("hr")]),a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-1",label:"Nombre *","label-for":"txtNombre"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtNombre",type:"text",required:"",placeholder:"Nombre(s)"},model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-2",label:"Apellido Paterno *","label-for":"txtApellidoP"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtApellidoP",type:"text",required:"",placeholder:"Apellido Paterno"},model:{value:e.form.apellidoP,callback:function(t){e.$set(e.form,"apellidoP",t)},expression:"form.apellidoP"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Apellido Materno *","label-for":"txtApellidoM"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtApellidoM",type:"text",required:"",placeholder:"Apellido Materno"},model:{value:e.form.apellidoM,callback:function(t){e.$set(e.form,"apellidoM",t)},expression:"form.apellidoM"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"RFC","label-for":"txtRFC"}},[a("b-form-input",{staticClass:"text-uppercase",attrs:{id:"txtRFC",type:"text",placeholder:"RFC...",state:e.form.rFCValidate.esValido},model:{value:e.form.rFC,callback:function(t){e.$set(e.form,"rFC",t)},expression:"form.rFC"}}),""!=e.form.rFC?a("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[e._v(" Usa el formato válido para el RFC ")]):e._e()],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Número de celular *","label-for":"txtCelular"}},[a("b-form-input",{attrs:{id:"txtCelular",type:"text",required:"",placeholder:"Número de celular..."},model:{value:e.form.celular,callback:function(t){e.$set(e.form,"celular",t)},expression:"form.celular"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Correo electrónico *","label-for":"txtCorreoE"}},[a("b-form-input",{attrs:{id:"txtCorreoE",type:"email",required:"",placeholder:"Correo electrónico..."},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo",t)},expression:"form.correo"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Tipo de operador *","label-for":"cboTipoEmpleado"}},[a("b-form-select",{attrs:{options:e.tiposOperador,"aria-placeholder":"Seleccione un tipo de operador",required:""},model:{value:e.form.codigoTipoEmpleado,callback:function(t){e.$set(e.form,"codigoTipoEmpleado",t)},expression:"form.codigoTipoEmpleado"}})],1)],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)],1)])},Za=[],Qa={data:function(){return{form:{nombre:"",apellidoP:"",apellidoM:"",rFC:"",estatus:1,codigo:0,tipoEmpleado:"",celular:"",correo:"",codigoTipoEmpleado:0,rFCValidate:{msg:"",esValido:null}},parametro:0,tiposOperador:[{value:0,text:"Seleccione un tipo de operador"}]}},components:{},mounted:function(){this.parametro=void 0!=this.$route.params.id?this.$route.params.id:0,console.log("P->",this.parametro),this.obtenerTiposOperadores(),this.parametro>0&&this.CargarOperador()},created:function(){},watch:{"form.rFC":function(e){console.log(this.form.rFC),""!=this.form.rFC?(this.form.rFC=this.form.rFC.toUpperCase(),/^([A-Z,Ñ,&]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[A-Z|\d]{3})$/.test(e)?(this.form.rFCValidate.esValido=!0,this.form.rFCValidate.msg="El RFC es válido"):(this.form.rFCValidate.esValido=!1,this.form.rFCValidate.msg="El RFC NO es válido")):(this.form.rFCValidate.esValido=null,this.form.rFCValidate.msg="")}},computed:{},methods:{obtenerTiposOperadores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ka.obtenerTiposOperadores().then((function(t){t.value&&(console.log(t),t.data.forEach((function(t){var a={value:t.codigo,text:t.descripcion};e.tiposOperador.push(a)})))}));case 2:case"end":return t.stop()}}),t)})))()},onSubmit:function(e){e.preventDefault(),this.guardarOperador()},guardarOperador:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar el Operador?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:if(a=t.sent,!a.value){t.next=7;break}return e.$loading(!0),t.next=7,Ka.guardarOperador(e.form).then((function(t){t.value?(O.a.fire("¡EXITO!","Se guardo correctamente el Operador","success"),window.history.back()):O.a.fire("¡ATENCIÓN!",t.message,"error"),e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 7:case"end":return t.stop()}}),t)})))()},cancelar:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=0==e.parametro?"¿Desea cancelar el registro de un nuevo cliente?":"¿Desea cancelar la actualización del cliente?",console.log(a),t.next=4,O.a.fire({title:"¡ATENCIÓN!",text:a,showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 4:o=t.sent,o.value&&window.history.back();case 6:case"end":return t.stop()}}),t)})))()},CargarOperador:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Ka.obtenerOperadores(e.parametro).then((function(t){t.value&&(e.form.codigo=t.data[0].codigo,e.form.nombre=t.data[0].nombre,e.form.apellidoP=t.data[0].apellidoP,e.form.apellidoM=t.data[0].apellidoM,e.form.rFC=t.data[0].rFC,e.form.celular=t.data[0].celular,e.form.correo=t.data[0].correo,e.form.codigoTipoEmpleado=t.data[0].codigoTipoEmpleado),e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 3:case"end":return t.stop()}}),t)})))()}}},eo=Qa,to=(a("642d"),Object(m["a"])(eo,Ya,Za,!1,null,"baf5ef78",null)),ao=to.exports,oo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-3"},[e._m(0),a("div",[a("table-sortable",{staticClass:"mt-3",attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},ro=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-user-tie"}),e._v(" Vendedores")])])}],no={obtenerVendedores:function(e){return D.get("/vendedores/todos/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},guardarVendedor:function(e){return D.post("/Vendedores/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return e}))}},io=no,so={data:function(){return{items:[],fields:[{key:"nombreCompleto",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"tipoEmpleado",label:"Tipo",sortable:!0,sortDirection:"desc"},{key:"estatus",label:"Estatus",sortable:!0,sortDirection:"desc"},{key:"actions",label:"",class:"text-center"}],permisoEscritura:!0,rutaNuevo:"vendedores/registro/"}},components:{TableSortable:xe},mounted:function(){this.ObtenerVendedores()},created:function(){},computed:{},methods:{ObtenerVendedores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,io.obtenerVendedores(0).then((function(t){e.items=t.data,e.$loading(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},co=so,lo=Object(m["a"])(co,oo,ro,!1,null,"6d276f45",null),uo=lo.exports,mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container mt-3"},[a("div",[0==e.parametro?a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Registrar Vendedor")]):e._e(),e.parametro>0?a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Actualizar Vendedor")]):e._e(),a("hr")]),a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-1",label:"Nombre *","label-for":"txtNombre"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtNombre",type:"text",required:"",placeholder:"Nombre(s)"},model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-2",label:"Apellido Paterno *","label-for":"txtApellidoP"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtApellidoP",type:"text",required:"",placeholder:"Apellido Paterno"},model:{value:e.form.apellidoP,callback:function(t){e.$set(e.form,"apellidoP",t)},expression:"form.apellidoP"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-3",label:"Apellido Materno *","label-for":"txtApellidoM"}},[a("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtApellidoM",type:"text",required:"",placeholder:"Apellido Materno"},model:{value:e.form.apellidoM,callback:function(t){e.$set(e.form,"apellidoM",t)},expression:"form.apellidoM"}})],1)],1)],1),a("b-row",[a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"RFC","label-for":"txtRFC"}},[a("b-form-input",{staticClass:"text-uppercase",attrs:{id:"txtRFC",type:"text",placeholder:"RFC...",state:e.form.rFCValidate.esValido},model:{value:e.form.rFC,callback:function(t){e.$set(e.form,"rFC",t)},expression:"form.rFC"}}),""!=e.form.rFC?a("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[e._v(" Usa el formato válido para el RFC ")]):e._e()],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Número de celular *","label-for":"txtCelular"}},[a("b-form-input",{attrs:{id:"txtCelular",type:"text",required:"",placeholder:"Número de celular..."},model:{value:e.form.celular,callback:function(t){e.$set(e.form,"celular",t)},expression:"form.celular"}})],1)],1),a("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[a("b-form-group",{attrs:{id:"input-group-4",label:"Correo electrónico *","label-for":"txtCorreoE"}},[a("b-form-input",{attrs:{id:"txtCorreoE",type:"email",required:"",placeholder:"Correo electrónico..."},model:{value:e.form.correo,callback:function(t){e.$set(e.form,"correo",t)},expression:"form.correo"}})],1)],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)],1)])},po=[],fo={data:function(){return{form:{nombre:"",apellidoP:"",apellidoM:"",rFC:"",estatus:1,codigo:0,tipoEmpleado:"",celular:"",correo:"",codigoTipoEmpleado:4,rFCValidate:{msg:"",esValido:null}},parametro:0}},components:{},mounted:function(){this.parametro=void 0!=this.$route.params.id?this.$route.params.id:0,console.log("P->",this.parametro),this.parametro>0&&this.CargarVendedor()},created:function(){},watch:{"form.rFC":function(e){console.log(this.form.rFC),""!=this.form.rFC?(this.form.rFC=this.form.rFC.toUpperCase(),/^([A-Z,Ñ,&]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[A-Z|\d]{3})$/.test(e)?(this.form.rFCValidate.esValido=!0,this.form.rFCValidate.msg="El RFC es válido"):(this.form.rFCValidate.esValido=!1,this.form.rFCValidate.msg="El RFC NO es válido")):(this.form.rFCValidate.esValido=null,this.form.rFCValidate.msg="")}},computed:{},methods:{onSubmit:function(e){e.preventDefault(),this.guardarVendedor()},guardarVendedor:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar el Vendedor?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:if(a=t.sent,!a.value){t.next=7;break}return e.$loading(!0),t.next=7,io.guardarVendedor(e.form).then((function(t){t.value?(O.a.fire("¡EXITO!","Se guardo correctamente el Vendedor","success"),window.history.back()):O.a.fire("¡ATENCIÓN!",t.message,"error"),e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 7:case"end":return t.stop()}}),t)})))()},cancelar:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=0==e.parametro?"¿Desea cancelar el registro de un nuevo vendedor?":"¿Desea cancelar la actualización del vendedor?",console.log(a),t.next=4,O.a.fire({title:"¡ATENCIÓN!",text:a,showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 4:o=t.sent,o.value&&window.history.back();case 6:case"end":return t.stop()}}),t)})))()},CargarVendedor:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,io.obtenerVendedores(e.parametro).then((function(t){t.value&&(e.form.codigo=t.data[0].codigo,e.form.nombre=t.data[0].nombre,e.form.apellidoP=t.data[0].apellidoP,e.form.apellidoM=t.data[0].apellidoM,e.form.rFC=t.data[0].rFC,e.form.celular=t.data[0].celular,e.form.correo=t.data[0].correo),e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 3:case"end":return t.stop()}}),t)})))()}}},bo=fo,vo=(a("23aa"),Object(m["a"])(bo,mo,po,!1,null,"5082cecb",null)),ho=vo.exports,go=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container my-5"},[e._m(0),a("b-row",[a("b-col",{attrs:{md:"3","offset-md":"8"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-usuario",modifiers:{"modal-usuario":!0}}],staticClass:"btn btn-sm py-1 btn-block",attrs:{variant:"primary"}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nuevo ")])],1)],1),a("table-sortable",{attrs:{items:e.items,fields:e.fields}}),a("b-modal",{ref:"modal",attrs:{id:"modal-usuario",title:"Registro usuario",centered:""},on:{ok:e.handleOk}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.guardarUsuario(t)}}},[a("b-form-group",{attrs:{label:"Empleado","label-for":"cboEmpleado","invalid-feedback":"Campo requerido"}},[a("b-form-select",{staticClass:"mt-3",attrs:{id:"cboEmpleado",options:e.empleadosCombo,size:"sm"},on:{change:function(t){e.usuarioModel.codEmpleado=e.selectedEmpleado}},model:{value:e.selectedEmpleado,callback:function(t){e.selectedEmpleado=t},expression:"selectedEmpleado"}})],1),a("b-form-group",{attrs:{label:"Usuario","label-for":"txtUsuario","invalid-feedback":"Campo requerido"}},[a("b-form-input",{attrs:{id:"txtUsuario",required:"",autocomplete:"off"},model:{value:e.usuarioModel.usuario,callback:function(t){e.$set(e.usuarioModel,"usuario",t)},expression:"usuarioModel.usuario"}})],1),a("b-form-group",{attrs:{label:"Contraseña","label-for":"txtContrasena","invalid-feedback":"Campo requerido"}},[a("b-form-input",{attrs:{id:"txtContrasena",required:"",type:"password",autocomplete:"off"},model:{value:e.usuarioModel.contrasena,callback:function(t){e.$set(e.usuarioModel,"contrasena",t)},expression:"usuarioModel.contrasena"}})],1),a("b-form-group",{attrs:{label:"Confirmar contraseña","label-for":"txtContrasenaConfirmacion","invalid-feedback":"Campo requerido"}},[a("b-form-input",{attrs:{id:"txtContrasenaConfirmar",required:"",type:"password",autocomplete:"off"},model:{value:e.confirmaContra,callback:function(t){e.confirmaContra=t},expression:"confirmaContra"}})],1)],1)])],1)])},Co=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-1"},[a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Usuarios")])])}],xo={data:function(){return{items:[],fields:[{key:"usuario",label:"Usuario",sortable:!0,class:"text-center"},{key:"nombreCompleto",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"tipoEmpleado",label:"Tipo Empleado",sortable:!0,sortDirection:"desc"},{key:"fechaUltimaConexion",label:"Ultima Conexión",sortable:!0,sortDirection:"desc"},{key:"actionsUsuarios",label:"",sortable:!0,class:"text-center"}],modalInfo:{id:"modal",title:"",content:"",codigo:"",disabled:!1},empleadosCombo:[{value:null,text:"Seleccione un empleado..."}],selectedEmpleado:null,usuarioModel:{usuario:"",contrasena:"",codEmpleado:null},confirmaContra:""}},components:{TableSortable:xe},mounted:function(){var e=this;this.$loading(!0),ue.usuarios().then((function(t){return e.items=t.data,console.log(e.items),t.data})).catch((function(e){console.log(e)})),et.empleados().then((function(t){t.value&&(console.log("data ->  ",t.data),t.data.forEach((function(t){if(""==t.usuario){var a={value:t.codigo,text:t.nombre+" "+t.apellidoP+" "+t.apellidoM};e.empleadosCombo.push(a)}})))})),this.$loading(!1)},methods:{modal:function(){this.modalInfo.title="Registro de usuario",this.$root.$emit("bv::show::modal-usuario")},handleOk:function(e){e.preventDefault(),this.guardarUsuario()},guardarUsuario:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),e.$nextTick((function(){e.$bvModal.hide("modal-usuario")})),t.next=4,ue.guardarUsuario(e.usuarioModel).then((function(t){t.value&&e.$swal.fire({text:"El Usuario se ha guardado exitosamente!",icon:"success"})}));case 4:e.$loading(!1);case 5:case"end":return t.stop()}}),t)})))()}}},wo=xo,ko=Object(m["a"])(wo,go,Co,!1,null,"29b80b1e",null),_o=ko.exports,Ro=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"row mt-3"},[e._m(1),a("div",{staticClass:"col-12 col-md-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.usuarioSeleccionado,expression:"usuarioSeleccionado"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.usuarioSeleccionado=t.target.multiple?a:a[0]},e.cambiarUsuario]}},e._l(e.Usuarios,(function(t){return a("option",{key:t.codigo,domProps:{value:t}},[e._v(" "+e._s(t.nombreCompleto)+" ")])})),0)])]),a("div",{staticClass:"row mt-2"},[e._m(2),a("div",{staticClass:"col-12 col-md-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.moduloSeleccionado,expression:"moduloSeleccionado"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.moduloSeleccionado=t.target.multiple?a:a[0]},e.cambiarModulo]}},e._l(e.Modulos,(function(t){return a("option",{key:t.idOpcion,domProps:{value:t}},[e._v(" "+e._s(t.opcion)+" ")])})),0)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"table-responsive table-sm my-2 tableFixHead"},[a("table",{staticClass:"table table-striped"},[e._m(3),a("tbody",e._l(e.Funciones,(function(t,o){return a("tr",{key:o},[a("td",{domProps:{textContent:e._s(t.opcion)}}),a("td",{staticStyle:{"text-align":"center"}},[a("b-check",{model:{value:t.lectura,callback:function(a){e.$set(t,"lectura",a)},expression:"funcion.lectura"}})],1),a("td",{staticStyle:{"text-align":"center"}},[a("b-check",{model:{value:t.escritura,callback:function(a){e.$set(t,"escritura",a)},expression:"funcion.escritura"}})],1)])})),0)])])])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12 offset-sm-4 col-sm-4 col-lg-4"},[a("button",{staticClass:"btn btn-danger col-12 mb-1",on:{click:e.Cancelar}},[e._v(" Cancelar ")])]),a("div",{staticClass:"col-12 col-sm-4 col-lg-4"},[a("button",{staticClass:"btn btn-success col-12 mb-1",on:{click:e.GuardarFunciones}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])])])])},yo=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-cogs"}),e._v(" Permisos")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12 col-md-2"},[a("label",[e._v("Usuario:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12 col-md-2"},[a("label",[e._v("Modulo:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticStyle:{width:"340px"}},[e._v("Función")]),a("th",{staticStyle:{width:"80px","text-align":"center"}},[e._v("Lectura")]),a("th",{staticStyle:{width:"80px","text-align":"center"}},[e._v("Escritura")])])])}],Eo={obtenerUsuarios:function(){return D.get("/configuracion/usuarios").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerModulos:function(){return D.get("/configuracion/modulos/").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerFunciones:function(e,t){return D.get("/configuracion/funciones/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarFunciones:function(e,t,a,o){return D.post("/configuracion/funciones/guardar/".concat(t,"/").concat(a,"/").concat(o),e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerPermisos:function(e){return D.post("/configuracion/obtener-permisos/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},Po=Eo,$o={data:function(){return{Usuarios:[],usuarioSeleccionado:[],Modulos:[],moduloSeleccionado:[],Funciones:[],procede:!0,tokenWebAdmin:{token:null,expiresAt:null,user:null,permisos:null}}},components:{},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerUsuarios();case 2:return t.next=4,e.ObtenerModulos();case 4:return t.next=6,e.ObtenerFunciones();case 6:case"end":return t.stop()}}),t)})))()},created:function(){},computed:{},methods:{ObtenerUsuarios:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Po.obtenerUsuarios().then((function(t){e.Usuarios=t.data,e.Usuarios.length>0&&(e.usuarioSeleccionado=e.Usuarios[0]),e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 3:case"end":return t.stop()}}),t)})))()},cambiarUsuario:function(){this.ObtenerFunciones()},ObtenerModulos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Po.obtenerModulos().then((function(t){e.Modulos=t.data,e.moduloSeleccionado=e.Modulos[0],e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 3:case"end":return t.stop()}}),t)})))()},cambiarModulo:function(){this.ObtenerFunciones()},ObtenerFunciones:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.Funciones=[],e.$loading(!0),t.next=4,Po.obtenerFunciones(e.moduloSeleccionado.idOpcion,e.usuarioSeleccionado.codigo).then((function(t){e.Funciones=t.data,e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 4:case"end":return t.stop()}}),t)})))()},GuardarFunciones:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.FuncionesGuardar();case 2:return t.next=4,e.ObtenerPermisos();case 4:case"end":return t.stop()}}),t)})))()},Cancelar:function(){window.history.back()},FuncionesGuardar:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({text:"¿Desea guardar los permisos del usuario: "+e.usuarioSeleccionado.nombreCompleto+"?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:if(a=t.sent,!a.value){t.next=8;break}return e.$loading(!0),o=JSON.stringify(e.Funciones),t.next=8,Po.guardarFunciones(o,e.moduloSeleccionado.idOpcion,e.usuarioSeleccionado.codigo,e.usuario.idUsuario).then((function(t){t.value&&(console.log(e.usuarioSeleccionado),O.a.fire("¡EXITO!","Se modificaron los permisos al usuario: "+e.usuarioSeleccionado.nombreCompleto,"success"),e.$loading(!1))})).catch((function(t){console.log(t),e.$loading(!1)}));case 8:case"end":return t.stop()}}),t)})))()},ObtenerPermisos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.usuarioSeleccionado.codigo!==e.usuario.idUsuario){t.next=6;break}return e.$loading(!0),t.next=4,Po.obtenerPermisos(e.usuario.idUsuario).then((function(t){if(t.value){window.localStorage.removeItem("tokenWebAdmin"),e.tokenWebAdmin.token=t.data.accessToken.accessToken,e.tokenWebAdmin.expiresAt=t.data.accessToken.exp,e.tokenWebAdmin.user=JSON.stringify(t.data.user),e.tokenWebAdmin.permisos=JSON.stringify(t.data.permisos);var a=decodeURIComponent(encodeURI(e.tokenWebAdmin.user));e.tokenWebAdmin.user=a,window.localStorage.tokenWebAdmin=JSON.stringify(e.tokenWebAdmin),e.$loading(!1)}})).catch((function(t){console.log(t),e.$loading(!1)}));case 4:e.$loading(!1),location.reload();case 6:case"end":return t.stop()}}),t)})))()}}},Oo=$o,So=(a("f3f9"),Object(m["a"])(Oo,Ro,yo,!1,null,"1f94838b",null)),No=So.exports,Do=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container my-5"},[e._m(0),a("div",{staticClass:"row"},[e._m(1),a("div",{staticClass:"col-12 col-sm-6 col-md-4"},[a("button",{staticClass:"btn btn-primary col-12",on:{click:e.generarArchivo}},[e._v(" Exportar archivo base ")])])]),a("hr",{staticClass:"mt-2 mb-3"}),a("div",{staticClass:"row"},[e._m(2),a("div",{staticClass:"col-12 col-sm-6 col-md-4"},[a("button",{staticClass:"btn btn-primary col-12",on:{click:e.importarArchivo}},[e._v(" Importar Registros ")])])]),a("hr",{staticClass:"mt-2 mb-3"})])},Fo=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-5"},[a("h3",[a("i",{staticClass:"fas fa-file-export"}),e._v(" Carga de Registros")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12 col-sm-6 col-md-4 mb-2"},[a("select",{staticClass:"form-control"},[a("option",{attrs:{selected:""}},[e._v("Seleccione una opción")]),a("option",{attrs:{value:"1"}},[e._v("Clientes")]),a("option",{attrs:{value:"2"}},[e._v("Productos")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12 col-sm-6 col-md-4 mb-2"},[a("i",{staticClass:"fas fa-file-upload"}),a("span",{staticClass:"name"},[e._v("No file selected")]),a("input",{staticClass:"my_input",attrs:{type:"file",id:"upload"}})])}],To={data:function(){return{arrayList:[]}},methods:{generarArchivo:function(){var e=this;console.log("bien");var t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){console.log("ENTRO"),t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}});t.fire({icon:"success",title:"Descargando archivo .xls base"})},importarArchivo:function(){var e=this,t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){console.log("ENTRO"),t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}});t.fire({icon:"success",title:"Importando registros"})}}},jo=To,Ao=(a("0f9e"),Object(m["a"])(jo,Do,Fo,!1,null,null,null)),Bo=Ao.exports,qo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-3"},[a("b-modal",{attrs:{centered:"",size:"md",title:"Noticias","header-bg-variant":e.headerBgVariant,"header-text-variant":e.headerTextVariant},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-right",attrs:{variant:"danger"},on:{click:function(t){e.modalShow=!1}}},[e._v(" Cancelar ")]),a("b-button",{staticClass:"float-right mr-2",attrs:{variant:"primary"},on:{click:e.GuardarNoticia}},[e._v(" Aceptar ")])],1)]},proxy:!0}]),model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[a("b-container",{staticClass:"container",attrs:{fluid:""}},[a("div",{staticClass:"col-12"},[a("strong",[a("label",[e._v("Titulo")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.noticia.titulo,expression:"noticia.titulo"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.noticia.titulo},on:{input:function(t){t.target.composing||e.$set(e.noticia,"titulo",t.target.value)}}})]),a("div",{staticClass:"col-12"},[a("strong",[a("label",[e._v("Descripción")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.noticia.descripcion,expression:"noticia.descripcion"}],staticClass:"form-control",attrs:{rows:"2"},domProps:{value:e.noticia.descripcion},on:{input:function(t){t.target.composing||e.$set(e.noticia,"descripcion",t.target.value)}}})]),a("div",{staticClass:"form-group col-12"},[a("label",{staticClass:"control-label"},[e._v("Seleccione una imagen")]),a("input",{ref:"file",staticClass:"form-control-file",attrs:{type:"file",accept:".jpg,.jpeg,.png"}})])])],1),a("b-modal",{attrs:{centered:"",size:"md",title:"Vista Previa","header-bg-variant":e.headerBgVariant,"header-text-variant":e.headerTextVariant},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-right mr-2",attrs:{variant:"primary"},on:{click:function(t){e.modalPreview=!1}}},[e._v("Aceptar ")])],1)]},proxy:!0}]),model:{value:e.modalPreview,callback:function(t){e.modalPreview=t},expression:"modalPreview"}},[a("b-container",{staticClass:"container",attrs:{fluid:""}},[[a("img",{staticClass:"d-block img-fluid w-100",attrs:{width:"200",height:"200",src:"data:image/jpeg;base64,"+e.noticia.imagen,alt:"image slot"}})]],2)],1),e._m(0),a("b-row",{staticClass:"my-2"},[a("b-col",{staticClass:" text-center col-md-9"}),a("b-col",{staticClass:" text-center col-md-3"},[a("b-button",{staticClass:"btn btn-sm py-1 mt-1 btn-block",attrs:{variant:"primary"},on:{click:function(t){return e.NuevaNoticia()}}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nuevo ")])],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(acciones)",fn:function(t){return[a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(a){return e.vistaPrevia(t.item)}}},[a("i",{staticClass:"fas fa-newspaper"}),e._v(" Vista Previa")]),a("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"success"},on:{click:function(a){return e.editarNoticia(t.item)}}},[a("i",{staticClass:"fas fa-edit"}),e._v(" Editar")])]}}])}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},Mo=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-newspaper"}),e._v(" Noticias")]),a("hr")])}],Io=(a("c975"),{obtenerNoticias:function(){return D.get("/noticias/todas").then((function(e){return e.data})).catch((function(e){return e}))},guardarNoticia:function(e){return D.post("/noticias/registrarNoticia/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}),zo=Io,Vo={data:function(){return{items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"titulo",label:"Titulo",sortable:!0,sortDirection:"desc"},{key:"descripcion",label:"Descripción",sortable:!0,sortDirection:"desc"},{key:"acciones",label:"",sortable:!0,sortDirection:"desc"}],modalShow:!1,headerBgVariant:"dark",headerTextVariant:"light",noticia:{idNoticias:0,titulo:"",descripcion:"",imagen:""},modalPreview:!1}},components:{},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerNoticias();case 2:return t.next=4,e.CargarRenglones();case 4:case"end":return t.stop()}}),t)})))()},created:function(){},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},ObtenerNoticias:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,zo.obtenerNoticias().then((function(t){console.log("R",t),e.items=t.data,e.$loading(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},NuevaNoticia:function(){this.noticia={idNoticias:0,titulo:"",descripcion:"",imagen:""},this.modalShow=!0},GuardarNoticia:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=["image/jpeg","image/png"],o=e.$refs.file.files[0],o&&-1!=a.indexOf(e.$refs.file.files[0].type)){t.next=7;break}if(0!=e.noticia.idNoticias){t.next=7;break}return t.next=6,e.$swal.fire({title:"ATENCIÓN",text:"Debe de seleccionar una imagen para poder guardar la noticia.",icon:"warning"});case 6:return t.abrupt("return");case 7:return e.$loading(!0),t.next=10,e.$swal.fire({title:"ATENCIÓN",text:"¿Desea agregar una nueva noticia?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"Cancelar"}).then((function(t){if(t.value){var a=new FormData;a.append("titulo",e.noticia.titulo),a.append("descripcion",e.noticia.descripcion),a.append("idNoticias",e.noticia.idNoticias),a.append("file",o),zo.guardarNoticia(a).then((function(t){console.log(t),e.modalShow=!1,e.$swal.fire({title:"¡ATENCIÓN!",text:"Se guardo correctamente la noticia.",icon:"success"}),e.ObtenerNoticias(),e.noticia={titulo:"",descripcion:"",imagen:""}})).catch((function(t){e.$loading(!1),console.error(t)})).finally((function(){e.$loading(!1)}))}}));case 10:case"end":return t.stop()}}),t)})))()},vistaPrevia:function(e){this.noticia.imagen=e.imagen,this.modalPreview=!0},editarNoticia:function(e){this.noticia={idNoticias:e.idNoticias,titulo:e.titulo,descripcion:e.descripcion,imagen:""},this.modalShow=!0}}},Go=Vo,Uo=Object(m["a"])(Go,qo,Mo,!1,null,"c4526b5c",null),Lo=Uo.exports,Ko=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container mt-3"},[e._m(0),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.SalidaNueva}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nueva Salida ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"primary"},on:{click:e.EntradaNueva}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nueva Entrada ")])],1)],1),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("b-row",[a("div",{staticClass:"col-sm-12 col-md-3 col-lg-2 mb-1"},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.buscar}},[a("i",{staticClass:"fa fa-search"}),e._v(" Buscar ")])],1)]),a("div",[a("table-sortable",{staticClass:"mt-3",attrs:{items:e.items,fields:e.fields}})],1)],1)])},Ho=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-truck-moving"}),e._v(" Entradas y Salidas")])])}],Jo=(a("fb6a"),{obtenerEntradasSalidas:function(e,t){return D.get("/porteros/obtener-entradas-salidas/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerSuministros:function(e,t){return D.get("/porteros/obtener-suministros/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarEntradasSalidas:function(e){return D.post("/porteros/guardar-entradas-salidas",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarSuministros:function(e){return D.post("/porteros/guardar-suministros",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}),Wo=Jo,Xo={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=t.toISOString().slice(0,10);return{desde:a,hasta:a,items:[],fields:[{key:"fecha",label:"Fecha",sortable:!0,class:"text-center"},{key:"folioPedido",label:"# P.",sortable:!0,class:"text-center"},{key:"notaRemision",label:"Nota de Remisión",sortable:!0,class:"text-center"},{key:"equipo",label:"Equipo",sortable:!0,sortDirection:"desc"},{key:"operador",label:"Operador",sortable:!0,sortDirection:"desc"},{key:"usuario",label:"Usuario",sortable:!0,class:"text-center"},{key:"entradasalida",label:"Tipo",class:"text-center"},{key:"action",label:"",class:"text-center"}]}},components:{TableSortable:xe},mounted:function(){this.ObtenerEntradasSalidas()},created:function(){},computed:{},methods:{Inicializar:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=t.toISOString().slice(0,10);this.desde=a,this.hasta=a,this.items=[],this.ObtenerEntradasSalidas()},ObtenerEntradasSalidas:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Wo.obtenerEntradasSalidas(e.desde,e.hasta).then((function(t){e.items=t.data,e.$loading(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},EntradaNueva:function(){this.$router.push({path:"/portero/entradas-salidas/registro/1"})},SalidaNueva:function(){this.$router.push({path:"/portero/entradas-salidas/registro/0"})},buscar:function(){this.ObtenerEntradasSalidas()}}},Yo=Xo,Zo=Object(m["a"])(Yo,Ko,Ho,!1,null,"7300e569",null),Qo=Zo.exports,er=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container mt-3"},[a("div",{staticClass:"mt-3"},[e.entradaSalida.entrada?a("h3",[a("i",{staticClass:"fas fa-truck-moving"}),e._v(" Nueva Entrada")]):e._e(),e.entradaSalida.entrada?e._e():a("h3",[a("i",{staticClass:"fas fa-truck-moving"}),e._v(" Nueva Salida")])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"form-group col-sm-12 col-md-6"},[a("label",[e._v("Nota Remisión")]),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision,expression:"notaRemision"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.notaRemision=t.target.multiple?a:a[0]},e.obtenerDatosNotaRemision]}},e._l(e.notas,(function(t){return a("option",{key:t.codigo,domProps:{value:t}},[e._v(" "+e._s(t.text)+" ")])})),0)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2"},[a("label",[e._v("Equipo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.equipo,expression:"notaRemision.equipo"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.notaRemision.equipo},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"equipo",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6"},[a("label",[e._v("Operador")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.operador,expression:"notaRemision.operador"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.notaRemision.operador},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"operador",t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2"},[a("label",[e._v("Kilometraje")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.entradaSalida.kilometraje,expression:"entradaSalida.kilometraje"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el kilometraje de la unidad."},domProps:{value:e.entradaSalida.kilometraje},on:{focus:function(t){return e.onFocus(1)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.entradaSalida,"kilometraje",t.target.value)}}})])]),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6"},[a("label",[e._v("Horometraje")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.entradaSalida.horometraje,expression:"entradaSalida.horometraje"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el horometraje de la unidad."},domProps:{value:e.entradaSalida.horometraje},on:{focus:function(t){return e.onFocus(2)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.entradaSalida,"horometraje",t.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6"},[a("label",[e._v("Observación:")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.entradaSalida.observacion,expression:"entradaSalida.observacion"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture la observación."},domProps:{value:e.entradaSalida.observacion},on:{input:function(t){t.target.composing||e.$set(e.entradaSalida,"observacion",t.target.value)}}})])])]),a("b-row",{staticClass:"mt-5"},[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.GuardarEntradasSalidas}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.CancelarEntradaSalida}},[e._v(" Cancelar ")])],1)],1)],1)])},tr=[],ar={data:function(){return{notas:[{value:0,text:"Seleccione una nota de remisión",codOperador:0,codEquipo:0,operador:"",equipo:"",idNotasRemisionEnc:0}],notaRemision:[],inputSeleccionado:0,entradaSalida:{kilometraje:0,horometraje:0,observacion:"",entrada:!1,notaRemision:0,codEquipo:0,CodOperador:0,idNotasRemisionEnc:0}}},components:{},mounted:function(){this.obtenerNotasRemision()},created:function(){this.entradaSalida.entrada=1==this.$route.params.entrada},computed:{},methods:{obtenerNotasRemision:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,oe.obtenerNotasRemisionEntradasSalidas(e.entradaSalida.entrada).then((function(t){console.log("R ->",t),t.value&&(t.data.forEach((function(t){var a={value:t.folio,text:t.folio+" - "+t.cliente,codEquipo:t.codEquipo,codOperador:t.codOperador,equipo:t.equipo,operador:t.operador,idNotasRemisionEnc:t.idNotasRemisionEnc};e.notas.push(a)})),e.notaRemision=e.notas[0])}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},GuardarEntradasSalidas:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",a=e.entradaSalida.entrada?"entrada":"salida",t.next=4,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar esta "+a+"?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 4:if(o=t.sent,!o.value){t.next=26;break}if(!(e.notaRemision.codEquipo>0)){t.next=25;break}if(!(e.notaRemision.codOperador>0)){t.next=22;break}if(!(e.notaRemision.value>0)){t.next=19;break}if(!(e.entradaSalida.horometraje<=0||e.entradaSalida.kilometraje<=0)){t.next=13;break}e.entradaSalida.kilometraje<=0?O.a.fire("¡ATENCIÓN!","Favor de ingresar correctamente el kilometraje.","info"):O.a.fire("¡ATENCIÓN!","Favor de ingresar correctamente el horometraje.","info"),t.next=17;break;case 13:return t.next=15,e.ValidacionDeDatos();case 15:e.$loading(!0),Wo.guardarEntradasSalidas(e.entradaSalida).then((function(t){t.value?(O.a.fire("¡EXITO!","Se guardo correctamente la "+a,"success"),e.$router.push({path:"/portero/entradas-salidas"})):O.a.fire("¡ATENCIÓN!",t.message,"error"),e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 17:t.next=20;break;case 19:e.$swal.fire({text:"Favor de seleccionar una nota de remisión.",icon:"warning"});case 20:t.next=23;break;case 22:e.$swal.fire({text:"Favor de seleccionar un operador.",icon:"warning"});case 23:t.next=26;break;case 25:e.$swal.fire({text:"Favor de seleccionar un equipo.",icon:"warning"});case 26:case"end":return t.stop()}}),t)})))()},CancelarEntradaSalida:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({path:"/portero/entradas-salidas/"});case 1:case"end":return t.stop()}}),t)})))()},numerosDecimales:function(e){var t=e.keyCode?e.keyCode:e.which;1==this.inputSeleccionado?!(t<48||t>57)||46===t&&-1==this.entradaSalida.kilometraje.indexOf(".")||e.preventDefault():2==this.inputSeleccionado&&(!(t<48||t>57)||46===t&&-1==this.entradaSalida.horometraje.indexOf(".")||e.preventDefault())},onFocus:function(e){this.inputSeleccionado=e},ValidacionDeDatos:function(){""==this.entradaSalida.observacion&&(this.entradaSalida.observacion=""),""==this.entradaSalida.kilometraje&&(this.entradaSalida.kilometraje=0),""==this.entradaSalida.horometraje&&(this.entradaSalida.horometraje=0),this.entradaSalida.notaRemision=this.notaRemision.value,this.entradaSalida.codEquipo=this.notaRemision.codEquipo,this.entradaSalida.codOperador=this.notaRemision.codOperador,this.entradaSalida.idNotasRemisionEnc=this.notaRemision.idNotasRemisionEnc},obtenerDatosNotaRemision:function(){console.log(this.notaRemision)}}},or=ar,rr=Object(m["a"])(or,er,tr,!1,null,"27aaaacc",null),nr=rr.exports,ir=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container mt-3"},[e._m(0),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("b-row",[a("div",{staticClass:"col-sm-12 col-md-3"},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.buscar}},[a("i",{staticClass:"fa fa-search"}),e._v(" Buscar ")])],1),a("b-col",{staticClass:"col-sm-12 col-md-3",attrs:{"align-self":"end"}})],1),a("div",[a("table-sortable",{staticClass:"mt-3",attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)],1)])},sr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-gas-pump"}),e._v(" Suministros")])])}],cr={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=t.toISOString().slice(0,10);return{desde:a,hasta:a,items:[],fields:[{key:"equipo",label:"Equipo",sortable:!0,sortDirection:"desc"},{key:"operador",label:"Operador",sortable:!0,sortDirection:"desc"},{key:"usuario",label:"Usuario",sortable:!0,class:"text-center"},{key:"fecha",label:"Fecha",sortable:!0,class:"text-center"},{key:"action",label:"",class:"text-center"}],rutaNuevo:"/portero/suministros/registro/0",permisoEscritura:!0}},components:{TableSortable:xe},mounted:function(){},created:function(){},computed:{},methods:{ObtenerSuministros:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Wo.obtenerSuministros(e.desde,e.hasta).then((function(t){e.items=t.data,e.$loading(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},buscar:function(){this.ObtenerSuministros()}}},lr=cr,ur=Object(m["a"])(lr,ir,sr,!1,null,"051016a7",null),dr=ur.exports,mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container mt-3"},[e._m(0),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 mb-2"},[a("label",[e._v("Equipo")]),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.equipoSeleccionado,expression:"equipoSeleccionado"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.equipoSeleccionado=t.target.multiple?a:a[0]}}},e._l(e.Equipos,(function(t){return a("option",{key:t.codigo,domProps:{value:t}},[e._v(" "+e._s(t.nombre)+" ")])})),0)])]),a("div",{staticClass:"form-group col-sm-12 col-md-6"},[a("label",[e._v("Operador")]),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.operadorSeleccionado,expression:"operadorSeleccionado"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.operadorSeleccionado=t.target.multiple?a:a[0]}}},e._l(e.Operadores,(function(t){return a("option",{key:t.codigo,domProps:{value:t}},[e._v(" "+e._s(t.nombreCompleto)+" ")])})),0)])])]),a("div",{staticClass:"form-group col-sm-12 col-md-6"},[a("label",[e._v("Diesel")]),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.suministros.diesel,expression:"suministros.diesel"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el nivel de diesel de la unidad."},domProps:{value:e.suministros.diesel},on:{focus:function(t){return e.onFocus(1)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.suministros,"diesel",t.target.value)}}})])]),a("div",{staticClass:"form-group col-sm-12 col-md-6"},[a("label",[e._v("Anticongelante")]),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.suministros.anticongelante,expression:"suministros.anticongelante"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el nivel de anticongelante de la unidad."},domProps:{value:e.suministros.anticongelante},on:{focus:function(t){return e.onFocus(2)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.suministros,"anticongelante",t.target.value)}}})])]),a("div",{staticClass:"form-group col-sm-12 col-md-6"},[a("label",[e._v("Aceite")]),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.suministros.aceite,expression:"suministros.aceite"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el nivel de aceite de la unidad."},domProps:{value:e.suministros.aceite},on:{focus:function(t){return e.onFocus(3)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.suministros,"aceite",t.target.value)}}})])]),a("b-row",{staticClass:"mt-5"},[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.GuardarSuministros}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.CancelarEntradaSalida}},[e._v(" Cancelar ")])],1)],1)],1)])},pr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-gas-pump"}),e._v(" Registro")])])}],fr={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=t.toISOString().slice(0,10);return{Equipos:[],equipoSeleccionado:[],Operadores:[],operadorSeleccionado:[],historial:!0,desde:a,hasta:a,inputSeleccionado:0,suministros:{diesel:0,anticongelante:0,aceite:0,codEquipo:0,CodOperador:0},parametro:0}},components:{},mounted:function(){this.ObtenerEquipos(),this.ObtenerOperadores()},created:function(){this.parametro=this.$route.params.id,console.log("P->",this.parametro)},computed:{},methods:{Inicializar:function(){this.historial=!0,this.ObtenerEquipos(),this.ObtenerOperadores(),this.suministros={diesel:0,anticongelante:0,aceite:0,codEquipo:0,codOperador:0}},ObtenerEquipos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.Equipos=[],e.$loading(!0),t.next=4,fe.equipos(0).then((function(t){e.Equipos=t.data,e.equipoSeleccionado=e.Equipos[0],e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 4:case"end":return t.stop()}}),t)})))()},ObtenerOperadores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.Operadores=[],e.$loading(!0),t.next=4,Ka.obtenerOperadores(0).then((function(t){console.log(t),e.Operadores=t.data,e.operadorSeleccionado=e.Operadores[0],e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 4:case"end":return t.stop()}}),t)})))()},GuardarSuministros:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar los niveles de suministros de la unidad?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:if(a=t.sent,!a.value){t.next=20;break}if(!(e.equipoSeleccionado.codigo>0)){t.next=19;break}if(!(e.operadorSeleccionado.codigo>0)){t.next=16;break}if(0!=e.suministros.diesel||0!=e.suministros.anticongelante||0!=e.suministros.aceite){t.next=10;break}O.a.fire("¡ATENCIÓN!","Favor de ingresar correctamente los datos.","info"),t.next=14;break;case 10:return t.next=12,e.ValidacionDeDatos();case 12:e.$loading(!0),Wo.guardarSuministros(e.suministros).then((function(t){t.value?(O.a.fire("¡EXITO!","Se guardo correctamente los suministros","success"),e.$router.push({path:"/portero/suministros"})):O.a.fire("¡ATENCIÓN!",t.message,"error"),e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 14:t.next=17;break;case 16:e.$swal.fire({text:"Favor de seleccionar un equipo",icon:"warning"});case 17:t.next=20;break;case 19:e.$swal.fire({text:"Favor de seleccionar un operador",icon:"warning"});case 20:case"end":return t.stop()}}),t)})))()},CancelarEntradaSalida:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.Inicializar();case 2:case"end":return t.stop()}}),t)})))()},numerosDecimales:function(e){var t=e.keyCode?e.keyCode:e.which;1==this.inputSeleccionado?!(t<48||t>57)||46===t&&-1==this.suministros.diesel.indexOf(".")||e.preventDefault():2==this.inputSeleccionado?!(t<48||t>57)||46===t&&-1==this.suministros.anticongelante.indexOf(".")||e.preventDefault():!(t<48||t>57)||46===t&&-1==this.suministros.aceite.indexOf(".")||e.preventDefault()},onFocus:function(e){this.inputSeleccionado=e},ValidacionDeDatos:function(){""==this.suministros.diesel&&(this.suministros.diesel=0),""==this.suministros.anticongelante&&(this.suministros.anticongelante=0),""==this.suministros.aceite&&(this.suministros.aceite=0),this.suministros.codEquipo=this.equipoSeleccionado.codigo,this.suministros.codOperador=this.operadorSeleccionado.codigo}}},br=fr,vr=Object(m["a"])(br,mr,pr,!1,null,"d4f3aeca",null),hr=vr.exports,gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"m-3"},[e._m(0),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-3 mb-2"},[a("label",[e._v("Vendedor")]),a("div",{staticClass:"input-group"},[a("b-form-select",{attrs:{id:"cboVendedor",options:e.vendedores,disabled:e.disabledVendedor},on:{change:e.obtenerClientes},model:{value:e.agente.codVendedor,callback:function(t){e.$set(e.agente,"codVendedor",t)},expression:"agente.codVendedor"}})],1)])]),a("div",[a("hr"),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatusNuevo)",fn:function(t){return["A"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"success"}},[e._v("Activo")]):e._e(),"DC"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Límite Crédito")]):e._e()]}}])}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])},Cr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Clientes Agentes")])])}],xr={data:function(){return{vendedores:[{value:0,text:"Todos"}],clientes:[],agente:{codVendedor:0},disabledVendedor:!1,datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"nombreCompleto",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"creditoFormat",label:"Credito",sortable:!0,class:"text-center"},{key:"fechaCorta",label:"Fecha Registro",sortable:!0,sortDirection:"desc"},{key:"telefono",label:"Telefono",sortable:!0,class:"text-center"},{key:"estatusNuevo",label:"Estatus",sortable:!0,class:"text-center"}]}},components:{},mounted:function(){},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.usuario),1!==e.usuario.agente){t.next=9;break}return e.vendedores=[{value:e.usuario.codEmpleado,text:e.usuario.nombre}],e.agente.codVendedor=e.vendedores[0].value,e.disabledVendedor=!0,t.next=7,e.obtenerClientes();case 7:t.next=12;break;case 9:return e.disabledVendedor=!1,t.next=12,e.obtenerVendedores();case 12:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{obtenerClientes:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],e.$loading(!0),console.log("Agente ->",e.agente),t.next=5,qe.obtenerClientes(e.agente.codVendedor).then((function(t){console.log(t.data),e.items=t.data,e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 5:case"end":return t.stop()}}),t)})))()},obtenerVendedores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.vendedores=[{value:0,text:"Seleccione el vendedor"}],e.$loading(!0),t.next=4,qe.agentesCombo().then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codVendedor,text:t.nombreVendedor};e.vendedores.push(a)}))}));case 4:e.$loading(!1);case 5:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)}}},wr=xr,kr=(a("b3cd"),Object(m["a"])(wr,gr,Cr,!1,null,"7bef965d",null)),_r=kr.exports,Rr=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},yr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Agentes - Programación")])])}],Er={data:function(){return{}},components:{},mounted:function(){},created:function(){},computed:{},methods:{}},Pr=Er,$r=Object(m["a"])(Pr,Rr,yr,!1,null,"4d8885ba",null),Or=$r.exports,Sr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",[a("b-modal",{attrs:{centered:"",size:"xl",title:"Detalle de nota de remisión","header-bg-variant":e.headerBgVariant,"header-text-variant":e.headerTextVariant},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:function(t){e.modalShow=!1}}},[e._v(" Aceptar ")])],1)]},proxy:!0}]),model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[a("b-container",{staticClass:"container",attrs:{fluid:""}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-12 col-lg-12 col-xl-2 mb-1"},[a("label",[e._v("Folio")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.folio,expression:"data.folio"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.folio},on:{input:function(t){t.target.composing||e.$set(e.data,"folio",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-4 col-xl-2 mb-1"},[a("label",[e._v("Folio Ginco")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.folioGinco,expression:"data.folioGinco"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.folioGinco},on:{input:function(t){t.target.composing||e.$set(e.data,"folioGinco",t.target.value)}}})]),a("div",{staticClass:"\n              form-group\n              col-sm-12 col-md-4 col-lg-4\n              offset-xl-5\n              col-xl-2\n              mb-1\n            "},[a("label",[e._v("Hora")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.horaSalida,expression:"data.horaSalida"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.horaSalida},on:{input:function(t){t.target.composing||e.$set(e.data,"horaSalida",t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-1"},[a("label",[e._v("Cliente")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.cliente,expression:"data.cliente"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.cliente},on:{input:function(t){t.target.composing||e.$set(e.data,"cliente",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-1"},[a("label",[e._v("Obra")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.obra,expression:"data.obra"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.obra},on:{input:function(t){t.target.composing||e.$set(e.data,"obra",t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-3 mb-1"},[a("label",[e._v("Fórmula")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.formula,expression:"data.formula"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.formula},on:{input:function(t){t.target.composing||e.$set(e.data,"formula",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-2 mb-1"},[a("label",[e._v("Cantidad")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.cantidad,expression:"data.cantidad"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.cantidad},on:{input:function(t){t.target.composing||e.$set(e.data,"cantidad",t.target.value)}}})]),a("div",{staticClass:"\n              form-group\n              col-sm-12 col-md-4 col-lg-4 col-xl-2\n              mb-2\n              text-center\n              my-1\n            "},[a("label",[e._v("ES BOMBEABLE")]),a("b-form-checkbox",{attrs:{name:"check-button",switch:"",size:"md",disabled:!0},model:{value:e.data.bombeable,callback:function(t){e.$set(e.data,"bombeable",t)},expression:"data.bombeable"}})],1),a("div",{staticClass:"\n              form-group\n              col-sm-12 col-md-4 col-lg-4 col-xl-2\n              mb-2\n              text-center\n              my-1\n            "},[a("label",[e._v("FIBRA")]),a("b-form-checkbox",{attrs:{name:"check-button",switch:"",size:"md",disabled:!0},model:{value:e.data.fibra,callback:function(t){e.$set(e.data,"fibra",t)},expression:"data.fibra"}})],1),a("div",{staticClass:"\n              form-group\n              col-sm-12 col-md-4 col-lg-4 col-xl-2\n              mb-2\n              text-center\n              my-1\n            "},[a("label",[e._v("IMPER")]),a("b-form-checkbox",{attrs:{name:"check-button",switch:"",size:"md",disabled:!0},model:{value:e.data.imper,callback:function(t){e.$set(e.data,"imper",t)},expression:"data.imper"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-12 mb-1"},[a("label",[e._v("Producto")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.producto,expression:"data.producto"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.producto},on:{input:function(t){t.target.composing||e.$set(e.data,"producto",t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-12 mb-1"},[a("label",[e._v("Vendedor")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.vendedor,expression:"data.vendedor"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.vendedor},on:{input:function(t){t.target.composing||e.$set(e.data,"vendedor",t.target.value)}}})])]),a("div",{staticClass:"row my-2"},[a("b-col",{staticClass:"form-group col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-1"},[a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-12 col-lg-6 col-xl-6"},[a("b-form-group",{attrs:{"label-cols-lg":"3",id:"input-group-4",label:"Operador","label-for":"cboOperador"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.operadorCR.nombreCompleto,expression:"data.operadorCR.nombreCompleto"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.operadorCR.nombreCompleto},on:{input:function(t){t.target.composing||e.$set(e.data.operadorCR,"nombreCompleto",t.target.value)}}})])],1),a("div",{staticClass:"form-group col-sm-12 col-md-12 col-lg-6 col-xl-6"},[a("b-form-group",{attrs:{"label-cols-lg":"3",id:"input-group-4",label:"Equipo","label-for":"cboOperador"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.operadorCR.equipo,expression:"data.operadorCR.equipo"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.operadorCR.equipo},on:{input:function(t){t.target.composing||e.$set(e.data.operadorCR,"equipo",t.target.value)}}})])],1)])],1)],1),e.data.bombeable?a("div",{staticClass:"row"},[a("b-col",{staticClass:"form-group col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-2"},[a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-12 col-lg-6 col-xl-6"},[a("b-form-group",{attrs:{"label-cols-lg":"3",id:"input-group-4",label:"Operador","label-for":"cboOperador"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.operadorBB.nombreCompleto,expression:"data.operadorBB.nombreCompleto"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.operadorBB.nombreCompleto},on:{input:function(t){t.target.composing||e.$set(e.data.operadorBB,"nombreCompleto",t.target.value)}}})])],1),a("div",{staticClass:"form-group col-sm-12 col-md-12 col-lg-6 col-xl-6"},[a("b-form-group",{attrs:{"label-cols-lg":"3",id:"input-group-4",label:"Equipo","label-for":"cboOperador"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.operadorBB.equipo,expression:"data.operadorBB.equipo"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.data.operadorBB.equipo},on:{input:function(t){t.target.composing||e.$set(e.data.operadorBB,"equipo",t.target.value)}}})])],1)])],1)],1):e._e()])],1)],1),a("div",{staticClass:"container mt-3"},[e._m(0),a("table-sortable",{staticClass:"mt-3",attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura},on:{"show-modal":e.showModal}})],1)])},Nr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-clipboard"}),e._v(" Pedidos")])])}],Dr={data:function(){return{data:{operadorCR:{nombreCompleto:""},operadorBB:{nombreCompleto:""}},modalShow:!1,rutaNuevo:"nota-de-remision/registro/",items:[],fields:[{key:"folioGinco",label:"Folio Ginco",sortable:!0,class:"text-center"},{key:"cliente",label:"Cliente",sortable:!0,class:"text-center"},{key:"obra",label:"Obra",sortable:!0,class:"text-center"},{key:"estatus",label:"Estatus",sortable:!0,class:"text-center",formatter:function(e){var t="";switch(e){case"S":t="Surtiendo";break;case"C":t="Cancelado";break;case"T":t="Terminado";break}return t}},{key:"fechaConFormato",label:"Fecha",sortable:!0,class:"text-center"},{key:"detalleEmit",label:"Ver",class:"text-center"},{key:"descargar",label:"Descarga",class:"text-center"}],permisoEscritura:!1,variants:["primary","secondary","success","warning","danger","info","light","dark"],headerBgVariant:"dark",headerTextVariant:"light",bodyBgVariant:"light",bodyTextVariant:"dark",footerBgVariant:"warning",footerTextVariant:"dark"}},components:{TableSortable:xe},mounted:function(){this.ObtenerNotasRemision()},methods:{ObtenerNotasRemision:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),a=window.localStorage.codigo,console.log("Codigo agente"+a),t.next=5,qe.obtenerNotasRemisionAgente(a).then((function(t){e.items=t.data,e.$loading(!1)})).catch((function(t){e.$loading(!1),console.error(t)}));case 5:case"end":return t.stop()}}),t)})))()},showModal:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,qe.obtenerDetalleNotasRemisionAgente(e.item.idNotasRemisionEnc);case 2:o=a.sent,t.data=e.item,o.data.length>1?(t.data.bombeable=!0,t.data.operadorCR=o.data[0],t.data.operadorBB=o.data[1]):(t.data.bombeable=!1,t.data.operadorCR=o.data[0]),t.modalShow=!0;case 6:case"end":return a.stop()}}),a)})))()}}},Fr=Dr,Tr=Object(m["a"])(Fr,Sr,Nr,!1,null,"de85d0b4",null),jr=Tr.exports,Ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"row"},[0==e.items.length?a("div",{staticClass:"col-12 mt-3 text-center"},[e._m(1)]):e._e(),e.items.length>0?a("div",{staticClass:"col-12 my-3"},[a("b-table",{attrs:{items:e.items,fields:e.fields,striped:"",fixed:"",borderer:"",responsive:"sm"},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){var o=t.item;return[a("button",{staticClass:"btn btn-primary btn-sm col-12",on:{click:function(t){return e.toggleDetails(o)}}},[e._v(" "+e._s(o._showDetails?"Ocultar":"Mostrar productos")+" ")])]}},{key:"cell(agregar_producto)",fn:function(t){var o=t.item;return[a("button",{staticClass:"btn btn-primary btn-sm col-12",on:{click:function(t){return e.agregarProductos(o)}}},[e._v(" Agregar Producto ")])]}},{key:"row-details",fn:function(t){var o=t.item,r=o.details,n=o.indice;return[r.length>0?a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[a("table",{staticClass:"table table-striped table-sm"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Producto")]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("Precio Sin Iva")]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("Precio Con Iva")]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("Iva")]),a("th",{attrs:{scope:"col"}})])]),a("tbody",e._l(r,(function(t,o){return a("tr",{key:o},[a("td",{staticClass:"font-14"},[a("b",[e._v(e._s(t.nomenclatura))]),e._v(" - "+e._s(t.descripcionProducto)+" ")]),a("td",{staticClass:"col-2"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:t.precioSinIva,expression:"producto.precioSinIva"}],staticClass:"form-control text-right",attrs:{maxlength:"9",disabled:t.disabled},domProps:{value:t.precioSinIva},on:{keypress:e.numerosDecimales,blur:function(t){return t.stopPropagation(),e.calculoSinIva(o,n,!1)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.calculoSinIva(o,n,!1)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(a){a.target.composing||e.$set(t,"precioSinIva",a.target.value)}}})]),a("td",{staticClass:"col-2"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:t.precioConIva,expression:"producto.precioConIva"}],staticClass:"form-control text-right",attrs:{readonly:t.disabled,maxlength:"9"},domProps:{value:t.precioConIva},on:{keypress:e.numerosDecimales,blur:function(t){return t.stopPropagation(),e.calculoConIva(o,n,!1)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.calculoConIva(o,n,!1)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(a){a.target.composing||e.$set(t,"precioConIva",a.target.value)}}})]),a("td",{staticClass:"col-2 text-right"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:t.iva,expression:"producto.iva"}],staticClass:"form-control text-right",attrs:{maxlength:"9",readonly:!0},domProps:{value:t.iva},on:{keypress:e.numerosDecimales,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(a){a.target.composing||e.$set(t,"iva",a.target.value)}}})]),t.disabled?a("td",{staticClass:"text-center p-2",on:{click:function(t){return e.editItem(o,n)}}},[a("span",{staticClass:"icon-edit"},[a("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})])]):e._e(),t.disabled?e._e():a("td",{staticClass:"text-center p-2",on:{click:function(a){return e.editItem(o,n,t)}}},[a("span",{staticClass:"icon-edit"},[a("i",{staticClass:"fa fa-save",attrs:{"aria-hidden":"true"}})])])])})),0)])]):e._e(),0==r.length?a("div",{staticClass:"alert alert-info pt-3 pb-0",attrs:{role:"alert"}},[a("div",{staticClass:"alert alert-warning text-center pt-1 pb-0",attrs:{role:"alert"}},[a("h5",[e._v("No hay productos asignados.")])])]):e._e()]}}],null,!1,2750330180)})],1):e._e()]),a("b-modal",{attrs:{centered:"",size:"lg","hide-footer":""},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[0==e.nuevoProducto.length?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("typeahead",{attrs:{"enabled-enter-search":!1,"min-car-length":e.minimoCaracteres,"input-label":"Buscar Producto: ","place-holder":"N2002012","data-source":e.datasource,"limpiar-control":e.limpiarControl},on:{selectitem:e.returnedItem}})],1)]):a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("label",{attrs:{for:""}},[a("b",[e._v(e._s(e.nuevoProducto.nomenclatura))])])]),a("div",{staticClass:"col-12 text-center"},[a("label",[e._v(" "+e._s(e.nuevoProducto.descripcion)+" ")])])]),a("div",{staticClass:"row my-2"},[a("div",{staticClass:"col-12 col-md-4"},[a("label",{attrs:{for:"precio"}},[e._v("Precio sin IVA:")]),a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.productoSeleccionado.precioSinIva,expression:"productoSeleccionado.precioSinIva"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.productoSeleccionado.precioSinIva},on:{keypress:e.numerosDecimales,blur:function(t){return e.calculoSinIva(0,0,!0)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.calculoSinIva(0,0,!0)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(t){t.target.composing||e.$set(e.productoSeleccionado,"precioSinIva",t.target.value)}}})]),a("div",{staticClass:"col-12 col-md-4"},[a("label",{attrs:{for:"precio"}},[e._v("Precio con IVA:")]),a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.productoSeleccionado.precioConIva,expression:"productoSeleccionado.precioConIva"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.productoSeleccionado.precioConIva},on:{keypress:e.numerosDecimales,blur:function(t){return e.calculoConIva(0,0,!0)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.calculoConIva(0,0,!0)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(t){t.target.composing||e.$set(e.productoSeleccionado,"precioConIva",t.target.value)}}})]),a("div",{staticClass:"col-12 col-md-4"},[a("label",{attrs:{for:"precio"}},[e._v("IVA:")]),a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.productoSeleccionado.Iva,expression:"productoSeleccionado.Iva"}],staticClass:"form-control",attrs:{type:"text",readonly:!0},domProps:{value:e.productoSeleccionado.Iva},on:{input:function(t){t.target.composing||e.$set(e.productoSeleccionado,"Iva",t.target.value)}}})])]),a("div",{staticClass:"row text-right"},[a("div",{staticClass:"col-12 mt-3"},[a("button",{staticClass:"btn btn-sm btn-secondary col-12 col-md-3",on:{click:e.limpiarDatosProducto}},[e._v(" Cancelar ")]),a("button",{ref:"btnModalGuardar",staticClass:"btn btn-sm btn-primary col-12 col-md-3 ml-2",on:{click:e.guardarPrecioProducto}},[e._v(" Guardar ")])])])])])],1)},Br=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h3",[a("i",{staticClass:"fas fa-clipboard-list"}),e._v(" Lista de Precios")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[a("h4",[e._v("No existen clientes asignados al Agente")])])}],qr=(a("caad"),a("a9e3"),a("2532"),a("498a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.contentClass},[""!=e.inputLabel?a("label",[e._v(e._s(e.inputLabel))]):e._e(),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.buscar,expression:"buscar"}],ref:"inputTypeahead",staticClass:"form-control",class:{"is-invalid":e.error,"form-control-sm":e.sm},attrs:{type:"text",disabled:e.disabled||e.disabledInput,placeholder:[[e.placeHolder]]},domProps:{value:e.buscar},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearch(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.nextItem(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.nextItem(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideList(t)}],input:function(t){t.target.composing||(e.buscar=t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-danger",class:{"btn-sm":e.sm},attrs:{type:"button",id:"btnLimpiar",title:"Limpiar busqueda"},on:{click:e.clear}},[a("i",{staticClass:"far fa-times-circle fa-lg"})])]),e.error?a("div",{staticClass:"invalid-feedback"},[e._v("Este campo es requerido")]):e._e()]),e.visible?a("ul",{ref:"searchList",staticClass:"vue-bootstrap-typeahead list-group"},e._l(e.items,(function(t,o){return a("li",{key:o,staticClass:"list-group-item font-12",class:{active:e.currentItem===o},on:{click:function(a){return e.selectItem(t)},key:o}},[e._v(" "+e._s(t.descripcion)+" ")])})),0):e._e()])}),Mr=[],Ir={buscar:function(e){return D.get(e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},zr=Ir,Vr={data:function(){return{visible:!1,selected:!1,disabled:!1,currentItem:null,timeoutId:0,query:"",valueInterno:String,selectedItemInterno:null,items:[],buscar:"",error:!1}},props:{contentClass:{type:Array,defaultValue:["mb-3"]},sm:{type:Boolean},dataSource:{type:String},minCarLength:{type:Number},enabledEnterSearch:{type:Boolean},inputLabel:{type:String},placeHolder:{type:String},selectedItem:{type:Object},limpiarControl:{type:Boolean},disabledInput:{type:Boolean}},methods:{hideList:function(){this.items=[]},nextItem:function(){38===event.keyCode&&this.currentItem>=1?this.currentItem--:40===event.keyCode&&this.currentItem<=this.items.length&&this.currentItem++;var e=49*this.currentItem,t=this.$refs.searchList.scrollTop+this.$refs.searchList.clientHeight;e===this.$refs.searchList.scrollTop||e-this.$refs.searchList.scrollTop<=5?this.$refs.searchList.scrollTop=this.$refs.searchList.scrollTop-294:(e<this.$refs.searchList.scrollTop||e>t)&&(this.$refs.searchList.scrollTop=e-49)},enterSearch:function(){this.visible?this.selectItem():!0!==!this.enabledEnterSearch&&this.searchText(this.buscar)},searchText:function(e){if(!(""===e||!0===this.selected||e.length<=this.minCarLength)){var t=this;clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){zr.buscar(t.dataSource+e).then((function(e){void 0!==e.data?(t.items=e.data,t.visible=!0):t.items=[]}))}),500)}},selectItem:function(e){if(void 0===e){if(!(this.items.length>0))return;e=this.items[this.currentItem]}this.visible=!1,this.selected=!0,this.query=e.descripcion,this.buscar=e.descripcion,this.disabled=!0,this.selectedItemInterno=e,this.valueInterno=this.buscar,this.$emit("input",this.valueInterno),this.$emit("selectitem",e)},clear:function(){this.selectedItemInterno=null,this.query="",this.buscar="",this.items=[],this.disabled=!1,this.selected=!1,this.valueInterno="",this.$refs.inputTypeahead.focus(),this.$emit("input",this.valueInterno),this.$emit("selectitem",null)}},watch:{buscar:function(e){!0!==this.enabledEnterSearch?this.searchText(e):this.visible=!1},items:function(e){e&&console.log(""),this.currentItem=0},limpiarControl:function(e){e&&this.clear()}}},Gr=Vr,Ur=(a("4d06"),Object(m["a"])(Gr,qr,Mr,!1,null,null,null)),Lr=Ur.exports,Kr={data:function(){return{precioAnterior:0,guardarCambioPrecioCte:!1,modalShow:!1,productoSeleccionadoBand:!1,nuevoProducto:[],fields:[{key:"cliente",label:"CLIENTES"},{key:"actions",label:""},{key:"agregar_producto",label:""}],items:[],productos:[],productosXCliente:[],productoSeleccionado:"",clienteSeleccionado:[],productoBuscar:"",editedUser:null,Iva:0,minimoCaracteres:2,datasource:"/dosificador/formulas/",limpiarControl:!1}},components:{Typeahead:Lr},computed:{filterStateProductos:function(){var e=this;return this.productos.filter((function(t){var a=t.nomenclatura.toString(),o=e.productoBuscar.trim().toUpperCase();return a.includes(o)}))}},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerParametro("Iva");case 2:e.Iva=t.sent,e.obtenerClientes(),e.cargarProductos(0);case 5:case"end":return t.stop()}}),t)})))()},created:function(){},methods:{bloqTab:function(e){var t=e.keyCode?e.keyCode:e.which;9==t&&e.preventDefault()},returnedItem:function(e){this.limpiarControl=!1,this.nuevoProducto=e},calculoSinIva:function(e,t,a){if(a){var o=this.productoSeleccionado.precioSinIva,r=o*(1+Number(this.Iva/100));this.productoSeleccionado.precioConIva=r.toFixed(2),this.productoSeleccionado.Iva=(r-o).toFixed(2),this.$refs["btnModalGuardar"].focus()}else{var n=Number(this.items[t].details[e].precioSinIva),i=n*(1+Number(this.Iva/100));this.$set(this.items[t],"_showDetails",!1),this.items[t].details[e].precioSinIva=n.toFixed(2),this.items[t].details[e].precioConIva=i.toFixed(2),this.items[t].details[e].iva=(i-n).toFixed(2),this.$set(this.items[t],"_showDetails",!0)}},calculoConIva:function(e,t,a){if(a){var o=this.productoSeleccionado.precioConIva,r=o*Number(this.Iva/100);console.log(o," -- ",r),this.productoSeleccionado.precioConIva=o.toFixed(2),this.productoSeleccionado.precioSinIva=(o-r).toFixed(2),this.productoSeleccionado.Iva=r.toFixed(2),this.$refs["btnModalGuardar"].focus()}else{this.$set(this.items[t],"_showDetails",!1);var n=Number(this.items[t].details[e].precioConIva),i=n/(1+Number(this.Iva/100));this.items[t].details[e].precioConIva=n.toFixed(2),this.items[t].details[e].precioSinIva=i.toFixed(2),this.items[t].details[e].iva=(n-i).toFixed(2),this.$set(this.items[t],"_showDetails",!0)}},editItem:function(e,t,a){var o=this;return Object(L["a"])(regeneratorRuntime.mark((function r(){var n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o.items[t].details[e].disabled){r.next=18;break}return n={codProductoXCliente:a.codigo,codCliente:a.codCliente,codProducto:a.codProducto,precioSinIva:a.precioSinIva,precioConIva:a.precioConIva,Iva:a.iva},r.next=4,o.$swal.fire({title:"¿Desea actualizar el precio del producto asignado al cliente?",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 4:if(i=r.sent,!i.value){r.next=12;break}return r.next=8,qe.guardarPrecioProducto(n);case 8:s=r.sent,s.value?(o.modalShow=!1,o.clienteSeleccionado=[],o.mostrarListaProductos=!1,o.$set(o.items[t],"_showDetails",!1),o.items[t].details[e].disabled=!0,o.$set(o.items[t],"_showDetails",!0),o.$swal.fire({text:s.message,icon:"info"})):o.$swal.fire({text:s.message,icon:"info"}),r.next=16;break;case 12:o.$set(o.items[t],"_showDetails",!1),o.items[t].details[e].precioSinIva=o.precioAnterior,o.items[t].details[e].disabled=!0,o.$set(o.items[t],"_showDetails",!0);case 16:r.next=22;break;case 18:o.precioAnterior=o.items[t].details[e].precioSinIva,o.$set(o.items[t],"_showDetails",!1),o.items[t].details[e].disabled=!1,o.$set(o.items[t],"_showDetails",!0);case 22:case"end":return r.stop()}}),r)})))()},numerosDecimales:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&46!==t?e.preventDefault():this.disabled=!0},obtenerParametro:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$e.obtenerParametro(e);case 2:if(a=t.sent,!a.value){t.next=5;break}return t.abrupt("return",a.data.valor);case 5:case"end":return t.stop()}}),t)})))()},obtenerProductosXCliente:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.productosXCliente=[],a.next=3,qe.obtenerProductosXCliente(e);case 3:o=a.sent,o.value&&(t.productosXCliente=o.data);case 5:case"end":return a.stop()}}),a)})))()},agregarProductos:function(e){this.limpiarDatosProducto(),this.nuevoProducto=[],this.modalShow=!0,this.clienteSeleccionado=e,this.mostrarListaProductos=!0},obtenerProductos:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.obtenerFormulas(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},cancelarBusquedaPrecio:function(){this.mostrarListaProductos=!0,this.productoBuscar=""},SeleccionaProducto:function(e){this.productoSeleccionado=e,this.mostrarListaProductos=!1},guardarPrecioProducto:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={codProductoXCliente:0,codCliente:e.clienteSeleccionado.codigo,codProducto:e.nuevoProducto.codigo,precioSinIva:e.productoSeleccionado.precioSinIva,precioConIva:e.productoSeleccionado.precioConIva,Iva:e.productoSeleccionado.iva},t.next=3,e.$swal.fire({title:"¿Desea guardar el precio del producto asignado al cliente?",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 3:if(o=t.sent,!o.value){t.next=25;break}return e.$loading(!0),t.next=8,qe.guardarPrecioProducto(a);case 8:if(r=t.sent,!r.value){t.next=22;break}return e.$loading(!1),t.next=13,e.$swal.fire({text:r.message,icon:"info"});case 13:return e.modalShow=!1,e.mostrarListaProductos=!1,e.$set(e.clienteSeleccionado,"_showDetails",!1),t.next=18,qe.obtenerProductosXCliente(e.clienteSeleccionado.codigo).catch((function(e){console.error("ha ocurrido un error",e)}));case 18:n=t.sent,n.data.length>0&&(i=n.data,e.clienteSeleccionado.details=i,e.nuevoProducto=[],e.limpiarDatosProducto(),e.$set(e.clienteSeleccionado,"_showDetails",!0)),t.next=24;break;case 22:e.$loading(!1),e.$swal.fire({text:r.message,icon:"info"});case 24:e.$loading(!1);case 25:case"end":return t.stop()}}),t)})))()},cargarProductos:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$loading(!0),a.next=3,t.obtenerProductos(e);case 3:o=a.sent,o.value&&(t.$loading(!1),o.data.forEach((function(e){var a={value:e.codigo,text:e.descripcion,nomenclatura:e.nomenclatura};t.productos.push(a)}))),t.$loading(!1);case 6:case"end":return a.stop()}}),a)})))()},obtenerClientes:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,qe.obtenerClientes().then((function(t){e.$loading(!1);var a=t.data;t.data.forEach((function(e,t){a[t].cliente=e.nombreCompleto})),e.items=a})).catch((function(t){e.$loading(!1),console.error(t)}));case 3:case"end":return t.stop()}}),t)})))()},toggleDetails:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.$loading(!0),!e._showDetails){a.next=5;break}t.$set(e,"_showDetails",!1),a.next=13;break;case 5:if(!e.details){a.next=9;break}t.$set(e,"_showDetails",!0),a.next=13;break;case 9:return a.next=11,qe.obtenerProductosXCliente(e.codigo).catch((function(e){console.error("ha ocurrido un error",e)}));case 11:o=a.sent,o&&(r=o.data,e.details=r,t.$set(e,"_showDetails",!0));case 13:t.$loading(!1);case 14:case"end":return a.stop()}}),a)})))()},limpiarDatosProducto:function(){this.productoSeleccionado={precioConIva:0,precioSinIva:0,iva:0}}}},Hr=Kr,Jr=(a("42cf"),Object(m["a"])(Hr,Ar,Br,!1,null,null,null)),Wr=Jr.exports,Xr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container my-3"},[a("b-modal",{attrs:{id:e.infoModal.id,title:e.infoModal.title,"ok-only":"",codigo:e.infoModal.codigo,"hide-footer":""},on:{hide:e.resetInfoModal}},e._l(e.infoModal.content,(function(t,o){return a("tr",{key:o},[a("th",[e._v(e._s(o))]),a("td",[e._v(e._s(t))])])})),0),a("b-modal",{attrs:{centered:"",size:"md",title:e.textoModalPagos,"header-bg-variant":e.headerBgVariant,"header-text-variant":e.headerTextVariant},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-right",attrs:{disabled:e.disabledButtons,variant:"danger"},on:{click:function(t){e.modalPago=!1}}},[e._v(" Cancelar ")]),a("b-button",{staticClass:"float-right mr-2",attrs:{disabled:e.disabledButtons,variant:"primary"},on:{click:function(t){return e.GuardarPago()}}},[e._v(" Aceptar ")])],1)]},proxy:!0}]),model:{value:e.modalPago,callback:function(t){e.modalPago=t},expression:"modalPago"}},[a("b-container",{staticClass:"container",attrs:{fluid:""}},[a("div",{staticClass:"col-12"},[a("strong",[a("label",[e._v("Importe Nota de Remisión:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemisionSeleccionada.importeFormato,expression:"notaRemisionSeleccionada.importeFormato"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemisionSeleccionada.importeFormato},on:{input:function(t){t.target.composing||e.$set(e.notaRemisionSeleccionada,"importeFormato",t.target.value)}}})]),a("div",{staticClass:"col-12"},[a("strong",[a("label",[e._v("Total Abonado:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemisionSeleccionada.abonadoFormato,expression:"notaRemisionSeleccionada.abonadoFormato"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemisionSeleccionada.abonadoFormato},on:{input:function(t){t.target.composing||e.$set(e.notaRemisionSeleccionada,"abonadoFormato",t.target.value)}}})]),a("div",{staticClass:"col-12"},[a("strong",[a("label",[e._v("Importe a Abonar:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.importeAbonar,expression:"importeAbonar"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.importeAbonar},on:{input:function(t){t.target.composing||(e.importeAbonar=t.target.value)}}})])])],1),e._m(0),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es",size:"sm"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es",size:"sm"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("b-row",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"col-sm-12 col-md-4 col-lg-2 mb-2"},[a("b-button",{staticClass:"mr-2",attrs:{block:"",variant:"success"},on:{click:e.buscaNotasRemisionCobranza}},[a("i",{staticClass:"fa fa-search"}),e._v(" Buscar ")])],1)]),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["P"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"secondary"}},[e._v(" Pendiente ")]):e._e(),"C"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v(" Cancelada ")]):e._e(),"S"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"primary"}},[e._v(" Surtiendo ")]):e._e(),"T"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"success"}},[e._v(" Terminada ")]):e._e()]}},{key:"cell(estatusPago)",fn:function(t){return["P"===t.item.estatusPago?a("b-badge",{staticClass:"p-2",attrs:{variant:"secondary"}},[e._v(" Pendiente ")]):e._e(),"A"===t.item.estatusPago?a("b-badge",{staticClass:"p-2",attrs:{variant:"primary"}},[e._v(" Abonada ")]):e._e(),"T"===t.item.estatusPago?a("b-badge",{staticClass:"p-2",attrs:{variant:"success"}},[e._v(" Pagada ")]):e._e()]}},{key:"cell(actions)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{to:e.rutaDetalle+t.item.folio,size:"sm",title:"Ver Detalle",variant:"outline-info"}},[a("i",{staticClass:"fa fa-eye"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Pagar Nota Remision",variant:"dark"},on:{click:function(a){return e.PagarNotaRemision(t.item)}}},[a("i",{staticClass:"fa fa-money-bill text-success"})])]}}])}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},Yr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-clipboard-list"}),e._v(" Notas de Remisión")])])}],Zr={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=t.toISOString().slice(0,10),r=a.toISOString().slice(0,10);return{desde:o,hasta:r,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"folio",label:"Folio",sortable:!0,class:"text-center"},{key:"fechaFormato",label:"Fecha",sortable:!0,class:"text-center"},{key:"vendedor",label:"Vendedor",sortable:!0,class:"text-center"},{key:"cliente",label:"Cliente",sortable:!0,class:"text-center"},{key:"estatus",label:"Estatus",sortable:!0,class:"text-center"},{key:"estatusPago",label:"Estatus del Pago",sortable:!0,class:"text-center"},{key:"actions",label:"",class:"text-center"}],infoModal:{id:"info-modal",title:"",content:"",codigo:""},idSeleccionado:0,pagoTotalNotaRemision:!1,procederPago:0,modalPago:!1,headerBgVariant:"dark",headerTextVariant:"light",textoModalPagos:"",notaRemisionSeleccionada:{},importeAbonar:0,disabledButtons:!1,rutaDetalle:"/cobranza/notas-de-remision/detalle/"}},components:{},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerNotasRemision();case 2:return t.next=4,e.CargarRenglones();case 4:case"end":return t.stop()}}),t)})))()},created:function(){},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},buscaNotasRemisionCobranza:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerNotasRemision();case 2:case"end":return t.stop()}}),t)})))()},ObtenerNotasRemision:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,oe.obtenerNotasRemisionCobranza(e.desde,e.hasta).then((function(t){t.value?(e.items=t.data,e.$loading(!1)):O.a.fire({title:"¡ALERTA!",text:t.message,icon:"error"})})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},modal:function(e,t,a){var o="";this.idSeleccionado=e.codigo,this.infoModal.title="Datos de la Nota de Remisión #".concat(e.folio),o+="{ ",o+='"Folio" : " : '.concat(e.folio,'\\n\\n", '),o+='"Cliente" : " : '.concat(e.cliente,'\\n\\n",'),o+='"Fecha" : " : '.concat(e.fechaFormato,'\\n\\n",'),o+='"Obra" : " : '.concat(e.obra,'\\n\\n",'),o+='"Vendedor" : " : '.concat(e.vendedor,'\\n\\n",'),o+='"Equipo" : " : '.concat(e.equipo,'\\n\\n",'),o+='"Operador" : " : '.concat(e.operador,'\\n\\n",'),o+='"nomenclatura" : " : '.concat(e.producto,'\\n\\n",'),o+='"producto" : " : '.concat(e.productoDescripcion,'\\n\\n",'),o+='"Cantidad" : " : '.concat(e.cantidad,' m³\\n\\n",'),o+='"Usuario" : " : '.concat(e.nombreUsuario,'\\n\\n"'),o+="}",o=JSON.parse(o),this.infoModal.content=o,this.$root.$emit("bv::show::modal",this.infoModal.id,a)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},PagarNotaRemision:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.disabledButtons=!1,a.next=3,t.PreguntarTipoPago();case 3:return a.next=5,t.ProcederPago(e);case 5:case"end":return a.stop()}}),a)})))()},PreguntarTipoPago:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.procederPago=0,e.importeAbonar=0,t.next=4,O.a.fire({title:"PAGAR NOTA REMISIÓN",text:"¿Que forma de pago deseas?",icon:"question",showCancelButton:!0,confirmButtonColor:"#008000",cancelButtonColor:"#3085d6",confirmButtonText:"Totalidad",cancelButtonText:"Abono",reverseButtons:!1}).then((function(t){t.isConfirmed?(e.pagoTotalNotaRemision=!0,e.procederPago=1):t.dismiss===O.a.DismissReason.cancel&&(e.pagoTotalNotaRemision=!1,e.procederPago=1)}));case 4:case"end":return t.stop()}}),t)})))()},ProcederPago:function(e){this.procederPago&&(this.notaRemisionSeleccionada=e,console.log(this.notaRemisionSeleccionada),this.pagoTotalNotaRemision&&(this.importeAbonar=this.notaRemisionSeleccionada.diferencia),this.textoModalPagos="Abono a Nota de Remisión #"+e.folio,this.modalPago=!0)},GuardarPago:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.procederPago=!0,t.next=3,e.ValidarPago();case 3:case"end":return t.stop()}}),t)})))()},ValidarPago:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("IMPORTE A ABONAR: ",e.importeAbonar),!e.procederPago){t.next=19;break}if(!(e.importeAbonar>e.notaRemisionSeleccionada.diferencia)){t.next=9;break}return e.procederPago=!1,t.next=6,O.a.fire({title:"¡ALERTA!",text:"El importe a abonar es mayor que el importe necesario para realizar el pago completo.",icon:"warning"});case 6:e.importeAbonar=0,t.next=19;break;case 9:if(!(e.importeAbonar<=0)){t.next=16;break}return e.procederPago=!1,t.next=13,O.a.fire({title:"¡ALERTA!",text:"El importe a abonar debe de ser mayor a 0.",icon:"warning"});case 13:e.importeAbonar=0,t.next=19;break;case 16:return e.disabledButtons=!0,t.next=19,oe.guardarPago(e.notaRemisionSeleccionada.idNotasRemisionEnc,e.importeAbonar).then((function(t){t.value?(O.a.fire({title:"EXITO!",text:t.message,icon:"success"}),e.RestablecerDatos()):(e.disabledButtons=!0,O.a.fire({title:"¡ALERTA!",text:t.message,icon:"warning"}))})).catch((function(e){console.log(e)}));case 19:case"end":return t.stop()}}),t)})))()},RestablecerDatos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerNotasRemision();case 2:e.modalPago=!1,e.disabledButtons=!1,e.importeAbonar=0;case 5:case"end":return t.stop()}}),t)})))()}}},Qr=Zr,en=Object(m["a"])(Qr,Xr,Yr,!1,null,"9da267da",null),tn=en.exports,an=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("h3",{staticClass:"mb-4"},[e._v("Pedidos Detenidos")]),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["DA"==t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido, requiere autorización")]):e._e(),"DC"==t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Límite Crédito")]):e._e()]}},{key:"cell(observacion)",fn:function(t){return[""!=t.item.observacion?a("b-badge",{staticClass:"p-2",attrs:{variant:"primary"},on:{click:function(a){return e.VerObservacion(t)}}},[e._v("Ver")]):e._e()]}},{key:"cell(actions)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{title:"Aprobar",size:"sm",variant:"success"},on:{click:function(a){return e.AutorizarPedido(!0,t.item)}}},[a("i",{staticClass:"fa fa-check"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{title:"Rechazar",size:"sm",variant:"danger"},on:{click:function(a){return e.AutorizarPedido(!1,t.item)}}},[a("i",{staticClass:"fa fa-times"})])]}}])}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},on=[],rn={data:function(){return{items:[],credenciales:{usuario:"",password:""},totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"folioPedido",label:"Folio Pedido",sortable:!0,sortDirection:"desc"},{key:"cliente",label:"Cliente",sortable:!0,class:"text-center"},{key:"formatoCantidad",label:"Cantidad",sortable:!0,class:"text-center"},{key:"fechaSalida",label:"Fecha Salida",sortable:!0,class:"text-center"},{key:"estatus",label:"Estatus",sortable:!0,class:"text-center"},{key:"observacion",label:"Observación",class:"text-center"},{key:"actions",label:"",class:"text-center"}],pedidoAutorizado:!1,observacion:"",pedidoSeleccionado:[]}},components:{},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerPedidosDetenidos();case 2:return t.next=4,e.CargarRenglones();case 4:case"end":return t.stop()}}),t)})))()},methods:{onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},ObtenerPedidosDetenidos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],e.$loading(!0),t.next=4,ce.obtenerPedidosDetenidos(0).then((function(t){e.$loading(!1),console.log(t),t.value&&(e.items=t.data)})).catch((function(t){e.$loading(!1),console.log(t)}));case 4:case"end":return t.stop()}}),t)})))()},CargarRenglones:function(){var e=this;console.log("----\x3e"+this.items.length),setTimeout((function(){e.totalRows=e.items.length}),1e3)},AutorizarPedido:function(e,t){var a=this;return Object(L["a"])(regeneratorRuntime.mark((function o(){var r,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a.pedidoAutorizado=e,a.pedidoSeleccionado=t,r=e?"ACEPTAR":"CANCELAR",o.next=5,O.a.fire({text:"¿Desea "+r+" el pedido del cliente: "+t.cliente+"?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 5:if(n=o.sent,!n.value){o.next=10;break}return console.log("aqui se "+r+" el pedido y cambiara el estatus."),o.next=10,a.CapturarObservacion();case 10:case"end":return o.stop()}}),o)})))()},CapturarObservacion:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"Ingrese una observación:",html:'<textarea id="swal-input2" class="swal2-input" placeholder="Capture una observación" style="margin-top: 20px; margin-bottom: 20px; height: 120px;">',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",preConfirm:function(){a=O.a.getPopup().querySelector("#swal-input2").value;var e=O.a.getPopup().querySelector("#swal-input2");e.style.borderColor="",""===a&&(e.style.borderColor="red",O.a.showValidationMessage("Favor de ingresar una observación."))}});case 2:if(o=t.sent,r=o.value,!r){t.next=8;break}return e.observacion=a,t.next=8,e.AutorizarPedidoDetenido();case 8:case"end":return t.stop()}}),t)})))()},AutorizarPedidoDetenido:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("SELECCIONADO ->",e.pedidoSeleccionado),a=e.pedidoAutorizado?"ACEPTO":"CANCELO",e.$loading(!0),t.next=5,ce.autorizarPedidoDetenido(e.pedidoSeleccionado.folioPedido,e.pedidoAutorizado,e.observacion).then((function(t){t.value&&(O.a.fire("","Se "+a+" el pedido detenido correctamente","success"),e.ObtenerPedidosDetenidos())})).catch((function(t){console.log(t),e.$loading(!1)}));case 5:e.$loading(!1);case 6:case"end":return t.stop()}}),t)})))()},VerObservacion:function(e){console.log(e),this.$swal.fire({text:e.item.observacion,icon:"info"})}}},nn=rn,sn=Object(m["a"])(nn,an,on,!1,null,null,null),cn=sn.exports,ln=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[e._m(0),a("table-sortable",{attrs:{items:e.items,fields:e.fields}})],1)])},un=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Clientes")])])}],dn={data:function(){return{items:[],fields:[{key:"nombreComercial",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"creditoFormat",label:"Crédito",sortable:!0,class:"text-center"},{key:"fechaCorta",label:"Registro",sortable:!0,class:"text-center"},{key:"estatusCliente",label:"Estatus",class:"text-center"},{key:"actionsClientes",label:"",class:"text-center"}]}},components:{TableSortable:xe},mounted:function(){this.consultarClientes()},methods:{consultarClientes:function(){var e=this;this.$loading(!0),me.obtenerClientesCobranza().then((function(t){console.log(t),e.items=t.data.cliente,e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}))}}},mn=dn,pn=Object(m["a"])(mn,ln,un,!1,null,"1747c165",null),fn=pn.exports,bn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container mt-3 mb-5"},[e._m(0),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-3 col-xl-3 mb-1"},[a("label",[e._v("Folio Nota:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.folio,expression:"notaRemision.folio"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.folio},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"folio",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-3 col-xl-3 mb-1"},[a("label",[e._v("Folio Pedido:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.folioPedido,expression:"notaRemision.folioPedido"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.folioPedido},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"folioPedido",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-4 col-md-3 col-lg-2 mb-1"},[a("label",[e._v("Estatus Nota:")]),a("div",["P"==e.notaRemision.estatus?a("b-button",{attrs:{variant:"secondary",disabled:""}},[e._v("Pendiente")]):e._e(),"S"==e.notaRemision.estatus?a("b-button",{attrs:{variant:"primary",disabled:""}},[e._v("Surtiendo")]):e._e(),"T"==e.notaRemision.estatus?a("b-button",{attrs:{variant:"success",disabled:""}},[e._v("Terminada")]):e._e()],1)]),a("div",{staticClass:"form-group col-sm-4 col-md-3 col-lg-2 mb-1"},[a("label",[e._v("Estatus Pago:")]),a("div",["P"==e.notaRemision.estatusPago?a("b-button",{attrs:{variant:"secondary",disabled:""}},[e._v("Pendiente")]):e._e(),"A"==e.notaRemision.estatusPago?a("b-button",{attrs:{variant:"primary",disabled:""}},[e._v("Abonada")]):e._e(),"T"==e.notaRemision.estatusPago?a("b-button",{attrs:{variant:"success",disabled:""}},[e._v("Terminada")]):e._e()],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 col-xl-3 mb-1"},[a("label",[e._v("Cliente:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.cliente,expression:"notaRemision.cliente"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.cliente},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"cliente",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-4 col-xl-3 mb-1"},[a("label",[e._v("Obra:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.obra,expression:"notaRemision.obra"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.obra},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"obra",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-4 col-xl-3 mb-1"},[a("label",[e._v("Vendedor:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.vendedor,expression:"notaRemision.vendedor"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.vendedor},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"vendedor",t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-lg-4 col-xl-3 mb-1"},[a("label",[e._v("Nomenclatura:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.producto,expression:"notaRemision.producto"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.producto},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"producto",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-lg-4 col-xl-3 mb-1"},[a("label",[e._v("Cantidad:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.cantidad,expression:"notaRemision.cantidad"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.cantidad},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"cantidad",t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 mb-1"},[a("label",[e._v("Producto:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.productoDescripcion,expression:"notaRemision.productoDescripcion"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.productoDescripcion},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"productoDescripcion",t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-3 mb-1"},[a("label",[e._v("Importe:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.importeFormato,expression:"notaRemision.importeFormato"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.importeFormato},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"importeFormato",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-3 mb-1"},[a("label",[e._v("Abonado:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.abonadoFormato,expression:"notaRemision.abonadoFormato"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.abonadoFormato},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"abonadoFormato",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-3 mb-1"},[a("label",[e._v("Diferencia:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.diferenciaFormato,expression:"notaRemision.diferenciaFormato"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.notaRemision.diferenciaFormato},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"diferenciaFormato",t.target.value)}}})])]),a("hr"),e.detalleAbonosNotaRemision.length>0?a("div",[a("h4",[e._v("Historial de Abonos")]),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.detalleAbonosNotaRemision,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered}})],1):e._e(),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{to:e.rutaCatalogo,block:"",variant:"danger"}},[e._v(" Regresar ")])],1)],1)],1)])},vn=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-clipboard-list"}),e._v(" Detalles de la Nota de Remisión")])])}],hn={data:function(){return{parametro:0,notaRemision:{},detalleAbonosNotaRemision:{},rutaCatalogo:"/cobranza/notas-de-remision",totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"importeFormato",label:"Importe",sortable:!0,class:"text-center"},{key:"fecha",label:"Fecha",sortable:!0,class:"text-center"},{key:"usuario",label:"Usuario",sortable:!0,class:"text-center"}]}},components:{},watch:{},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.parametro=void 0!=e.$route.params.id?e.$route.params.id:0,t.next=3,e.ObtenerNotasRemision();case 3:return t.next=5,e.ObtenerDetalleAbonosNotasRemision();case 5:case"end":return t.stop()}}),t)})))()},mounted:function(){},computed:{},methods:{ObtenerNotasRemision:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,oe.obtenerNotaRemisionCobranza(e.parametro).then((function(t){t.value?(console.log(t),e.notaRemision=t.data[0],e.$loading(!1)):O.a.fire({title:"¡ALERTA!",text:t.message,icon:"error"})})).catch((function(t){e.$loading(!1),console.log(t)}));case 3:case"end":return t.stop()}}),t)})))()},ObtenerDetalleAbonosNotasRemision:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,oe.obtenerDetalleAbonos(e.parametro).then((function(t){t.value?(console.log(t),e.detalleAbonosNotaRemision=t.data,e.$loading(!1)):O.a.fire({title:"¡ALERTA!",text:t.message,icon:"error"})})).catch((function(t){e.$loading(!1),console.log(t)}));case 3:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}}},gn=hn,Cn=Object(m["a"])(gn,bn,vn,!1,null,"3b07fc86",null),xn=Cn.exports,wn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},kn=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("AJUSTES")])])}],_n={data:function(){return{}},components:{},mounted:function(){},created:function(){},computed:{},methods:{}},Rn=_n,yn=Object(m["a"])(Rn,wn,kn,!1,null,"3f657336",null),En=yn.exports,Pn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("b-form-checkbox-group",{attrs:{id:"checkbox-group-1",options:e.tiposEstatus,name:"flavour-1"},on:{change:e.seleccionados},model:{value:e.selectEstatusNR,callback:function(t){e.selectEstatusNR=t},expression:"selectEstatusNR"}}),a("table-sortable",{staticClass:"mt-3",attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura},on:{"actualizar-items":e.actualizar}})],1)])},$n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h3",[a("i",{staticClass:"fas"}),e._v("Notas de Remisión")])}],On={data:function(){return{rutaNuevo:"nota-de-remision/registro/",items:[],selectEstatusNR:[],tiposEstatus:["Terminadas"],fields:[{key:"folio",label:"Folio",sortable:!0,class:"text-center"},{key:"folioPedido",label:"# P.",sortable:!0,class:"text-center"},{key:"folioGinco",label:"Folio Ginco",sortable:!0,class:"text-center"},{key:"vendedor",label:"Vendedor",sortable:!0,class:"text-center"},{key:"cliente",label:"Cliente",sortable:!0,class:"text-center"},{key:"obra",label:"Obra",sortable:!0,class:"text-center"},{key:"estatusNotas",label:"Estatus",sortable:!0,class:"text-center"},{key:"mostrarNotaRemision",label:"",class:"text-center"},{key:"cancelar",label:"",class:"text-center"}],permisoEscritura:!0}},components:{TableSortable:xe},mounted:function(){},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerNotasRemisionCanceladas();case 2:case"end":return t.stop()}}),t)})))()},methods:{actualizar:function(e){this.items=e},buscar:function(){this.obtenerNotasRemisionCanceladas()},obtenerNotasRemisionCanceladas:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.obtenerNotasRemisionCanceladas();case 2:a=t.sent,a.value&&(e.items=a.data);case 4:case"end":return t.stop()}}),t)})))()}}},Sn=On,Nn=Object(m["a"])(Sn,Pn,$n,!1,null,null,null),Dn=Nn.exports,Fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12 col-sm-6 col-md-3"},[a("label",[e._v("Folio Command B.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.folioGinco,expression:"notaRemision.folioGinco"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.notaRemision.folioGinco},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"folioGinco",t.target.value)}}})]),a("div",{staticClass:"col-12 col-sm-6 col-md-4"},[a("label",[e._v("Folio Nota Remisión")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.folio,expression:"notaRemision.folio"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:e.notaRemision.folio},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"folio",t.target.value)}}})])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12 col-sm-4 col-md-3"},[a("label",[e._v("Folio del Pedido")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.notaRemision.folioPedido,expression:"notaRemision.folioPedido"},{name:"cleave",rawName:"v-cleave",value:{numeral:!0,numeralPositiveOnly:!0,numeralDecimalScale:0,numeralDecimalMark:"",delimiter:""},expression:"{\n            numeral: true,\n            numeralPositiveOnly: true,\n            numeralDecimalScale: 0,\n            numeralDecimalMark: '',\n            delimiter: '',\n          }"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.notaRemision.folioPedido},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.buscaFolioPedido(t)},input:function(t){t.target.composing||e.$set(e.notaRemision,"folioPedido",t.target.value)}}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"input-group-4 btn btn-outline-primary",attrs:{disabled:e.disabledlimpiarProductos},on:{click:e.mostrarBuscadorPedidos}},[a("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])])])]),a("div",{staticClass:"col-12 col-sm-4 col-md-4"},[a("label",[e._v("Hora Salida")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.horaSalida,expression:"notaRemision.horaSalida"}],staticClass:"form-control",attrs:{type:"time",disabled:e.sinPedido},domProps:{value:e.notaRemision.horaSalida},on:{input:function(t){t.target.composing||e.$set(e.notaRemision,"horaSalida",t.target.value)}}})]),a("div",{staticClass:"col-12 col-sm-4 col-md-3"},[a("label",[e._v("Cantidad")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.notaRemision.cantidad,expression:"notaRemision.cantidad"}],ref:"refCantidad",staticClass:"form-control",class:{hasError:e.hasErrorCantidad},attrs:{disabled:e.disabledCantidad,id:"cantidad",type:"text",precision:"2"},domProps:{value:e.notaRemision.cantidad},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.verificarCantidad(t)},keypress:e.onlyForCurrencyCant,input:function(t){t.target.composing||e.$set(e.notaRemision,"cantidad",t.target.value)}}}),e._m(1)])]),a("div",{staticClass:"col-12 col-md-2"},[a("label",{attrs:{for:""}}),a("div",{staticClass:"input-group mt-2"},[a("button",{staticClass:"btn btn-primary col-12 d-lg-none",attrs:{disabled:e.sinPedido},on:{click:e.habilitarCantidad}},[a("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})]),a("button",{staticClass:"btn btn-primary d-none d-lg-block",attrs:{disabled:e.sinPedido},on:{click:e.habilitarCantidad}},[a("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}}),e._v(" Modificar ")])])])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12 col-sm-12 col-md-10"},[a("label",[e._v("Fórmula")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],ref:"refFormula",staticClass:"form-control",class:{hasError:e.hasErrorProducto},attrs:{type:"text",autocomplete:"off",disabled:e.disabledFormula},domProps:{value:e.state},on:{input:[function(t){t.target.composing||(e.state=t.target.value)},e.filterState],focus:e.focusInputFormula}}),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-outline-primary input-group-4",attrs:{disabled:e.disabledFormula},on:{click:e.limpiarProducto}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])])])]),a("div",{staticClass:"col-12 col-md-2"},[a("label",{attrs:{for:""}}),a("div",{staticClass:"input-group"},[a("button",{staticClass:"btn btn-primary col-12 d-lg-none mt-2",attrs:{disabled:e.sinPedido},on:{click:e.habilitarFormula}},[a("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})]),a("button",{staticClass:"btn btn-primary d-none d-lg-block mt-2",attrs:{disabled:e.sinPedido},on:{click:e.habilitarFormula}},[a("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}}),e._v(" Modificar ")])])])]),a("div",{staticClass:"row"},[e.formulasFiltradas&&e.modal?a("div",[a("ul",{staticClass:"list-group items-body"},e._l(e.formulasFiltradas,(function(t){return a("li",{key:t.value,staticClass:"list-group-item py-2 items-body-content",on:{click:function(a){return e.setState(t)}}},[a("span",[e._v(" "+e._s(t.text))]),a("i",{staticClass:"fa fa-angle-right"})])})),0)]):e._e()]),a("transition",{attrs:{name:"fade"}},[a("label",{directives:[{name:"show",rawName:"v-show",value:e.mostrarProducto,expression:"mostrarProducto"}]},[a("span",{staticClass:"labelSize"},[e._v("Nomenclatura: ")]),e._v(" "+e._s(e.notaRemision.producto))])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12 col-sm-6 col-md-4"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.chKBombeable,expression:"notaRemision.chKBombeable"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"bombeable",disabled:!0},domProps:{checked:Array.isArray(e.notaRemision.chKBombeable)?e._i(e.notaRemision.chKBombeable,null)>-1:e.notaRemision.chKBombeable},on:{change:function(t){var a=e.notaRemision.chKBombeable,o=t.target,r=!!o.checked;if(Array.isArray(a)){var n=null,i=e._i(a,n);o.checked?i<0&&e.$set(e.notaRemision,"chKBombeable",a.concat([n])):i>-1&&e.$set(e.notaRemision,"chKBombeable",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.notaRemision,"chKBombeable",r)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"bombeable"}},[e._v("ES BOMBEABLE")])])]),a("div",{staticClass:"col-6 col-sm-3 offset-md-3"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.chKFibra,expression:"notaRemision.chKFibra"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"fibra",disabled:e.sinPedido},domProps:{checked:Array.isArray(e.notaRemision.chKFibra)?e._i(e.notaRemision.chKFibra,null)>-1:e.notaRemision.chKFibra},on:{change:function(t){var a=e.notaRemision.chKFibra,o=t.target,r=!!o.checked;if(Array.isArray(a)){var n=null,i=e._i(a,n);o.checked?i<0&&e.$set(e.notaRemision,"chKFibra",a.concat([n])):i>-1&&e.$set(e.notaRemision,"chKFibra",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.notaRemision,"chKFibra",r)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"fibra"}},[e._v("FIBRA")])])]),a("div",{staticClass:"col-6 col-sm-3 col-md-2"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.chKImper,expression:"notaRemision.chKImper"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"imper",disabled:e.sinPedido},domProps:{checked:Array.isArray(e.notaRemision.chKImper)?e._i(e.notaRemision.chKImper,null)>-1:e.notaRemision.chKImper},on:{change:function(t){var a=e.notaRemision.chKImper,o=t.target,r=!!o.checked;if(Array.isArray(a)){var n=null,i=e._i(a,n);o.checked?i<0&&e.$set(e.notaRemision,"chKImper",a.concat([n])):i>-1&&e.$set(e.notaRemision,"chKImper",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.notaRemision,"chKImper",r)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"imper"}},[e._v("IMPER")])])])]),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12 col-sm-8 offset-md-6 col-md-4"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.mostrarParametroEspeciales,expression:"mostrarParametroEspeciales"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"parametroEspecial",disabled:e.sinPedido},domProps:{checked:Array.isArray(e.mostrarParametroEspeciales)?e._i(e.mostrarParametroEspeciales,null)>-1:e.mostrarParametroEspeciales},on:{change:function(t){var a=e.mostrarParametroEspeciales,o=t.target,r=!!o.checked;if(Array.isArray(a)){var n=null,i=e._i(a,n);o.checked?i<0&&(e.mostrarParametroEspeciales=a.concat([n])):i>-1&&(e.mostrarParametroEspeciales=a.slice(0,i).concat(a.slice(i+1)))}else e.mostrarParametroEspeciales=r}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"parametroEspecial"}},[e._v("PARAMETROS ESPECIALES")]),e.notaRemision.parametrosEspeciales.iva>0||e.notaRemision.parametrosEspeciales.reubicado>0?a("i",{staticClass:"fas fa-circle fa-xs point"}):e._e()])]),a("div",{staticClass:"col-12 col-sm-4 col-md-2"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.foraneo,expression:"notaRemision.foraneo"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"foraneo",disabled:e.sinPedido},domProps:{checked:Array.isArray(e.notaRemision.foraneo)?e._i(e.notaRemision.foraneo,null)>-1:e.notaRemision.foraneo},on:{change:function(t){var a=e.notaRemision.foraneo,o=t.target,r=!!o.checked;if(Array.isArray(a)){var n=null,i=e._i(a,n);o.checked?i<0&&e.$set(e.notaRemision,"foraneo",a.concat([n])):i>-1&&e.$set(e.notaRemision,"foraneo",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.notaRemision,"foraneo",r)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"foraneo"}},[e._v("FORANEO")])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.mostrarOperadores,expression:"mostrarOperadores"}],staticClass:"row mt-3"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[e._v("Tiro Directo")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-6 mb-2"},[e._m(2),a("div",{staticClass:"input-group"},[e._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.codOperador_1,expression:"notaRemision.codOperador_1"}],staticClass:"form-control",class:{hasError:e.hasErrorOperadorCR},attrs:{disabled:e.operadorCR},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.notaRemision,"codOperador_1",t.target.multiple?a:a[0])},function(t){e.hasErrorOperadorCR=!1}]}},e._l(e.operador_1,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0)])]),a("div",{staticClass:"col-12 col-sm-12 col-md-6"},[e._m(4),a("div",{staticClass:"input-group"},[e._m(5),a("select",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.codEquipo_CR,expression:"notaRemision.codEquipo_CR"}],staticClass:"form-control",class:{hasError:e.hasErrorEquipoCR},attrs:{disabled:e.operadorCR},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.notaRemision,"codEquipo_CR",t.target.multiple?a:a[0])},function(t){e.hasErrorEquipoCR=!1}]}},e._l(e.equipos_CR,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0)])])])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.notaRemision.chKBombeable,expression:"notaRemision.chKBombeable"}],staticClass:"row mt-3"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[e._v("Tiro Bombeado")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-6 mb-2"},[e._m(6),a("div",{staticClass:"input-group"},[e._m(7),a("select",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.codOperador_2,expression:"notaRemision.codOperador_2"}],staticClass:"form-control",class:{hasError:e.hasErrorOperadorB},attrs:{options:e.operador_2},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.notaRemision,"codOperador_2",t.target.multiple?a:a[0])}}},e._l(e.operador_2,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0)])]),a("div",{staticClass:"col-12 col-sm-12 col-md-6"},[e._m(8),a("div",{staticClass:"input-group"},[e._m(9),a("select",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.codEquipo_BB,expression:"notaRemision.codEquipo_BB"}],staticClass:"form-control",class:{hasError:e.hasErrorEquipoB},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.notaRemision,"codEquipo_BB",t.target.multiple?a:a[0])},function(t){e.hasErrorEquipoB=!1}]}},e._l(e.equipos_BB,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0)])])])])])])]),a("transition",{attrs:{name:"fade"}},[e.mostrarParametroEspeciales?a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[e._v("Parametros Especiales")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12 col-sm-3 col-md-2 text-right pt-2"},[a("label",[e._v("Volumen Reubicado: ")])]),a("div",{staticClass:"col-12 col-sm-3 col-md-4"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.notaRemision.parametrosEspeciales.reubicado,expression:"notaRemision.parametrosEspeciales.reubicado"}],staticClass:"form-control",attrs:{type:"text",precision:"2"},domProps:{value:e.notaRemision.parametrosEspeciales.reubicado},on:{keypress:e.onlyForCurrencyReubicado,input:function(t){t.target.composing||e.$set(e.notaRemision.parametrosEspeciales,"reubicado",t.target.value)}}}),a("span",{staticClass:"input-group-text"},[e._v("m"),a("sup",[e._v("3")])])])]),a("div",{staticClass:"col-12 col-sm-3 offset-md-1 col-md-5"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend d-none d-sm-block"},[a("label",{staticClass:"input-group-text"},[e._v("Operador")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.notaRemision.codOperador_1,expression:"notaRemision.codOperador_1"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.notaRemision,"codOperador_1",t.target.multiple?a:a[0])}}},e._l(e.operador_1,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0)])])]),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12 col-sm-3 col-md-2 text-right pt-2"},[a("label",[e._v("Descuento Virtual (IVA): ")])]),a("div",{staticClass:"col-12 col-sm-3 col-md-4"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.notaRemision.parametrosEspeciales.iva,expression:"notaRemision.parametrosEspeciales.iva"}],staticClass:"form-control",attrs:{type:"text",precision:"2"},domProps:{value:e.notaRemision.parametrosEspeciales.iva},on:{keypress:e.onlyForCurrencyIva,input:function(t){t.target.composing||e.$set(e.notaRemision.parametrosEspeciales,"iva",t.target.value)}}}),a("span",{staticClass:"input-group-text"},[e._v("m"),a("sup",[e._v("3")])])])]),a("div",{staticClass:"col-12 col-sm-3 offset-md-3 col-md-3"},[a("button",{staticClass:"btn btn-primary col-12 mb-1",attrs:{type:"button"},on:{click:e.aceptarParametrosEspeciales}},[e._v(" Aceptar ")])])])])])])]):e._e()]),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-12 offset-md-8 col-md-4 offset-lg-9 col-lg-3"},[a("button",{staticClass:"btn btn-primary col-12 mb-1",attrs:{type:"button",disabled:e.sinPedido},on:{click:e.addNotaRemison}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Añadir Nota ")])])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12 offset-md-4 col-md-4 offset-lg-6 col-lg-3"},[a("button",{staticClass:"btn btn-danger col-12",attrs:{type:"button"},on:{click:e.cancelar}},[e._v(" Cancelar ")])]),a("div",{staticClass:"col-12 col-md-4 col-lg-3"},[a("button",{staticClass:"btn btn-success col-12",attrs:{type:"button",disabled:e.sinPedido},on:{click:e.guardar}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.notasRelacionadas,expression:"notasRelacionadas != ''"}]},[a("div",{staticClass:"table-responsive table-sm my-2",staticStyle:{"margin-left":"15px","max-height":"240px","overflow-y":"auto"}},[a("table",{staticClass:"tabletipoproducto table-striped table-bordered",staticStyle:{"margin-top":"10px"}},[e._m(10),a("tbody",e._l(e.notasRelacionadas,(function(t,o){return a("tr",{key:o},[a("td",{domProps:{textContent:e._s(t.folioPedido)}}),a("td",{domProps:{textContent:e._s(t.vendedor)}}),a("td",{domProps:{textContent:e._s(t.cliente)}}),a("td",{domProps:{textContent:e._s(t.domicilio)}}),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cantidad,expression:"item.cantidad"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control form-control-sm",staticStyle:{width:"100px","text-align":"right"},attrs:{disabled:e.modificarCantidadNT,maxlength:"9"},domProps:{textContent:e._s(t.cantidad),value:t.cantidad},on:{input:function(a){a.target.composing||e.$set(t,"cantidad",a.target.value)}}})]),e.modificarCantidadNT?a("td",{staticClass:"d-none d-md-table-cell py-2 td-center text-center",on:{click:function(t){e.modificarCantidadNT=!1}}},[e._m(11,!0)]):e._e(),e.modificarCantidadNT?e._e():a("td",{staticClass:"d-none d-md-table-cell py-2 td-center text-center",on:{click:function(a){return e.modificarCantidad(t)}}},[e._m(12,!0)])])})),0)])])]),a("b-modal",{attrs:{centered:"",size:"lg","hide-header":"","hide-footer":"","hide-header-close":""},model:{value:e.mostrarPdf,callback:function(t){e.mostrarPdf=t},expression:"mostrarPdf"}},[a("div",{staticClass:"container pt-0 mb-1"},[a("div",{staticClass:"row justify-content-end"},[a("div",{staticClass:"col-3 text-right pr-0"},[a("button",{staticClass:"btn btn-sm btn-secondary ml-2",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Abrir"},on:{click:e.abrirPdfNotaRemision}},[a("i",{staticClass:"fas fa-file"})]),a("button",{staticClass:"btn btn-sm btn-secondary ml-2",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Descargar"},on:{click:e.descargarPdfNotaRemision}},[a("i",{staticClass:"fas fa-file-download"})])])])]),a("vue-pdf-app",{staticStyle:{height:"100vh"},attrs:{pdf:e.pdf,config:e.config}})],1),a("b-modal",{attrs:{centered:"","hide-footer":""},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[a("buscadorPedidos",{on:{seleccionar:e.seleccionar}})],1)],1)},Tn=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h3",[a("i",{staticClass:"fas fa-clipboard"}),e._v(" Notas de Remisión")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-text"},[e._v("m"),a("sup",[e._v("3")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"\n                  alert alert-dark\n                  col-12\n                  d-block d-sm-none\n                  mb-0\n                  mt-0\n                  pb-0\n                "},[a("label",[e._v("Operador")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend d-none d-sm-block"},[a("label",{staticClass:"input-group-text"},[e._v("Operador")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"\n                  alert alert-dark\n                  col-12\n                  d-block d-sm-none\n                  mb-0\n                  mt-0\n                  pb-0\n                "},[a("label",[e._v("Equipo")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend d-none d-sm-block"},[a("label",{staticClass:"input-group-text"},[e._v("Equipo")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"\n                  alert alert-dark\n                  col-12\n                  d-block d-sm-none\n                  mb-0\n                  mt-0\n                  pb-0\n                "},[a("label",[e._v("Operador")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend d-none d-sm-block"},[a("label",{staticClass:"input-group-text"},[e._v("Operador")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"\n                  alert alert-dark\n                  col-12\n                  d-block d-sm-none\n                  mb-0\n                  mt-0\n                  pb-0\n                "},[a("label",[e._v("Equipo")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend d-none d-sm-block"},[a("label",{staticClass:"input-group-text"},[e._v("Equipo")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Folio Pedido")]),a("th",[e._v("Vendedor")]),a("th",[e._v("Cliente")]),a("th",[e._v("Domicilio")]),a("th",[e._v("Cantidad")]),a("th",{staticStyle:{"text-align":"center"}},[e._v("Modificar")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon-edit"},[a("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon-edit"},[a("i",{staticClass:"fas fa-check"})])}],jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("pm-buscador",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{columnas:e.columnas,items:e.items,"texto-buscar":e.textoBuscar,"limpiar-texto":e.limpiarTexto,placeholder:e.placeholder},on:{buscar:e.buscar,seleccionar:e.seleccionar},scopedSlots:e._u([{key:"row",fn:function(t){return[a("td",{staticClass:"font-12 text-right"},[e._v(e._s(t.item.folioPedido))]),a("td",{staticClass:"font-12"},[e._v(e._s(t.item.cliente))]),a("td",{staticClass:"font-12"},[e._v(e._s(t.item.vendedor))])]}}])})},An=[],Bn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.txtBuscar,expression:"txtBuscar"}],ref:"texto-buscar",staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.txtBuscar},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.buscar(t)},focus:e.focustxt,blur:e.handleBlur,input:function(t){t.target.composing||(e.txtBuscar=t.target.value)}}})])]),a("div",{staticClass:"row my-2"},[a("div",{staticClass:"col-12 text-right"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:e.buscar}},[e._v("Aceptar")])])]),a("div",{staticClass:"overlay",class:{"overlay-collapsed":!e.mostrar,"overlay-show":e.mostrar}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-6 col-lg-6 col-md-8 offset-xl-3 offset-lg-3 offset-md-2"},[a("div",{staticClass:"card m-lg-5 m-2 p-3 bg-white"},[a("div",{staticClass:"mt"},[a("div",{staticClass:"form-inline"},[a("label",{staticClass:"text-left justify-content-lg-start"},[e._v("Buscar :")]),a("input",{directives:[{name:"show",rawName:"v-show",value:e.mostrar,expression:"mostrar"},{name:"model",rawName:"v-model",value:e.txtBuscar,expression:"txtBuscar"}],ref:"modal-texto-buscar",staticClass:"form-control form-control-sm ml-1",attrs:{placeholder:"Buscar ...",type:"text"},domProps:{value:e.txtBuscar},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.seleccionarItem()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelar(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.nextItem(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.nextItem(t)}],input:function(t){t.target.composing||(e.txtBuscar=t.target.value)}}}),a("button",{staticClass:"btn btn-primary ml-1",attrs:{type:"button"},on:{click:e.buscar}},[e._v(" Buscar ")])]),a("div",[a("table",{staticClass:"col table-sm mt-3 table-hover",attrs:{id:"tablaClientes"}},[a("thead",[a("tr",{staticClass:"table-primary"},e._l(e.columnas,(function(t,o){return a("td",{key:o},[e._v(" "+e._s(t.header)+" ")])})),0)]),a("tbody",{ref:"tablaClientesBody"},e._l(e.items,(function(t,o){return a("tr",{key:o,staticClass:"cursor-pointer borderBottom",class:{tableSelected:e.currentItem===o},attrs:{id:"row"+o},on:{click:function(t){return e.seleccionarItemClick(o)}}},[e._t("row",null,{item:t})],2)})),0)])])])])])])])])},qn=[],Mn={props:["columnas","items","limpiarTexto","focoTexto","buscarBlur","placeholder"],data:function(){return{mostrar:!1,txtBuscar:"",itemSeleccionado:null,currentItem:0,scrolVertical:0}},mounted:function(){var e=this;window.addEventListener("keydown",(function(t){"Escape"==t.key&&e.cancelar()}))},methods:{nextItem:function(){var e=this.$refs.tablaClientesBody;38===event.keyCode&&this.currentItem>=1?(this.currentItem--,this.scrolVertical=this.scrolVertical-33,e.scrollTop=this.scrolVertical):40===event.keyCode&&this.currentItem<this.items.length-1&&(this.currentItem++,this.scrolVertical=this.scrolVertical+33,e.scrollTop=this.scrolVertical)},buscar:function(){var e=this;""!=this.txtBuscar&&(this.mostrar=!0,this.currentItem=0,this.scrolVertical=0,this.$emit("buscar",this.txtBuscar),this.$nextTick((function(){e.$refs["modal-texto-buscar"].focus();var t=e.$refs.tablaClientesBody;t.scrollTop=0})))},seleccionarItemClick:function(e){this.mostrar=!1,this.$emit("seleccionar",this.items[e]),this.limpiarTexto&&(this.txtBuscar=""),this.focoTexto&&this.$refs["texto-buscar"].focus()},seleccionarItem:function(){this.mostrar=!1,this.$emit("seleccionar",this.items[this.currentItem]),this.limpiarTexto&&(this.txtBuscar=""),this.focoTexto&&this.$refs["texto-buscar"].focus()},focustxt:function(){this.$refs["texto-buscar"].select()},cancelar:function(){this.$emit("cancelar"),this.mostrar=!1},handleBlur:function(){""!=this.$refs["texto-buscar"].value&this.buscarBlur&&this.buscar()}},watch:{items:function(e){1==e.length&&this.seleccionarItemClick(0)}}},In=Mn,zn=(a("8ba5"),Object(m["a"])(In,Bn,qn,!1,null,null,null)),Vn=zn.exports,Gn={buscarPedidos:function(e){return D.get("buscador/pedido/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},Un=Gn,Ln={props:{limpiarTexto:{type:Boolean,default:!1}},data:function(){return{columnas:[{header:"Folio"},{header:"Cliente"},{header:"Vendedor"}],items:[],textoBuscar:"",placeholder:"Buscar pedido..."}},components:{PmBuscador:Vn},methods:{buscar:function(e){var t=this;Un.buscarPedidos(e).then((function(e){t.items=e.data})),console.log("buscando..."+e)},seleccionar:function(e){void 0!=e&&(this.textoBuscar=e.codigo,this.$emit("seleccionar",e))}}},Kn=Ln,Hn=Object(m["a"])(Kn,jn,An,!1,null,"0cc425bc",null),Jn=Hn.exports,Wn=a("7fd9"),Xn={name:"NotaRemisionRegistro",data:function(){return{modificarCantidadNT:!0,mostrarParametroEspeciales:!1,config:{toolbar:!1},mostrarPdf:!1,pdf:"",items:[],notasRelacionadas:[],modal:!1,operadorCR:!1,hasErrorProducto:!1,hasErrorOperadorCR:!1,hasErrorEquipoCR:!1,hasErrorOperadorB:!1,hasErrorEquipoB:!1,hasErrorCantidad:!1,disabledCantidad:!0,disabledlimpiarProductos:!1,disabledProductos:!1,disabledFormula:!0,nuevaFormula:!1,sinPedido:!0,mostrarOperadores:!1,mostrarProducto:!1,modalShow:!1,state:"",pedidoBuscar:"",formulasFiltradas:[],pedidosFiltrados:[],notasRemisionEspecial:[],pedidos:[],NotaRemisionPadre:0,formulas:[],cantidadNotasConPedido:0,cantidadPedido:0,sumaCantidades:0,cantidadMaxima:0,pedido:[],notaRemisionSeleccionada:[],notaRemision:{idNotasRemisionEnc:0,folio:0,folioGinco:0,folioPadre:0,horaSalida:"12:00",folioPedido:"",codProducto:0,codOperador_1:0,codOperador_2:0,codEquipo_CR:0,codEquipo_BB:0,codEquipo:0,cantidad:0,cantidadRestantePedido:0,chKBombeable:!1,chKFibra:!1,chKImper:!1,producto:"",foraneo:!1,parametrosEspeciales:{codOperador:0,iva:0,reubicado:0}},notaEspecial:!1,formulaNueva:"",listaOperadores:[],productos:[{value:0,text:"Seleccione la formula del producto"}],operador_1:[{value:0,text:"Seleccione el operador"}],operador_2:[{value:0,text:"Seleccione el operador"}],equipos_CR:[{value:0,text:"Seleccione el equipo"}],equipos_BB:[{value:0,text:"Seleccione el equipo"}]}},directives:{cleave:{inserted:function(e,t){e.cleave=new Wn["a"](e,t.value||{})},update:function(e){var t=new Event("input",{bubbles:!0});setTimeout((function(){e.dispatchEvent(t)}),100)}}},components:{buscadorPedidos:Jn},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.obtenerUltimoFolioGinco(),e.obtenerUltimoFolioNotaRemision(),e.obtenerParametro(),t.next=5,e.cargarFormulas(0);case 5:a="".concat((new Date).getHours()+1),o="".concat(24==a?a-1:a,":00"),e.notaRemision.horaSalida=o,e.notaRemision.folioPedido>0&&e.buscaFolioPedido();case 9:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.notaRemision.folioPedido=void 0!=e.$route.params.id?e.$route.params.id:0;case 1:case"end":return t.stop()}}),t)})))()},watch:{state:function(e){e.length>=1&&0==this.notaRemision.codProducto?this.modal=!0:this.modal=!1,0===e.length&&(this.notaRemision.producto=0,this.notaRemision.codProducto=0,this.mostrarProducto=!1)}},computed:{filterStatePedidos:function(){var e=this;return this.pedidos.filter((function(t){var a=t.folioPedido.toString(),o=t.vendedor.toString().toUpperCase(),r=t.cliente.toString().toUpperCase(),n=e.pedidoBuscar.trim().toUpperCase();return a.includes(n)||o.includes(n)||r.includes(n)}))}},methods:{seleccionar:function(e){this.modalShow=!1,this.notaRemision.folioPedido=e.folioPedido,this.notaRemision.folioPedido>0&&this.buscaFolioPedido()},onlyForCurrencyCant:function(e){var t=e.keyCode?e.keyCode:e.which;!(t<48||t>57)||46===t&&-1==this.notaRemision.cantidad.indexOf(".")||e.preventDefault()},onlyForCurrencyReubicado:function(e){var t=e.keyCode?e.keyCode:e.which;!(t<48||t>57)||46===t&&-1==this.notaRemision.parametrosEspeciales.reubicado.indexOf(".")||e.preventDefault()},onlyForCurrencyIva:function(e){var t=e.keyCode?e.keyCode:e.which;!(t<48||t>57)||46===t&&-1==this.notaRemision.parametrosEspeciales.iva.indexOf(".")||e.preventDefault()},modificarCantidad:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={idNotasRemisionEnc:e.idNotasRemisionEnc,cantidad:e.cantidad,HoraSalida:"12:00",parametrosEspeciales:{reubicado:0,iva:0,codOperador:0}},a.next=3,ne.agregarNotaRemisionEspecial(o);case 3:r=a.sent,r.value?(t.modificarCantidadNT=!0,t.$swal.fire({text:r.message,icon:"info"})):t.$swal.fire({text:r.message,icon:"warning"});case 5:case"end":return a.stop()}}),a)})))()},focusMyElement:function(){},seleccionaPedido:function(e){this.notaRemision.folioPedido=e.folioPedido,this.modalShow=!1,this.buscaFolioPedido()},obtenerParametro:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$e.obtenerParametro("CantidadCamion");case 2:a=t.sent,a.value&&(e.cantidadMaxima=a.data.valor);case 4:case"end":return t.stop()}}),t)})))()},obtenerUltimoFolioGinco:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.obtenerUltimoFolioGinco();case 2:a=t.sent,a.value&&(e.notaRemision.folioGinco=a.data[0]);case 4:case"end":return t.stop()}}),t)})))()},obtenerUltimoFolioNotaRemision:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.obtenerUltimoFolioNR();case 2:a=t.sent,a.value&&(e.notaRemision.folio=a.data[0]);case 4:case"end":return t.stop()}}),t)})))()},filterState:function(){var e=this;this.formulasFiltradas=this.formulas.filter((function(t){var a=t.text.toString().toUpperCase(),o=t.producto.toString().toUpperCase(),r=e.state.trim().toUpperCase();return a.includes(r)||o.includes(r)}))},setState:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.formulaBombeable(e.producto),t.notaRemision.codProducto=e.value,t.state=e.text,t.notaRemision.producto=e.producto,t.modal=!1,t.mostrarProducto=!0,t.hasErrorProducto=!1,t.mostrarOperadores=!0,t.disabledFormula=!0;case 9:case"end":return a.stop()}}),a)})))()},obtenerFormulaProducto:function(e){var t=this.formulas.filter((function(t){return t.value==e}));return t[0]},limpiarProducto:function(){var e=this;this.notaRemision.producto=0,this.notaRemision.codProducto=0,this.mostrarProducto=!1,this.disabledFormula=!1,this.state="",this.$nextTick((function(){e.$refs.refFormula.focus()}))},focusInputFormula:function(){this.state.length>0&&(this.modal=!0)},buscaFolioPedido:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.notaRemision.folioPedido){t.next=61;break}return t.next=3,ne.obtenerPedido(e.notaRemision.folioPedido);case 3:if(a=t.sent,!a.value){t.next=60;break}return e.pedido=a.data[0],t.next=8,e.verificarNotasPorPedido();case 8:return o=t.sent,t.next=11,e.obtenerNotasRelacionadas();case 11:if(!o.value){t.next=57;break}return e.notaRemision.cantidad=o.data.cantidadRecomendar,e.notaRemision.cantidadRestantePedido=o.data.cantidadRestantePedido,t.next=16,e.$swal.fire({icon:"info",html:"El pedido tiene asignada una cantidad de <b> ".concat(e.pedido.cantidad," m<sup>3</sup></b> <BR>")+"Quedan pendientes por capturar <b> ".concat(e.notaRemision.cantidadRestantePedido.toFixed(1)," m<sup>3</sup></b>")});case 16:if(r=t.sent,!r.value){t.next=55;break}return t.next=20,e.obtenerFormulaProducto(e.pedido.idCatFormula);case 20:return n=t.sent,e.mostrarProducto=!0,t.next=24,e.ObtenerOperadoresCR();case 24:if(i=t.sent,!i.value){t.next=41;break}return e.llenarComboOperadores(i.data),t.next=29,e.obtenerEquipoCamionRevolvedor(0,!1);case 29:e.mostrarOperadores=!0,e.notaRemision.codProducto=n.value,e.state=n.text,e.notaRemision.producto=n.producto,e.cantidadNotasConPedido=e.pedido.cantidad,e.notaRemision.codCliente=e.pedido.codCliente,e.notaRemision.codObra=e.pedido.codObra,e.notaRemision.codVendedor=e.pedido.codVendedor,e.notaRemision.folioPedido=e.pedido.folioPedido,e.sinPedido=!1,t.next=42;break;case 41:e.$swal.fire({text:i.message,icon:"info"});case 42:if("B"!=n.producto.substring(n.producto.length-1)){t.next=54;break}return console.log("Entro aqui"),e.notaRemision.chKBombeable=!0,t.next=47,e.ObtenerOperadoresBombeable();case 47:if(s=t.sent,!s.value){t.next=52;break}return e.llenarComboOperadoresCamionBombleable(s.data),t.next=52,e.obtenerEquipoBombeable(0,!0);case 52:t.next=55;break;case 54:e.notaRemision.chKBombeable=!1;case 55:t.next=58;break;case 57:e.notasRemisionExcedidas(o.message);case 58:t.next=61;break;case 60:e.$swal.fire({text:a.message,icon:"info"});case 61:case"end":return t.stop()}}),t)})))()},verificarNotasPorPedido:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",ne.verificarPedido(e.notaRemision.folioPedido));case 1:case"end":return t.stop()}}),t)})))()},notasRemisionExcedidas:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$swal.fire({text:e,icon:"info"});case 1:case"end":return a.stop()}}),a)})))()},habilitarCantidad:function(){var e=this;this.disabledCantidad=!1,this.$nextTick((function(){e.$refs.refCantidad.focus()}))},habilitarFormula:function(){var e=this;this.disabledFormula=!1,this.notaRemision.producto=0,this.notaRemision.codProducto=0,this.mostrarProducto=!1,this.state="",this.$nextTick((function(){e.$refs.refFormula.focus()}))},llenarComboOperadoresCamionBombleable:function(e){var t=this;this.hasErrorOperadorCR=!1,this.operador_2=[{value:0,text:"Seleccione el operador"}],e.forEach((function(e){var a={value:e.codigo,text:e.nombreCompleto};t.operador_2.push(a)}))},cancelarNuevoProducto:function(){this.disabledProductos=!1,this.formulaNueva="",this.nuevaFormula=!1},agregarNvaFormula:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"¿Desea crear una nueva fórmula de Producto?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:a=t.sent,a.value&&(e.notaRemision.codProducto=0,e.nuevaFormula=!0,e.disabledProductos=!0,e.$nextTick((function(){e.$refs.nvaFormula.focus()})));case 4:case"end":return t.stop()}}),t)})))()},aceptarNuevaFormula:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerProducto(e.formulaNueva);case 2:return a={nomenclatura:e.formulaNueva,descripcion:e.notaRemision.producto},t.next=5,ne.guardarFormula(a).then((function(t){if(t.value&&null!=t.data){var a=t.data[0];e.$swal.fire({text:t.message,icon:"success"}),e.disabledProductos=!1,e.cargarFormulas(0),e.notaRemision.codProducto=a}else e.$swal.fire({text:t.message,icon:"error"});e.nuevaFormula=!1}));case 5:case"end":return t.stop()}}),t)})))()},cargarFormulas:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.obtenerFormulas(e);case 2:o=a.sent,o.value&&o.data.forEach((function(e){var a={value:e.codigo,text:e.descripcion,producto:e.nomenclatura};t.formulas.push(a)}));case 4:case"end":return a.stop()}}),a)})))()},obtenerFormulas:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.obtenerFormulas(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},obtenerOperadores:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.obtenerOperadores(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},ObtenerOperadoresCR:function(){return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.obtenerOperadoresCamionRevolvedor();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},ObtenerOperadoresBombeable:function(){return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.obtenerOperadoresCamionBombeable();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},llenarComboOperadores:function(e){var t=this;this.operador_1=[{value:0,text:"Seleccione el operador"}],e.forEach((function(e){var a={value:e.codigo,text:e.nombreCompleto};t.operador_1.push(a)}))},obtenerEquipoCamionRevolvedor:function(e,t){var a=this;return Object(L["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a.equipos_CR=[{value:0,text:"Seleccione el equipo"}],o.next=3,ne.obtenerEquipo(e,t).then((function(e){e.value&&(console.log("1"),e.data.forEach((function(e){var t={value:e.codigo,text:e.identificador};a.equipos_CR.push(t)})))}));case 3:case"end":return o.stop()}}),o)})))()},obtenerEquipoBombeable:function(e,t){var a=this;return Object(L["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a.equipos_BB=[{value:0,text:"Seleccione el equipo"}],o.next=3,ne.obtenerEquipo(e,t).then((function(e){e.value&&(console.log("2"),e.data.forEach((function(e){var t={value:e.codigo,text:e.nombre};a.equipos_BB.push(t)})))}));case 3:case"end":return o.stop()}}),o)})))()},generarDatosFormula:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerFormulas(e.notaRemision.codProducto);case 2:a=t.sent,a.value&&(0!=a.data[0].descripcion.toString().length?(e.notaRemision.producto=a.data[0].descripcion,e.mostrarProducto=!0,o=document.getElementById("cboProducto"),r=o.options[o.selectedIndex].text,e.obtenerProducto(r)):(n=document.getElementById("cboProducto"),i=n.options[n.selectedIndex].text,e.obtenerProducto(i)));case 4:case"end":return t.stop()}}),t)})))()},formulaBombeable:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.notaRemision.chKBombeable="B"==e.substring(e.length-1),a.next=3,t.obtenerOperadores(t.notaRemision.chKBombeable);case 3:o=a.sent,o.value&&t.llenarComboOperadores(o.data);case 5:case"end":return a.stop()}}),a)})))()},obtenerProducto:function(e){var t="Concreto premezclado ",a=e.split("-"),o=a[0],r=a[1],n=a[2],i=a[4],s=a[5],c=a[6];switch(o){case"1":t+=" f'c ",t+=r+" KG/CM2 "+this.getTMA(n);break;case"P":r<100?(t+=" MR-",t+=r):(t+=" f'c",t+=r+" KG/CM2");break;case"L":t+=" f'c",t+=r+" KG/CM2";break}1==c?(this.notaRemision.chKBombeable=!0,t+=" BOMBEADO ",this.obtenerOperadores(!0)):(this.notaRemision.chKBombeable=!1,t+=" TIRO DIRECTO ",this.obtenerOperadores(!1)),i&&(t+=" Resistencia "+i+" Dias "),s&&(t+=" Revenimiento "+s+"+-2"),this.notaRemision.producto=t,this.mostrarProducto=!0},getTMA:function(e){var t="";switch(e){case"1":t+=" T.M.A. 3/8 ";break;case"2":t+=" T.M.A 3/4 ";break;case"4":t+=" T.M.A 1 1/2 ";break}return t},guardar:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validarRegistros()){t.next=35;break}return t.next=3,O.a.fire({title:"¿Desea guardar esta nota de remisión?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 3:if(a=t.sent,e.notaRemision.cantidadRestantePedido=e.notaRemision.cantidadRestantePedido-e.notaRemision.cantidad,!a.value){t.next=34;break}return e.$loading(!0),t.next=9,ne.guardarNotaRemision(e.notaRemision,e.parametrosEspeciales);case 9:if(o=t.sent,e.$loading(!1),!o.value){t.next=20;break}return t.next=14,e.$swal.fire({text:o.message,icon:"success"});case 14:if(r=t.sent,!r.value){t.next=18;break}return t.next=18,e.ImprimirNota(o.data).then((function(){console.log("ENTRO"),e.inicializarDatos(),e.obtenerUltimoFolioGinco(),e.obtenerUltimoFolioNotaRemision()}));case 18:t.next=32;break;case 20:if("FOLIOS REPETIDOS"!=o.message){t.next=31;break}return t.next=23,e.$swal.fire({text:"Los folios ya se encuentras registrados, se actualizaran.",icon:"error"});case 23:if(n=t.sent,!n.value){t.next=29;break}return t.next=27,e.obtenerUltimoFolioGinco();case 27:return t.next=29,e.obtenerUltimoFolioNotaRemision();case 29:t.next=32;break;case 31:e.$swal.fire({text:o.message,icon:"error"});case 32:t.next=35;break;case 34:e.$swal.fire({text:"Hay campos requeridos por completar",icon:"error"});case 35:case"end":return t.stop()}}),t)})))()},addNotaRemison:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.notaRemision.cantidadRestantePedido=e.notaRemision.cantidadRestantePedido-e.notaRemision.cantidad,e.validarRegistros()){t.next=6;break}return t.next=4,ne.agregarNotaRemisionEspecial(e.notaRemision);case 4:a=t.sent,a.value?e.nuevaNotaRemisionEspecial(a.data):e.$swal.fire({text:a.message,icon:"warning"});case 6:case"end":return t.stop()}}),t)})))()},nuevaNotaRemisionEspecial:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.operadorCR=!0,t.notaRemision.folioPedido="",t.notaRemision.cantidad=0,t.notaRemision.codProducto=e.codProducto,t.notaRemision.folioGinco=e.folioGinco,t.notaRemision.folioPadre=e.folioPadre,t.obtenerUltimoFolioNotaRemision(),a.next=9,t.obtenerNotasRelacionadas();case 9:case"end":return a.stop()}}),a)})))()},verificarCantidad:function(){this.notaRemision.cantidad>this.cantidadMaxima?this.mostrarErrorCantidad("La cantidad maxima permitida por un camión revolvedor es de ".concat(this.cantidadMaxima,"m3")):this.notaRemision.cantidad>this.notaRemision.cantidadRestantePedido?this.mostrarErrorCantidad("La cantidad no puede ser mayor al restante del pedido de ".concat(this.notaRemision.cantidadRestantePedido,"m3")):(this.hasErrorCantidad=!1,this.disabledCantidad=!0)},mostrarErrorCantidad:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$swal.fire({text:e,icon:"warning"});case 2:o=a.sent,o.value&&(t.hasErrorCantidad=!0,t.$nextTick((function(){t.$refs.refCantidad.focus()})));case 4:case"end":return a.stop()}}),a)})))()},validarRegistros:function(){var e=!1;return this.notaRemision.cantidad>this.cantidadMaxima&&(this.hasErrorCantidad=!0,e=!0),0===this.notaRemision.codProducto&&(this.hasErrorProducto=!0,e=!0),0===this.notaRemision.codOperador_1&&(this.hasErrorOperadorCR=!0,e=!0),0===this.notaRemision.codEquipo_CR&&(this.hasErrorEquipoCR=!0,e=!0),this.notaRemision.chKBombeable&&(0===this.notaRemision.codOperador_2&&(this.hasErrorOperadorB=!0,e=!0),0===this.notaRemision.codEquipo_BB&&(this.hasErrorEquipoB=!0,e=!0)),e},cancelar:function(){this.$swal.fire({title:"¿Desea cancelar el registro de una nota de remisión?",text:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, volver al catálogo",cancelButtonText:"Cancelar"}).then((function(e){e.value&&window.history.back()}))},inicializarDatos:function(){this.state="",this.mostrarOperadores=!1;var e="".concat((new Date).getHours()+1),t="".concat(24==e?e-1:e,":00");this.notaRemision.horaSalida=t,this.notaRemision={folio:0,folioGinco:0,horaSalida:"12:00",codCliente:0,codProducto:0,codObra:0,codVendedor:0,codOperador_1:0,codOperador_2:0,codEquipo_CR:0,codEquipo_BB:0,codEquipo:0,cantidad:0,chKBombeable:!1,chKFibra:!1,chKImper:!1,producto:"",folioPedido:"",foraneo:!1,parametrosEspeciales:{codOperador:0,iva:0,reubicado:0}}},ImprimirNota:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$loading(!0),a.next=3,ne.obtenerPdfNotaRemision(e);case 3:if(o=a.sent,!o.value){a.next=9;break}return a.next=7,Yn(o.data);case 7:t.pdf=a.sent,t.mostrarPdf=!0;case 9:t.$loading(!1);case 10:case"end":return a.stop()}}),a)})))()},mostrarBuscadorPedidos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.modalShow=!0;case 1:case"end":return t.stop()}}),t)})))()},obtenerNotasRelacionadas:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,ne.obtenerNotasEspecialRelacionadas(e.notaRemision.folioPadre,e.notaRemision.folioGinco);case 3:a=t.sent,a.value&&(e.notasRelacionadas=a.data,console.log("informacion"+e.notasRelacionadas)),e.$loading(!1);case 6:case"end":return t.stop()}}),t)})))()},aceptarParametrosEspeciales:function(){console.log("Click"),this.mostrarParametroEspeciales=!1},abrirPdfNotaRemision:function(){var e="data:application/pdf;base64,"+this.pdfBase64,t=window.open();t.document.write('<iframe src="'+e+'" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>')},descargarPdfNotaRemision:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Nota de remisión 1",a.href="data:application/pdf;base64,"+e.pdfBase64,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()}}};function Yn(e){return Zn(e)}function Zn(e){for(var t=window.atob(e),a=t.length,o=new Uint8Array(a),r=0;r<a;r++)o[r]=t.charCodeAt(r);return o.buffer}var Qn,ei,ti=Xn,ai=(a("7802"),Object(m["a"])(ti,Fn,Tn,!1,null,"5e2ead77",null)),oi=ai.exports,ri=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ni=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Pedidos")])])}],ii={data:function(){return{}},components:{},mounted:function(){},created:function(){},computed:{},methods:{}},si=ii,ci=Object(m["a"])(si,ri,ni,!1,null,"0a0b3fec",null),li=ci.exports,ui=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},di=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Dosificador - Prueba Excel")])])}],mi={data:function(){return{}},components:{},mounted:function(){},created:function(){},computed:{},methods:{}},pi=mi,fi=Object(m["a"])(pi,ui,di,!1,null,"79ca14e6",null),bi=fi.exports,vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-3"},[a("b-modal",{attrs:{centered:"",size:"md",title:"Reagendar pedido","header-bg-variant":e.headerBgVariant,"header-text-variant":e.headerTextVariant},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("b-button",{staticClass:"float-right",attrs:{variant:"danger"},on:{click:function(t){e.modalShow=!1}}},[e._v(" Cancelar ")]),a("b-button",{staticClass:"float-right mr-2",attrs:{variant:"primary"},on:{click:e.ReagendarPedido}},[e._v(" Aceptar ")])],1)]},proxy:!0}]),model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[a("b-container",{staticClass:"container",attrs:{fluid:""}},[a("div",{staticClass:"col-12"},[a("strong",[a("label",[e._v("Hora de salida de la planta")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedidoReagendar.horaSalida,expression:"pedidoReagendar.horaSalida"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:e.pedidoReagendar.horaSalida},on:{input:function(t){t.target.composing||e.$set(e.pedidoReagendar,"horaSalida",t.target.value)}}})]),a("div",{staticClass:"col-12"},[a("strong",[a("label",[e._v("Fecha de salida")])]),a("b-form-datepicker",{attrs:{size:"sm",locale:"es"},model:{value:e.pedidoReagendar.fechaSalida,callback:function(t){e.$set(e.pedidoReagendar,"fechaSalida",t)},expression:"pedidoReagendar.fechaSalida"}})],1),a("div",{staticClass:"col-12"},[a("strong",[a("label",[e._v("Motivo")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.pedidoReagendar.motivo,expression:"pedidoReagendar.motivo"}],staticClass:"form-control",attrs:{rows:"2"},domProps:{value:e.pedidoReagendar.motivo},on:{input:function(t){t.target.composing||e.$set(e.pedidoReagendar,"motivo",t.target.value)}}})])])],1),a("b-modal",{attrs:{id:e.infoModal.id,title:e.infoModal.title,"ok-only":"",codigo:e.infoModal.codigo,"hide-footer":""},on:{hide:e.resetInfoModal}},[e._l(e.infoModal.content,(function(t,o){return a("tr",{key:o},[a("th",[e._v(e._s(o))]),a("td",[e._v(e._s(t))])])})),a("b-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"mt-3",attrs:{variant:"outline-primary",block:"",to:e.rutaNuevo+"?id="+e.idSeleccionado}},[a("i",{staticClass:"fa fa-eye"}),e._v(" Más información ")])],2),e._m(0),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es",size:"sm"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es",size:"sm"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("b-row",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"col-sm-12 col-md-4 col-lg-2 mb-2"},[a("b-button",{staticClass:"mr-2",attrs:{block:"",variant:"success"},on:{click:e.buscarPedidos}},[a("i",{staticClass:"fa fa-search"}),e._v(" Buscar ")])],1)]),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{attrs:{md:"3","offset-md":"2"}},[a("b-button",{staticClass:"btn btn-sm py-1 mt-1 btn-block",attrs:{variant:"primary"},on:{click:e.redirect}},[a("i",{staticClass:"fa fa-plus"}),e._v(" Nuevo ")])],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatusPedido)",fn:function(t){return["T"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"success"}},[e._v(" Terminado ")]):e._e(),"P"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"secondary"}},[e._v(" Pendiente ")]):e._e(),"PC"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"secondary"}},[e._v(" Pendiente de Confirmar ")]):e._e(),"S"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"info"}},[e._v(" Surtiendo ")]):e._e(),"C"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v(" Cancelado ")]):e._e(),"DA"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"warning"}},[e._v(" Pendiente Autorizacion ")]):e._e(),"DC"===t.item.estatus?a("b-badge",{staticClass:"p-2",attrs:{variant:"warning"}},[e._v(" Pendiente Limite Credito ")]):e._e()]}},{key:"cell(acciones)",fn:function(t){return["PC"!=t.item.estatus?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{disabled:"DA"===t.item.estatus||"DC"===t.item.estatus||"C"===t.item.estatus,size:"sm",variant:"primary",title:"Generar Nota Remisión"},on:{click:function(a){return e.generarNotaRemision(t.item)}}},[a("i",{staticClass:"fas fa-tasks"})]):e._e(),"PC"===t.item.estatus?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"success",title:"Confirmar Pedido"},on:{click:function(a){return e.ConfirmarPedido(t.item)}}},[a("i",{staticClass:"fas fa-check"})]):e._e(),"PC"===t.item.estatus?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"secondary",title:"Reagendar"},on:{click:function(a){return e.ModalReagendarPedido(t.item)}}},[a("i",{staticClass:"fas fa-history"})]):e._e()]}},{key:"cell(cancelarPedido)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{disabled:"S"==t.item.estatus||"T"==t.item.estatus||"C"==t.item.estatus,size:"sm",variant:"danger",title:"Cancelar Pedido"},on:{click:function(a){return e.CancelarPedido(t.item)}}},[a("i",{staticClass:"fa fa-times"})])]}},{key:"cell(actions)",fn:function(t){return[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",title:"Ver Detalle",variant:"outline-info"},on:{click:function(a){return e.modal(t.item,t.index,a.target)}}},[a("i",{staticClass:"fa fa-eye"})]),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{to:e.rutaNuevo+t.item.codigo,size:"sm",title:"Editar",variant:"outline-info"}},[a("i",{staticClass:"fa fa-edit"})])]}}])}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)},hi=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h3",[a("i",{staticClass:"fas fa-clipboard-list"}),e._v(" Pedidos")])])}],gi={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=t.toISOString().slice(0,10);return{desde:a,hasta:a,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"folioPedido",label:"Folio P.",sortable:!0,sortDirection:"desc"},{key:"cliente",label:"Cliente",sortable:!0,sortDirection:"desc"},{key:"formatoCantidad",label:"Cantidad",sortable:!0,class:"text-center"},{key:"nomenclatura",label:"Producto",sortable:!0,class:"text-center"},{key:"fechaSalida",label:"Fecha Salida",sortable:!0,class:"text-center"},{key:"horaSalida",label:"Hora Salida",sortable:!0,class:"text-center"},{key:"estatusPedido",label:"Estatus",sortable:!0,class:"text-center"},{key:"actions",label:"",class:"text-center"},{key:"acciones",label:"Acciones",class:"text-center"},{key:"cancelarPedido",label:"",class:"text-center"}],permisoEscritura:!0,rutaNuevo:"pedidos/registro/",modalShow:!1,headerBgVariant:"dark",headerTextVariant:"light",pedidoReagendar:{folioPedido:0,fechaSalida:"",horaSalida:"",motivo:""},folioPedidoCancelar:0,infoModal:{id:"info-modal",title:"",content:"",codigo:""},idSeleccionado:0}},components:{},mounted:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerPedidos();case 2:return t.next=4,e.CargarRenglones();case 4:case"end":return t.stop()}}),t)})))()},created:function(){},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},buscarPedidos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerPedidos();case 2:case"end":return t.stop()}}),t)})))()},ObtenerPedidos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,ce.obtenerPedidos(0,e.desde,e.hasta).then((function(t){e.items=t.data,console.log(e.items),e.$loading(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},redirect:function(){var e=this;setTimeout((function(){e.$router.push({path:"".concat(e.rutaNuevo,"0")})}),500)},CargarRenglones:function(){var e=this;console.log("----\x3e"+this.items),setTimeout((function(){e.totalRows=e.items.length}),1e3)},CancelarPedido:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(e),"S"!=e.estatus&&"T"!=e.estatus){a.next=5;break}t.$swal.fire({text:"No se puede cancelar el pedido seleccionado.",icon:"warning"}),a.next=12;break;case 5:return a.next=7,t.$swal.fire({text:"¿Desea cancelar el pedido de "+e.cliente+"?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 7:if(o=a.sent,!o.value){a.next=12;break}return t.folioPedidoCancelar=e.folioPedido,a.next=12,t.CapturarObservacion();case 12:case"end":return a.stop()}}),a)})))()},ConfirmarPedido:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("PC"==e.estatus){a.next=4;break}t.$swal.fire({text:"No se puede confirmar el pedido, favor de actualizar la pantalla.",icon:"warning"}),a.next=10;break;case 4:return a.next=6,t.$swal.fire({title:"¡ATENCIÓN!",text:"¿Desea confirmar el pedido del cliente: "+e.cliente+", para la obra: "+e.obra+", con la cantidad de: "+e.cantidad+"m³?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 6:if(o=a.sent,!o.value){a.next=10;break}return a.next=10,t.CambiarEstatusPedido(e.folioPedido,!0);case 10:case"end":return a.stop()}}),a)})))()},ModalReagendarPedido:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.modalShow=!0,t.pedidoReagendar.fechaSalida=e.fechaSalida,t.pedidoReagendar.horaSalida=e.horaSalida,t.pedidoReagendar.folioPedido=e.folioPedido,t.pedidoReagendar.motivo="";case 5:case"end":return a.stop()}}),a)})))()},ReagendarPedido:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.pedidoReagendar),""!==e.pedidoReagendar.motivo.trim()){t.next=5;break}e.$swal.fire({text:"El campo del motivo, no puede estar vacío.",icon:"warning"}),t.next=7;break;case 5:return t.next=7,ce.reagendarPedido(e.pedidoReagendar).then((function(t){t.value&&(e.modalShow=!1,e.$swal.fire({text:t.message,icon:"success"}),e.ObtenerPedidos()),e.$loading(!1)})).catch((function(e){console.log(e)}));case 7:case"end":return t.stop()}}),t)})))()},generarNotaRemision:function(e){"DA"===e.estatus||"DC"===e.estatus?this.$swal.fire({text:"Favor de contactar al personal de credito y cobranza para autorizar el pedido pedido",icon:"warning"}):"C"===e.estatus?this.$swal.fire({text:"Favor de actualizar la pantalla.",icon:"warning"}):this.$router.push({path:"/dosificador/nota-de-remision/registro/".concat(e.folioPedido)})},CapturarObservacion:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"Ingrese una observación:",html:'<textarea id="swal-input2" class="swal2-input" placeholder="Capture una observación" style="margin-top: 20px; margin-bottom: 20px; height: 120px;">',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",preConfirm:function(){a=O.a.getPopup().querySelector("#swal-input2").value;var e=O.a.getPopup().querySelector("#swal-input2");e.style.borderColor="",""===a&&(e.style.borderColor="red",O.a.showValidationMessage("Favor de ingresar una observación."))}});case 2:if(o=t.sent,r=o.value,!r){t.next=8;break}return e.observacion=a,t.next=8,e.CambiarEstatusPedido(e.folioPedidoCancelar,!1);case 8:case"end":return t.stop()}}),t)})))()},CambiarEstatusPedido:function(e,t){var a=this;return Object(L["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a.$loading(!0),o.next=3,ce.cambiarEstatusPedido(e,t).then((function(e){console.log(e),a.folioPedidoCancelar=0,a.ObtenerPedidos(),a.$swal.fire({title:"¡EXITO!",text:e.message,icon:"success"}),a.$loading(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return o.stop()}}),o)})))()},modal:function(e,t,a){var o="";this.idSeleccionado=e.codigo,this.infoModal.title="Datos del PEDIDO #".concat(e.folioPedido),o+="{ ",o+='"Folio pedido" : "  '.concat(e.folioPedido,'\\n\\n", '),o+='"Cliente" : "  '.concat(e.cliente,'\\n\\n",'),o+='"Fecha de Salida" : "  '.concat(e.fechaSalida,'\\n\\n",'),o+='"Hora de Salida" : "  '.concat(e.horaSalida,'\\n\\n",'),o+='"Obra" : "  '.concat(e.obra,'\\n\\n",'),o+='"Cantidad" : "  '.concat(e.cantidad,' m³\\n\\n",'),o+='"Cierre" : "  '.concat(e.cierre,'\\n\\n",'),o+='"Cantidad Cierre" : "  '.concat(e.cantidadCierre,' m³\\n\\n",'),o+='"Vendedor" : "  '.concat(e.vendedor,'\\n\\n",'),o+='"Usuario" : "  '.concat(e.usuario,'\\n\\n",'),o+='"Observación" : "  '.concat(e.observacion,'\\n\\n"'),o+="}",o=JSON.parse(o),this.infoModal.content=o,this.$root.$emit("bv::show::modal",this.infoModal.id,a),console.log("PEDIDO SELECCIONADaaO->",e)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""}}},Ci=gi,xi=Object(m["a"])(Ci,vi,hi,!1,null,"33995fee",null),wi=xi.exports,ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container mt-3 mb-5"},[a("div",{staticClass:"mt-3"},[0==e.parametro?a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Registrar pedido")]):e._e(),e.parametro>0?a("h3",[a("i",{staticClass:"fas fa-users"}),e._v(" Actualizar el pedido")]):e._e()]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-4 col-xl-3 mb-1"},[a("label",[e._v("Hora de salida de la planta")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedido.horaSalida,expression:"pedido.horaSalida"}],staticClass:"form-control",attrs:{type:"time",disabled:e.disabledPedido},domProps:{value:e.pedido.horaSalida},on:{input:function(t){t.target.composing||e.$set(e.pedido,"horaSalida",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 mb-1"},[a("label",[e._v("Fecha de salida")]),a("b-form-datepicker",{attrs:{disabled:e.disabledPedido,locale:"es",size:"sm"},model:{value:e.pedido.fechaSalida,callback:function(t){e.$set(e.pedido,"fechaSalida",t)},expression:"pedido.fechaSalida"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2"},[a("label",[e._v("Vendedor")]),a("div",{staticClass:"input-group"},[a("b-form-select",{class:{hasError:e.hasErrorVendedor},attrs:{id:"cboVendedor",options:e.vendedores,disabled:e.disabledVendedor||e.disabledPedido},on:{change:e.obtenerClientes},model:{value:e.pedido.codVendedor,callback:function(t){e.$set(e.pedido,"codVendedor",t)},expression:"pedido.codVendedor"}})],1)]),a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-4 col-xl-3 mb-2"},[a("b-form-checkbox",{attrs:{name:"check-button",checkbox:"",size:"lg"},model:{value:e.pedido.tieneDescuento,callback:function(t){e.$set(e.pedido,"tieneDescuento",t)},expression:"pedido.tieneDescuento"}},[e._v(" Descuento ")]),e.pedido.tieneDescuento?a("div",{staticClass:"row"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.porcentajeDescuento,expression:"pedido.porcentajeDescuento"}],staticClass:"form-control col-4 col-lg-8",attrs:{type:"text"},domProps:{value:e.pedido.porcentajeDescuento},on:{input:function(t){t.target.composing||e.$set(e.pedido,"porcentajeDescuento",t.target.value)}}}),a("h3",[e._v("%")])]):e._e()],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2"},[a("label",[e._v("Cliente")]),a("div",{staticClass:"input-group"},[a("b-form-select",{class:{hasError:e.hasErrorCte},attrs:{id:"cboCliente",disabled:e.disabledClientes||e.disabledPedido,options:e.clientes},on:{change:e.obtenerObras},model:{value:e.pedido.codCliente,callback:function(t){e.$set(e.pedido,"codCliente",t)},expression:"pedido.codCliente"}})],1)]),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2"},[a("label",[e._v("Obras")]),a("div",{staticClass:"input-group"},[a("b-form-select",{class:{hasError:e.hasErrorObra},attrs:{id:"cboObras",disabled:e.disabledObras||e.disabledPedido,options:e.obras},on:{change:e.obraSeleccionada},model:{value:e.pedido.codObra,callback:function(t){e.$set(e.pedido,"codObra",t)},expression:"pedido.codObra"}})],1),a("b-form-text",{attrs:{id:"input-live-help"}},[e._v(" Dist. Apróx: "+e._s(e.distanciaActual)+" "),a("b",[e._v("Km.")]),a("br"),e._v(" Tiempo Apróx: "+e._s(e.tiempoActual)+" ")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-4 col-xl-12 mb-1"},[a("label",[e._v("Fórmula")]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-group col-xl-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],ref:"refFormula",staticClass:"form-control",class:{hasError:e.hasErrorProducto},attrs:{type:"text",autocomplete:"off",disabled:e.disabledPedido},domProps:{value:e.state},on:{input:[function(t){t.target.composing||(e.state=t.target.value)},e.filterState],focus:e.focusInputFormula}}),a("span",{staticClass:"input-group-btn"},[a("b-button",{staticClass:"input-group-4",attrs:{disabled:e.disabledFormula||e.disabledPedido,variant:"outline-primary"},on:{click:e.limpiarProducto}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],1)]),a("b-button",{staticClass:"col-xs-4",attrs:{variant:"primary","data-toggle":"tooltip","data-placement":"top",disabled:e.disabledPedido},on:{click:e.habilitarFormula}},[a("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}}),e._v(" Modificar")])],1),e.formulasFiltradas&&e.modal?a("div",[a("ul",{staticClass:"list-group items-body"},e._l(e.formulasFiltradas,(function(t){return a("li",{key:t.value,staticClass:"list-group-item py-2 items-body-content",on:{click:function(a){return e.setState(t)}}},[a("span",[e._v(" "+e._s(t.text))]),a("i",{staticClass:"fa fa-angle-right"})])})),0)]):e._e(),a("transition",{attrs:{name:"fade"}},[a("label",{directives:[{name:"show",rawName:"v-show",value:e.mostrarProducto,expression:"mostrarProducto"}]},[a("span",{staticClass:"labelSize"},[e._v("Nomenclatura: ")]),e._v(" "+e._s(e.pedido.producto))])])],1)]),a("div",{staticClass:"row hasError"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-3 mb-2"},[a("label",[e._v("Cantidad")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.cantidad,expression:"pedido.cantidad"}],ref:"refCantidad",staticClass:"form-control col-4 col-md-8",class:{hasError:e.hasErrorCantidad},attrs:{id:"cantidad",type:"text",disabled:e.disabledPedido},domProps:{value:e.pedido.cantidad},on:{change:function(t){e.hasErrorCantidad=!1},focus:function(t){return e.onFocus(1)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.pedido,"cantidad",t.target.value)}}}),e._m(0)])]),e.pedido.tieneCierres?e._e():a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-4 col-xl-3 mb-2"},[a("b-form-checkbox",{attrs:{name:"check-button",switch:"",size:"lg"},on:{change:function(t){return e.cierreFuncion()}},model:{value:e.pedido.cierre,callback:function(t){e.$set(e.pedido,"cierre",t)},expression:"pedido.cierre"}},[e._v("Cierre ")]),e.pedido.cierre?a("div",{staticClass:"row"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.cantidadCierre,expression:"pedido.cantidadCierre"}],staticClass:"form-control col-4 col-lg-8",attrs:{type:"text"},domProps:{value:e.pedido.cantidadCierre},on:{focus:function(t){return e.onFocus(2)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.pedido,"cantidadCierre",t.target.value)}}}),e._m(1)]):e._e()],1),e.pedido.tieneCierres?a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-3 mb-2"},[a("label",[e._v("Cantidad Total")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.cantidadCierre,expression:"pedido.cantidadCierre"}],ref:"refCantidad",staticClass:"form-control col-4 col-md-8",class:{hasError:e.hasErrorCantidad},attrs:{disabled:"",type:"text"},domProps:{value:e.pedido.cantidadCierre},on:{change:function(t){e.hasErrorCantidad=!1},focus:function(t){return e.onFocus(1)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.pedido,"cantidadCierre",t.target.value)}}}),e._m(2)])]):e._e(),e.pedido.cierre?a("div",{staticClass:"form-group col-sm-12 col-md-6 mb-2"},[a("div",{staticClass:"row"},[e.pedido.tieneCierres?a("div",{staticClass:"form-group col-sm-6 col-lg-4 mb-2"},[a("label",{staticClass:"text-white"},[e._v(".")]),e.pedido.cierre?a("div",{staticClass:"row"},[a("button",{staticClass:" btn btn-info col-lg-10 sm-ml-3",on:{click:e.buscarCierres}},[e.mostrarCierres?e._e():a("span",[e._v(" Ver cierres ")]),e.mostrarCierres?a("span",[e._v(" Ocultar cierres ")]):e._e()])]):e._e()]):e._e(),e.pedido.tieneCierres?a("div",{staticClass:"form-group col-sm-6 col-lg-4 mb-2"},[a("label",{staticClass:"text-white"},[e._v(".")]),e.pedido.cierre?a("div",{staticClass:"row"},[a("button",{staticClass:" btn btn-dark col-lg-10 sm-ml-3",attrs:{disabled:e.disabledCierres},on:{click:e.capturaNvoCierre}},[a("span",[e._v(" Nuevo cierre ")])])]):e._e()]):e._e()]),a("div",{staticClass:"row"},[a("transition",{attrs:{name:"bounce"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.nuevoCierre,expression:"nuevoCierre"}],staticClass:"input-group"},[a("b-input",{ref:"cierreNvo",attrs:{placeholder:"Cantidad del cierre"},on:{focus:function(t){return e.onFocus(3)},keypress:e.numerosDecimales},model:{value:e.cierreNuevo,callback:function(t){e.cierreNuevo=t},expression:"cierreNuevo"}}),a("label",{staticClass:"labelSize col-2",attrs:{for:"cantidad ml-3 mr-3"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])]),a("span",{staticClass:"input-group-btn"},[a("b-button",{staticClass:"input-group-4",attrs:{variant:"success"},on:{click:e.aceptarNuevoCierre}},[a("i",{staticClass:"fa fa-check"})])],1),a("span",{staticClass:"input-group-btn ml-2"},[a("b-button",{staticClass:"input-group-4",attrs:{variant:"danger"},on:{click:e.cancelarNuevoCierre}},[a("i",{staticClass:"fa fa-times"})])],1)],1)])],1)]):e._e()]),e.mostrarCierres?a("div",[a("table-sortable",{staticClass:"mt-3",attrs:{items:e.items,fields:e.fields}})],1):e._e(),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.guardar}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)])},_i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"labelSize col-4",attrs:{for:"cantidad"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"labelSize col-4",attrs:{for:"cantidad"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"labelSize col-4",attrs:{for:"cantidad"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])])}],Ri={obtenerUbicacion:function(){return D.get("/planta/ubicacion").then((function(e){return e.data})).catch((function(e){return e}))}},yi=Ri,Ei={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=t.toISOString().slice(0,10);return{hasErrorCte:!1,hasErrorObra:!1,hasErrorVendedor:!1,hasErrorCantidad:!1,disabledObras:!0,disabledClientes:!1,disabledCierres:!1,nuevoCierre:!1,mostrarOperadores:!0,distanciaActual:"0",tiempoActual:"0",clientes:[{value:0,text:"Seleccione el cliente"}],obras:[{value:0,text:"Seleccione la obra del cliente"}],vendedores:[{value:0,text:"Seleccione el vendedor"}],pedido:{folioPedido:0,horaSalida:"12:00",fechaSalida:a,codCliente:0,codObra:0,codVendedor:0,cantidad:0,cantidadCierre:0,cierre:!1,tieneCierres:!1,producto:"",codProducto:0,estatus:"",tieneDescuento:!1,porcentajeDescuento:0,observacion:""},inputSeleccionado:0,parametro:0,items:[],fields:[{key:"folioPedido",label:"Folio Pedido",sortable:!0,sortDirection:"desc"},{key:"cantidad",label:"Cantidad",sortable:!0,sortDirection:"desc"},{key:"cancelarPedidoCierre",label:""}],mostrarCierres:!1,cierreNuevo:"",disabledFormula:!0,nuevaFormula:!1,mostrarProducto:!1,state:"",formulasFiltradas:[],formulas:[],formulaNueva:"",hasErrorProducto:!1,disabledlimpiarProductos:!1,modal:!1,disabledVendedor:!1,disabledPedido:!1,continuarGuardado:!1}},components:{TableSortable:xe},watch:{state:function(e){e.length>=1&&0==this.pedido.codProducto?this.modal=!0:this.modal=!1,0===e.length&&(this.pedido.producto=0,this.pedido.codProducto=0,this.mostrarProducto=!1)}},mounted:function(){this.parametro=void 0!=this.$route.params.id?this.$route.params.id:0,console.log("P->",this.parametro),this.parametro>0&&this.cargaPedido()},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.usuario.agente){t.next=7;break}e.disabledVendedor=!0,e.vendedores=[{value:e.usuario.codEmpleado,text:e.usuario.nombre}],e.pedido.codVendedor=e.vendedores[0].value,e.obtenerClientes(),t.next=11;break;case 7:return e.disabledVendedor=!1,t.next=10,e.obtenerVendedores();case 10:e.disabledClientes=!0;case 11:return t.next=13,e.cargarFormulas(0);case 13:0==e.parametro&&(a="".concat((new Date).getHours()+1,":00"),e.pedido.horaSalida=a);case 14:case"end":return t.stop()}}),t)})))()},computed:{},methods:{obtenerClientes:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hasErrorVendedor=!1,e.hasErrorCte=!1,e.hasErrorObra=!1,e.clientes=[{value:0,text:"Seleccione el cliente"}],e.pedido.codCliente=e.clientes[0].value,e.obras=[{value:0,text:"Seleccione la obra del cliente"}],e.pedido.codObra=e.obras[0].value,e.disabledObras=!0,!(e.pedido.codVendedor>0)){t.next=16;break}return e.$loading(!0),t.next=12,me.obtenerClientesAgente(e.pedido.codVendedor).then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codigo,text:t.nombreCompleto};e.clientes.push(a)}))}));case 12:e.disabledClientes=!1,e.$loading(!1),t.next=17;break;case 16:e.disabledClientes=!0;case 17:case"end":return t.stop()}}),t)})))()},obtenerObras:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.hasErrorObra=!1,a=e.pedido.codCliente,e.pedido.codObra=0,e.obras=[{value:0,text:"Seleccione la obra del cliente"}],e.$loading(!0),console.log("aqui ando"),t.next=8,ne.obtenerObras(a).then((function(t){e.$loading(!1),t.value?(e.disabledObras=!1,e.hasErrorCte=!1,t.data.forEach((function(t){var a={value:t.codigo,text:t.calleNumero};e.obras.push(a)})),console.log(e.obras)):e.disabledObras=!0}));case 8:e.$loading(!1);case 9:case"end":return t.stop()}}),t)})))()},obraSeleccionada:function(){this.hasErrorObra=!1,this.obtenerDistanciaTiempoObra()},obtenerDistanciaTiempoObra:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var o,r,n,i,s,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Obteniendo tiempo"),e.$loading(!0),o=e.pedido.codObra,r="",n="",t.next=7,yi.obtenerUbicacion().then((function(e){e.value&&(r=e.data.valor)})).catch((function(e){console.err(e)}));case 7:return t.next=9,me.obtenerDireccion(o).then((function(e){e.value&&(n="".concat(e.data[0].latitud,",").concat(e.data[0].longitud))})).catch((function(e){console.err(e)}));case 9:i=a("b9eb"),s=[n],c=[r],i.key("AIzaSyDN3U-3Wii-C4MU_Poy7MncZgUdt7N2cU4"),l=e,i.matrix(s,c,function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t||console.log("DISTANCIAS entre puntos ",a.rows[0].elements[0].distance.text),e.next=3,null===a||void 0===a?void 0:a.rows[0].elements[0].distance.text;case 3:return l.distanciaActual=e.sent,e.next=6,null===a||void 0===a?void 0:a.rows[0].elements[0].duration.text;case 6:l.tiempoActual=e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e.$loading(!1);case 16:case"end":return t.stop()}}),t)})))()},obtenerVendedores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,qe.agentesCombo().then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codVendedor,text:t.nombreVendedor};e.vendedores.push(a)}))}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},guardar:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.pedido),e.validarRegistros()){t.next=8;break}return t.next=4,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar el pedido?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 4:a=t.sent,a.value&&(console.log(e.pedido.fechaSalida),e.continuarGuardado=!0),t.next=9;break;case 8:e.$swal.fire({text:"Hay campos requeridos por completar",icon:"error"});case 9:if(!e.continuarGuardado){t.next=18;break}return t.next=12,e.CapturarObservacion();case 12:return e.continuarGuardado&&console.log("guardo"),e.$loading(!0),t.next=16,ce.guardarPedido(e.pedido);case 16:o=t.sent,o.value?(e.$loading(!1),O.a.fire("¡EXITO!",o.message,"success"),e.$router.push({path:"/pedidos"})):(e.$loading(!1),e.$swal.fire({text:o.message,icon:"error"}));case 18:case"end":return t.stop()}}),t)})))()},cancelar:function(){return Object(L["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea cancelar el registro del pedido?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:t=e.sent,t.value&&window.history.back();case 4:case"end":return e.stop()}}),e)})))()},validarRegistros:function(){var e=!1;return 0===this.pedido.codCliente&&(this.hasErrorCte=!0,e=!0),0===this.pedido.codObra&&(this.hasErrorObra=!0,e=!0),"0"!==this.pedido.cantidad&&0!==this.pedido.cantidad||(this.hasErrorCantidad=!0,e=!0),0===this.pedido.codVendedor&&(this.hasErrorVendedor=!0,e=!0),0===this.pedido.codProducto&&(this.hasErrorProducto=!0,e=!0),e},inicializarDatos:function(){this.pedido={horaSalida:"12:00",fechaSalida:this.todayDate,codCliente:0,codObra:0,codVendedor:0,cantidad:0,cierre:!1}},numerosDecimales:function(e){var t=e.keyCode?e.keyCode:e.which;1==this.inputSeleccionado?!(t<48||t>57)||46===t&&-1==this.pedido.cantidad.indexOf(".")||e.preventDefault():2==this.inputSeleccionado?!(t<48||t>57)||46===t&&-1==this.pedido.cantidadCierre.indexOf(".")||e.preventDefault():3==this.inputSeleccionado&&(!(t<48||t>57)||46===t&&-1==this.cierreNuevo.indexOf(".")||e.preventDefault())},onFocus:function(e){this.inputSeleccionado=e},cargaPedido:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.parametro>0)){t.next=20;break}return console.log("#",e.parametro),a=new Date,o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),r=o.toISOString().slice(0,10),n=0,i=0,e.$loading(!0),t.next=10,ce.obtenerPedidos(e.parametro,r,r).then((function(t){t.value?(console.log("RR->",t),e.pedido.folioPedido=t.data[0].folioPedido,e.pedido.codVendedor=t.data[0].codVendedor,i=t.data[0].codCliente,e.pedido.horaSalida=t.data[0].horaSalida,e.pedido.fechaSalida=t.data[0].fechaSalida,e.pedido.cierre=t.data[0].cierre,e.pedido.cantidadCierre=t.data[0].cantidadCierre,e.pedido.cantidad=t.data[0].cantidad,e.pedido.tieneCierres=t.data[0].tieneCierres,e.pedido.codProducto=t.data[0].codProducto,e.pedido.estatus=t.data[0].estatus,e.pedido.tieneDescuento=t.data[0].tieneDescuento,e.pedido.porcentajeDescuento=t.data[0].porcentajeDescuento,n=t.data[0].codObra,e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:"".concat(t.message),icon:"error"}),e.$router.push({path:"/pedidos"}))}));case 10:return t.next=12,e.obtenerClientes();case 12:return e.pedido.codCliente=i,t.next=15,e.obtenerObras();case 15:e.pedido.codObra=n,console.log("PEDIDO -> ",e.pedido),console.log(e.pedido.codProducto),e.obtenerFormulaProducto(e.pedido.codProducto),"P"!=e.pedido.estatus?(console.log("Se bloqueara todo"),e.disabledPedido=!0):e.disabledPedido=!1;case 20:case"end":return t.stop()}}),t)})))()},buscarCierres:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.mostrarCierres){t.next=4;break}e.mostrarCierres=!1,t.next=7;break;case 4:return e.$loading(!0),t.next=7,ce.obtenerCierres(e.pedido.folioPedido).then((function(t){t.value?(console.log("CIERRES->",t),e.items=t.data,e.mostrarCierres=!0,e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:"".concat(t.message),icon:"error"}))}));case 7:case"end":return t.stop()}}),t)})))()},capturaNvoCierre:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"¡ATENCIÓN!",text:"¿Desea crear un nuevo cierre?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:a=t.sent,a.value&&(e.disabledCierres=!0,e.nuevoCierre=!0,e.$nextTick((function(){e.$refs.cierreNvo.focus()})));case 4:case"end":return t.stop()}}),t)})))()},aceptarNuevoCierre:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.cierreNuevo),!(parseFloat(e.cierreNuevo)&&e.cierreNuevo>0)){t.next=8;break}return e.$loading(!0),t.next=5,ce.guardarCierre(e.pedido.folioPedido,e.cierreNuevo).then((function(t){t.value&&null!=t.data?(O.a.fire("¡EXITO!",t.message,"success"),e.disabledCierres=!1,e.cierreNuevo="",e.cargaPedido(),e.buscarCierres()):O.a.fire("¡ATENCIÓN!",t.message,"error"),e.nuevoCierre=!1}));case 5:e.$loading(!1),t.next=9;break;case 8:O.a.fire("¡ATENCIÓN!","La cantidad del nuevo cierre tiene que ser mayor a 0 mts.","info");case 9:case"end":return t.stop()}}),t)})))()},cancelarNuevoCierre:function(){this.disabledCierres=!1,this.cierreNuevo="",this.nuevoCierre=!1},cierreFuncion:function(){this.pedido.cierre=!this.pedido.cierre},agregarNvaFormula:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"¿Desea crear una nueva fórmula de Producto?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:a=t.sent,a.value&&(e.pedido.codProducto=0,e.nuevaFormula=!0,e.disabledProductos=!0,e.$nextTick((function(){e.$refs.nvaFormula.focus()})));case 4:case"end":return t.stop()}}),t)})))()},aceptarNuevaFormula:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,e.obtenerProducto(e.formulaNueva);case 3:return a={nomenclatura:e.formulaNueva,descripcion:e.pedido.producto},t.next=6,ne.guardarFormula(a).then((function(t){if(t.value&&null!=t.data){var a=t.data[0];e.$swal.fire({text:t.message,icon:"success"}),e.disabledProductos=!1,e.cargarFormulas(0),e.pedido.codProducto=a}else e.$swal.fire({text:t.message,icon:"error"});e.nuevaFormula=!1}));case 6:e.$loading(!1);case 7:case"end":return t.stop()}}),t)})))()},cargarFormulas:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$loading(!0),a.next=3,t.obtenerFormulas(e);case 3:o=a.sent,o.value&&o.data.forEach((function(e){var a={value:e.codigo,text:e.descripcion,producto:e.nomenclatura};t.formulas.push(a)})),t.$loading(!1);case 6:case"end":return a.stop()}}),a)})))()},obtenerFormulas:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.obtenerFormulas(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},filterState:function(){var e=this;this.formulasFiltradas=this.formulas.filter((function(t){var a=t.text.toString().toUpperCase(),o=t.producto.toString().toUpperCase(),r=e.state.trim().toUpperCase();return a.includes(r)||o.includes(r)}))},setState:function(e){console.log("ENTRA ESTA -> ",e),this.pedido.codProducto=e.value,this.state=e.text,this.pedido.producto=e.producto,this.modal=!1,this.mostrarProducto=!0,this.hasErrorProducto=!1,this.disabledFormula=!0},obtenerFormulaProducto:function(e){var t=this.formulas.filter((function(t){return t.value==e}));this.setState(t[0])},focusInputFormula:function(){this.state.length>0&&(this.modal=!0)},limpiarProducto:function(){var e=this;this.pedido.producto=0,this.pedido.codProducto=0,this.mostrarProducto=!1,this.disabledFormula=!1,this.state="",this.$nextTick((function(){e.$refs.refFormula.focus()}))},habilitarFormula:function(){var e=this;this.disabledFormula=!1,this.pedido.producto=0,this.pedido.codProducto=0,this.mostrarProducto=!1,this.state="",this.$nextTick((function(){e.$refs.refFormula.focus()}))},CapturarObservacion:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({title:"Ingrese una observación:",html:'<textarea id="swal-input2" class="swal2-input" placeholder="Capture una observación" style="margin-top: 20px; margin-bottom: 20px; height: 120px;">',focusConfirm:!1,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#3085d6",preConfirm:function(){a=O.a.getPopup().querySelector("#swal-input2").value;var e=O.a.getPopup().querySelector("#swal-input2");e.style.borderColor=""}});case 2:o=t.sent,r=o.value,r?(e.pedido.observacion=a,e.continuarGuardado=!0):e.continuarGuardado=!1;case 5:case"end":return t.stop()}}),t)})))()}}},Pi=Ei,$i=(a("f0a6"),Object(m["a"])(Pi,ki,_i,!1,null,"b70182d2",null)),Oi=$i.exports,Si=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ni=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Taller")])])}],Di={data:function(){return{}},components:{},mounted:function(){},created:function(){},computed:{},methods:{}},Fi=Di,Ti=Object(m["a"])(Fi,Si,Ni,!1,null,"2ca70e1d",null),ji=Ti.exports,Ai=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container my-5"},[e._m(0),a("table-sortable",{attrs:{items:e.items,fields:e.fields,rutaNuevo:e.rutaNuevo,permisoEscritura:e.permisoEscritura}})],1)])},Bi=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-5"},[a("h3",[a("i",{staticClass:"fas fa-truck"}),e._v(" Equipos")])])}],qi={data:function(){return{rutaNuevo:"/catalogos/equipos/registro/",items:[],fields:[{key:"identificador",label:"Identificador",sortable:!0,class:"text-center"},{key:"descripcion",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"modelo",label:"Modelo",sortable:!0,class:"text-center"},{key:"tipoEquipo",label:"Tipo de equipo",sortable:!0,class:"text-center"},{key:"estatus",label:"Estatus",sortable:!0,class:"text-center"},{key:"actions",label:"Acciones"},{key:"estatusEquipos",label:"",sortable:!0,class:"text-center"}],permisoEscritura:!0}},components:{TableSortable:xe},mounted:function(){var e=this;this.$loading(!0),fe.equipos().then((function(t){return e.items=t.data,e.$loading(!1),t.data})).catch((function(e){console.log(e)}))},methods:{}},Mi=qi,Ii=Object(m["a"])(Mi,Ai,Bi,!1,null,"41df4a85",null),zi=Ii.exports,Vi=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Gi=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mb-5"},[o("h1",[o("i",{staticClass:"fas fa-newspaper"}),e._v(" Noticias")]),o("hr"),o("div",{staticClass:"text-center"},[o("h2",[e._v("Calendario Oficial 2021")]),o("p",{staticClass:"font-weight-light"},[e._v("01/Ene/2021.")]),o("img",{staticClass:"brand-image img-circle elevation-3",staticStyle:{opacity:".8"},attrs:{src:a("9f7d"),width:"800",height:"600",alt:"AdminLTE Logo"}})]),o("hr"),o("div",{staticClass:"text-center"},[o("h2",[e._v("Servicios Nuevos")]),o("p",{staticClass:"font-weight-light"},[e._v("13/May/2021.")]),o("img",{staticClass:"brand-image img-circle elevation-3",staticStyle:{opacity:".8"},attrs:{src:a("c7d5"),width:"1600",height:"600",alt:"AdminLTE Logo"}})])])}],Ui={data:function(){return{}},components:{},mounted:function(){},created:function(){},computed:{},methods:{}},Li=Ui,Ki=Object(m["a"])(Li,Vi,Gi,!1,null,"4ce04c25",null),Hi=Ki.exports,Ji=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[e._m(0),a("hr"),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Agente:")]),a("div",{staticClass:"input-group"},[a("b-form-select",{attrs:{id:"cboVendedor",options:e.vendedores},on:{change:e.obtenerClientes},model:{value:e.reporte.codVendedor,callback:function(t){e.$set(e.reporte,"codVendedor",t)},expression:"reporte.codVendedor"}})],1)]),a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Cliente")]),a("div",{staticClass:"input-group"},[a("b-form-select",{attrs:{id:"cboCliente",options:e.clientes},model:{value:e.reporte.codCliente,callback:function(t){e.$set(e.reporte,"codCliente",t)},expression:"reporte.codCliente"}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-4 col-xl-12 mb-1"},[a("label",[e._v("Fórmula")]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-group col-xl-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],ref:"refFormula",staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.state},on:{input:[function(t){t.target.composing||(e.state=t.target.value)},e.filterState],focus:e.focusInputFormula}}),a("span",{staticClass:"input-group-btn"},[a("b-button",{staticClass:"input-group-4",attrs:{variant:"outline-primary"},on:{click:e.limpiarProducto}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],1)])]),e.formulasFiltradas&&e.modal?a("div",[a("ul",{staticClass:"list-group items-body"},e._l(e.formulasFiltradas,(function(t){return a("li",{key:t.value,staticClass:"list-group-item py-2 items-body-content",on:{click:function(a){return e.setState(t)}}},[a("span",[e._v(" "+e._s(t.text))]),a("i",{staticClass:"fa fa-angle-right"})])})),0)]):e._e(),a("transition",{attrs:{name:"fade"}},[a("label",{directives:[{name:"show",rawName:"v-show",value:e.mostrarProducto,expression:"mostrarProducto"}]},[a("span",{staticClass:"labelSize"},[e._v("Nomenclatura: ")]),e._v(e._s(e.reporte.producto))])])],1)]),a("b-row",[a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"primary"},on:{click:e.BuscarDatosReporteMensual}},[a("i",{staticClass:"fas fa-search"}),e._v(" Buscar Datos ")])],1),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"dark"},on:{click:e.GenerarReporteMensual}},[a("i",{staticClass:"fas fa-chart-bar"}),e._v(" Generar Reporte ")])],1):e._e(),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.exportarExcel}},[a("i",{staticClass:"fas fa-file-excel"}),e._v(" Exportar Excel ")])],1):e._e()],1),e.datos?a("div",[a("hr"),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["D"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Limite Credito")]):e._e(),"DP"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Falta Pago")]):e._e()]}}],null,!1,3125670860)}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()],1)])},Wi=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h3",[a("i",{staticClass:"fa fa-chart-line"}),e._v(" Reporte Mensual de M³")])])}],Xi=(a("a15b"),a("b64b"),a("07ac"),{ObtenerReporteMensualMetros:function(e,t,a){return D.post("/reportes/obtener-reporte-mensual-metros/".concat(e,"/").concat(t),a,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},GenerarReporteMensualMetros:function(e,t,a){return D.post("/reportes/imprimir-reporte-mensual-metros/".concat(e,"/").concat(t),a,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},ObtenerReporteMensualClientes:function(e,t,a){return D.post("/reportes/obtener-reporte-mensual-clientes/".concat(e,"/").concat(t,"/").concat(a)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},GenerarReporteMensualClientes:function(e,t,a){return D.post("/reportes/imprimir-reporte-mensual-clientes/".concat(e,"/").concat(t),a,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},ObtenerReporteVolumenXObra:function(e,t,a){return D.post("/reportes/obtener-reporte-volumen-obra/".concat(e,"/").concat(t),a,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},GenerarReporteVolumenXObra:function(e,t,a){return D.post("/reportes/imprimir-reporte-volumen-obra/".concat(e,"/").concat(t),a,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},ObtenerReporteMensualProductos:function(e,t,a){return D.post("/reportes/obtener-reporte-mensual-productos/".concat(e,"/").concat(t),a,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},GenerarReporteMensualProductos:function(e,t,a){return D.post("/reportes/imprimir-reporte-mensual-productos/".concat(e,"/").concat(t),a,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},ObtenerDemandaArticulo:function(){return D.get("/reportes/obtener-demanda-articulos").then((function(e){return console.log("R -> ",e),e.data})).catch((function(e){console.log(e)}))},ObtenerReporteMensualEntradasSalidas:function(e,t,a){return D.post("/reportes/obtener-reporte-entradas-salidas/".concat(e,"/").concat(t,"/").concat(a),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},GenerarReporteEntradasSalidas:function(e,t,a,o){return D.post("/reportes/imprimir-reporte-entradas-salidas/".concat(e,"/").concat(t,"/").concat(a),o,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},ObtenerReporteMensualEquipos:function(e,t,a){return D.post("/reportes/obtener-reporte-mensual-equipos/".concat(e,"/").concat(t,"/").concat(a),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},GenerarReporteEquipos:function(e,t,a,o){return D.post("/reportes/imprimir-reporte-mensual-equipos/".concat(e,"/").concat(t,"/").concat(a),o,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},ObtenerReporteMensualNocturnos:function(e,t,a){return D.post("/reportes/obtener-reporte-nocturnos/".concat(e,"/").concat(t,"/").concat(a),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},GenerarReporteNocturnos:function(e,t,a,o){return D.post("/reportes/imprimir-reporte-nocturnos/".concat(e,"/").concat(t,"/").concat(a),o,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},ObtenerReporteMensualForaneos:function(e,t,a){return D.post("/reportes/obtener-reporte-foraneos/".concat(e,"/").concat(t,"/").concat(a),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},GenerarReporteForaneos:function(e,t,a,o){return D.post("/reportes/imprimir-reporte-foraneos/".concat(e,"/").concat(t,"/").concat(a),o,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}),Yi=Xi,Zi={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=t.toISOString().slice(0,10),r=a.toISOString().slice(0,10);return{desde:o,hasta:r,agente:0,cliente:0,obra:0,reporte:{codCliente:0,codObra:0,codVendedor:0,codProducto:0,producto:""},vendedores:[{value:0,text:"Todos"}],clientes:[{value:0,text:"Todos"}],obras:[{value:0,text:"Todas"}],disabledFormula:!0,nuevaFormula:!1,mostrarProducto:!1,state:"",formulasFiltradas:[],formulas:[],modal:!1,datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"cliente",label:"Cliente",sortable:!0,sortDirection:"desc"},{key:"agente",label:"Agente",sortable:!0,class:"text-center"},{key:"obra",label:"Obra",sortable:!0,class:"text-center"},{key:"nomenclatura",label:"Nomenclatura",sortable:!0,class:"text-center"},{key:"producto",label:"Producto",sortable:!0,class:"text-center"}]}},components:{},watch:{state:function(e){e.length>=1&&0==this.reporte.codProducto?this.modal=!0:this.modal=!1,0===e.length&&(this.reporte.producto=0,this.reporte.codProducto=0,this.mostrarProducto=!1)}},mounted:function(){},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerVendedores();case 2:return t.next=4,e.cargarFormulas(0);case 4:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{obtenerVendedores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,qe.agentesCombo().then((function(t){t.value&&(t.data.forEach((function(t){var a={value:t.codVendedor,text:t.nombreVendedor};e.vendedores.push(a)})),e.reporte.codVendedor=e.vendedores[0].value)}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},obtenerClientes:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.clientes=[{value:0,text:"Todos"}],e.reporte.codCliente=e.clientes[0].value,e.obras=[{value:0,text:"Todas"}],e.reporte.codObra=e.obras[0].value,!(e.reporte.codVendedor>0)){t.next=9;break}return e.$loading(!0),t.next=8,me.obtenerClientesAgente(e.reporte.codVendedor).then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codigo,text:t.nombreCompleto};e.clientes.push(a)}))}));case 8:e.$loading(!1);case 9:case"end":return t.stop()}}),t)})))()},cargarFormulas:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$loading(!0),a.next=3,t.obtenerFormulas(e);case 3:o=a.sent,o.value&&o.data.forEach((function(e){var a={value:e.codigo,text:e.descripcion,producto:e.nomenclatura};t.formulas.push(a)})),t.$loading(!1);case 6:case"end":return a.stop()}}),a)})))()},obtenerFormulas:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.obtenerFormulas(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},filterState:function(){var e=this;this.formulasFiltradas=this.formulas.filter((function(t){var a=t.text.toString().toUpperCase(),o=t.producto.toString().toUpperCase(),r=e.state.trim().toUpperCase();return a.includes(r)||o.includes(r)}))},focusInputFormula:function(){this.state.length>0&&(this.modal=!0)},setState:function(e){this.reporte.codProducto=e.value,this.state=e.text,this.reporte.producto=e.producto,this.modal=!1,this.mostrarProducto=!0,this.disabledFormula=!0},limpiarProducto:function(){var e=this;this.reporte.producto=0,this.reporte.codProducto=0,this.mostrarProducto=!1,this.disabledFormula=!1,this.state="",this.$nextTick((function(){e.$refs.refFormula.focus()}))},BuscarDatosReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],e.$loading(!0),t.next=4,Yi.ObtenerReporteMensualMetros(e.desde,e.hasta,e.reporte);case 4:a=t.sent,a.value?(e.datos=!0,e.items=a.data,e.CargarRenglones(),e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"}));case 6:case"end":return t.stop()}}),t)})))()},GenerarReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Yi.GenerarReporteMensualMetros(e.desde,e.hasta,e.items);case 3:if(a=t.sent,!a.value){t.next=12;break}return t.next=7,e.ImprimirReporteMensualMetros(a.data);case 7:e.$loading(!1),o=e.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}}),o.fire({icon:"success",title:"Reporte mensual de m³ descargado."}),t.next=14;break;case 12:e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"});case 14:case"end":return t.stop()}}),t)})))()},ImprimirReporteMensualMetros:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Reporte Mensual de Metros",a.href="data:application/pdf;base64,"+e,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},exportarExcel:function(){this.$loading(!0);var e=Object.keys(this.items[0]).join("♪")+"\n";for(var t in this.items)e+=Object.values(this.items[t]).join("♪"),e+="\n";console.log("CSV #1 ",e),e=e.replaceAll(","," "),e=e.replaceAll("♪",","),console.log("CSV #2 ",e);var a=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",o),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),this.$loading(!1)}}},Qi=Zi,es=(a("3e46"),Object(m["a"])(Qi,Ji,Wi,!1,null,"1feb1360",null)),ts=es.exports,as=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[e._m(0),a("hr"),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Agente:")]),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.agente,expression:"agente"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.agente=t.target.multiple?a:a[0]}}},e._l(e.vendedores,(function(t){return a("option",{key:t.value,domProps:{value:t}},[e._v(" "+e._s(t.text)+" ")])})),0)])])]),a("div",[a("b-row",[a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"primary"},on:{click:e.BuscarDatosReporteMensual}},[a("i",{staticClass:"fas fa-search"}),e._v(" Buscar Datos ")])],1),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"dark"},on:{click:e.GenerarReporteMensual}},[a("i",{staticClass:"fas fa-chart-bar"}),e._v(" Generar Reporte ")])],1):e._e(),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.exportarExcel}},[a("i",{staticClass:"fas fa-file-excel"}),e._v(" Exportar Excel ")])],1):e._e()],1),e.datos?a("div",[a("hr"),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["D"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Limite Credito")]):e._e(),"DP"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Falta Pago")]):e._e()]}}],null,!1,3125670860)}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()],1)],1)])},os=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[a("i",{staticClass:"fa fa-chart-line"}),e._v(" Reporte Mensual de Clientes")])])}],rs={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=t.toISOString().slice(0,10),r=a.toISOString().slice(0,10);return{desde:o,hasta:r,agente:0,vendedores:[{value:0,text:"Todos"}],datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"cliente",label:"Cliente",sortable:!0,sortDirection:"desc"},{key:"agente",label:"Agente",sortable:!0,class:"text-center"},{key:"obra",label:"Obra",sortable:!0,class:"text-center"},{key:"fecha",label:"Fecha",sortable:!0,class:"text-center"},{key:"cantidad",label:"Cantidad",sortable:!0,class:"text-center"}]}},components:{},mounted:function(){},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerVendedores();case 2:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{obtenerVendedores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,qe.agentesCombo().then((function(t){t.value&&(t.data.forEach((function(t){var a={value:t.codVendedor,text:t.nombreVendedor};e.vendedores.push(a)})),e.agente=e.vendedores[0])}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},BuscarDatosReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],e.$loading(!0),t.next=4,Yi.ObtenerReporteMensualClientes(e.desde,e.hasta,e.agente.value);case 4:a=t.sent,a.value?(e.datos=!0,e.items=a.data,console.log(e.items),e.CargarRenglones(),e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"}));case 6:case"end":return t.stop()}}),t)})))()},GenerarReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Yi.GenerarReporteMensualClientes(e.desde,e.hasta,e.items);case 3:if(a=t.sent,!a.value){t.next=12;break}return t.next=7,e.ImprimirReporteMensualClientes(a.data);case 7:e.$loading(!1),o=e.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}}),o.fire({icon:"success",title:"Reporte mensual de clientes descargado."}),t.next=14;break;case 12:e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"});case 14:case"end":return t.stop()}}),t)})))()},ImprimirReporteMensualClientes:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Reporte Mensual de Clientes",a.href="data:application/pdf;base64,"+e,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},exportarExcel:function(){this.$loading(!0);var e=Object.keys(this.items[0]).join("♪")+"\n";for(var t in this.items)e+=Object.values(this.items[t]).join("♪"),e+="\n";console.log("CSV #1 ",e),e=e.replaceAll(","," "),e=e.replaceAll("♪",","),console.log("CSV #2 ",e);var a=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",o),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),this.$loading(!1)}}},ns=rs,is=Object(m["a"])(ns,as,os,!1,null,"c92f563c",null),ss=is.exports,cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[e._m(0),a("hr"),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Agente:")]),a("div",{staticClass:"input-group"},[a("b-form-select",{attrs:{id:"cboVendedor",options:e.vendedores},on:{change:e.obtenerClientes},model:{value:e.reporte.codVendedor,callback:function(t){e.$set(e.reporte,"codVendedor",t)},expression:"reporte.codVendedor"}})],1)]),a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Cliente")]),a("div",{staticClass:"input-group"},[a("b-form-select",{attrs:{id:"cboCliente",options:e.clientes},model:{value:e.reporte.codCliente,callback:function(t){e.$set(e.reporte,"codCliente",t)},expression:"reporte.codCliente"}})],1)])]),a("b-row",[a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"primary"},on:{click:e.BuscarDatosReporteMensual}},[a("i",{staticClass:"fas fa-search"}),e._v(" Buscar Datos ")])],1),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"dark"},on:{click:e.GenerarReporteMensual}},[a("i",{staticClass:"fas fa-chart-bar"}),e._v(" Generar Reporte ")])],1):e._e(),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.exportarExcel}},[a("i",{staticClass:"fas fa-file-excel"}),e._v(" Exportar Excel ")])],1):e._e()],1),e.datos?a("div",[a("hr"),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["D"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Limite Credito")]):e._e(),"DP"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Falta Pago")]):e._e()]}}],null,!1,3125670860)}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()],1)])},ls=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h3",[a("i",{staticClass:"fa fa-chart-line"}),e._v(" Reporte Volumen Por Obra")])])}],us={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=t.toISOString().slice(0,10),r=a.toISOString().slice(0,10);return{desde:o,hasta:r,reporte:{codCliente:0,codVendedor:0},vendedores:[{value:0,text:"Todos"}],clientes:[{value:0,text:"Todos"}],datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"cliente",label:"Cliente",sortable:!0,sortDirection:"desc"},{key:"agente",label:"Agente",sortable:!0,class:"text-center"},{key:"obra",label:"Obra",sortable:!0,class:"text-center"},{key:"nomenclatura",label:"Nomenclatura",sortable:!0,class:"text-center"},{key:"producto",label:"Producto",sortable:!0,class:"text-center"}]}},components:{},mounted:function(){},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerVendedores();case 2:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{obtenerVendedores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,qe.agentesCombo().then((function(t){t.value&&(t.data.forEach((function(t){var a={value:t.codVendedor,text:t.nombreVendedor};e.vendedores.push(a)})),e.reporte.codVendedor=e.vendedores[0].value)}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},obtenerClientes:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("entra aqui"),e.clientes=[{value:0,text:"Todos"}],e.reporte.codCliente=e.clientes[0].value,e.obras=[{value:0,text:"Todas"}],!(e.reporte.codVendedor>0)){t.next=9;break}return e.$loading(!0),t.next=8,me.obtenerClientesAgente(e.reporte.codVendedor).then((function(t){t.value&&(t.data.forEach((function(t){var a={value:t.codigo,text:t.nombreCompleto};e.clientes.push(a)})),console.log(e.clientes))}));case 8:e.$loading(!1);case 9:case"end":return t.stop()}}),t)})))()},BuscarDatosReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],e.$loading(!0),t.next=4,Yi.ObtenerReporteVolumenXObra(e.desde,e.hasta,e.reporte);case 4:a=t.sent,a.value?(e.datos=!0,e.items=a.data,console.log(e.items),e.CargarRenglones(),e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"}));case 6:case"end":return t.stop()}}),t)})))()},GenerarReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.reporte),e.$loading(!0),console.log("Aqui se imprime el rpt"),t.next=5,Yi.GenerarReporteVolumenXObra(e.desde,e.hasta,e.items);case 5:if(a=t.sent,!a.value){t.next=14;break}return t.next=9,e.ImprimirReporteVolumenXObra(a.data);case 9:e.$loading(!1),o=e.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}}),o.fire({icon:"success",title:"Reporte volumen por obra descargado."}),t.next=16;break;case 14:e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"});case 16:case"end":return t.stop()}}),t)})))()},ImprimirReporteVolumenXObra:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Reporte Volumen Por Obra",a.href="data:application/pdf;base64,"+e,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},exportarExcel:function(){this.$loading(!0);var e=Object.keys(this.items[0]).join("♪")+"\n";for(var t in this.items)e+=Object.values(this.items[t]).join("♪"),e+="\n";console.log("CSV #1 ",e),e=e.replaceAll(","," "),e=e.replaceAll("♪",","),console.log("CSV #2 ",e);var a=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",o),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),this.$loading(!1)}}},ds=us,ms=Object(m["a"])(ds,cs,ls,!1,null,"6b8bb6f5",null),ps=ms.exports,fs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[e._m(0),a("hr"),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Agente:")]),a("div",{staticClass:"input-group"},[a("b-form-select",{attrs:{id:"cboVendedor",options:e.vendedores},model:{value:e.reporte.codVendedor,callback:function(t){e.$set(e.reporte,"codVendedor",t)},expression:"reporte.codVendedor"}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 mb-1"},[a("label",[e._v("Fórmula")]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-group col-xl-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],ref:"refFormula",staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.state},on:{input:[function(t){t.target.composing||(e.state=t.target.value)},e.filterState],focus:e.focusInputFormula}}),a("span",{staticClass:"input-group-btn"},[a("b-button",{staticClass:"input-group-4",attrs:{variant:"outline-primary"},on:{click:e.limpiarProducto}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],1)])]),e.formulasFiltradas&&e.modal?a("div",[a("ul",{staticClass:"list-group items-body"},e._l(e.formulasFiltradas,(function(t){return a("li",{key:t.value,staticClass:"list-group-item py-2 items-body-content",on:{click:function(a){return e.setState(t)}}},[a("span",[e._v(" "+e._s(t.text))]),a("i",{staticClass:"fa fa-angle-right"})])})),0)]):e._e(),a("transition",{attrs:{name:"fade"}},[a("label",{directives:[{name:"show",rawName:"v-show",value:e.mostrarProducto,expression:"mostrarProducto"}]},[a("span",{staticClass:"labelSize"},[e._v("Nomenclatura: ")]),e._v(e._s(e.reporte.producto))])])],1)]),a("b-row",[a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"primary"},on:{click:e.BuscarDatosReporteMensual}},[a("i",{staticClass:"fas fa-search"}),e._v(" Buscar Datos ")])],1),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"dark"},on:{click:e.GenerarReporteMensual}},[a("i",{staticClass:"fas fa-chart-bar"}),e._v(" Generar Reporte ")])],1):e._e(),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.exportarExcel}},[a("i",{staticClass:"fas fa-file-excel"}),e._v(" Exportar Excel ")])],1):e._e()],1),e.datos?a("div",[a("hr"),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["D"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Limite Credito")]):e._e(),"DP"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Falta Pago")]):e._e()]}},{key:"cell(grafica)",fn:function(t){return[e.datos?a("b-col",{attrs:{"align-self":"end"}},[a("b-badge",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"warning"},on:{click:function(a){return e.verGraficaDemanda(t)}}},[e._v("Ver Gráfica")])],1):e._e()]}}],null,!1,2016866642)}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e(),a("div",[a("pm-grafica-demanda",{attrs:{datasets:e.datasets,mostrar:e.mostrarGraficaDemanda,descripcion:0==e.itemsArticulos.length?[]:e.itemsArticulos[e.indexArticulos].descripcion,itemsCedis:e.itemsCedis,cedisMostrarGrafica:e.cedisMostrarGrafica},on:{consultarGraficaCedis:e.consultarGraficaCedis,cerrar:e.cerrarGrafica}})],1)],1)])},bs=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h3",[a("i",{staticClass:"fa fa-chart-line"}),e._v(" Reporte Mensual de Productos")])])}],vs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"overlay",class:{"overlay-collapsed":!e.mostrar,"overlay-show":e.mostrar}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card m-lg-5 m-2 p-3 bg-white"},[a("pm-line-chart",{attrs:{datasetsp:e.datasets,descripcion:e.descripcion}}),a("button",{staticClass:"btn btn-sm btn-info",on:{click:e.cerrar}},[e._v("Cerrar")])],1)])])])])},hs=[],gs=a("1fca"),Cs={props:["datasetsp","descripcion"],extends:gs["a"],mounted:function(){this.renderChart({labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"",data:[],backgroundColor:"",borderColor:"",pointBackgroundColor:""}]},{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"My Data"}})},watch:{datasetsp:function(e){e&&this.renderChart({labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:this.datasetsp},{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:this.descripcion}})}}},xs=Cs,ws=Object(m["a"])(xs,Qn,ei,!1,null,null,null),ks=ws.exports,_s={props:["datasets","mostrar","descripcion","itemsCedis","cedisMostrarGrafica"],data:function(){return{seleccionado:this.cedisMostrarGrafica}},components:{PmLineChart:ks},mounted:function(){var e=this;window.addEventListener("keydown",(function(t){"Escape"==t.key&&e.cerrar()}))},methods:{cerrar:function(){this.$emit("cerrar")},consultarGraficaCedis:function(){this.$emit("consultarGraficaCedis",this.seleccionado)}}},Rs=_s,ys=(a("82e4"),Object(m["a"])(Rs,vs,hs,!1,null,null,null)),Es=ys.exports,Ps={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=t.toISOString().slice(0,10),r=a.toISOString().slice(0,10);return{desde:o,hasta:r,agente:0,reporte:{codVendedor:0,codProducto:0,producto:""},vendedores:[{value:0,text:"Todos"}],obras:[{value:0,text:"Todas"}],disabledFormula:!0,nuevaFormula:!1,mostrarProducto:!1,state:"",formulasFiltradas:[],formulas:[],itemsArticulos:[],mostrarGraficaDemanda:!1,datasets:[],itemsCedis:[],chartdata:null,cedisMostrarGrafica:0,modal:!1,datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"codProducto",label:"Codigo",sortable:!0,sortDirection:"desc"},{key:"nomenclatura",label:"Nomenclatura",sortable:!0,class:"text-center"},{key:"descripcion",label:"Descripcion",sortable:!0,class:"text-center"},{key:"grafica",sortable:!0,class:"text-center"}],datosExportar:[]}},components:{PmGraficaDemanda:Es},watch:{state:function(e){e.length>=1&&0==this.reporte.codProducto?this.modal=!0:this.modal=!1,0===e.length&&(this.reporte.producto=0,this.reporte.codProducto=0,this.mostrarProducto=!1)}},mounted:function(){this.datosExportar=[]},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerVendedores();case 2:return t.next=4,e.cargarFormulas(0);case 4:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{obtenerVendedores:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,qe.agentesCombo().then((function(t){t.value&&(t.data.forEach((function(t){var a={value:t.codVendedor,text:t.nombreVendedor};e.vendedores.push(a)})),e.reporte.codVendedor=e.vendedores[0].value)}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},cargarFormulas:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$loading(!0),a.next=3,t.obtenerFormulas(e);case 3:o=a.sent,o.value&&o.data.forEach((function(e){var a={value:e.codigo,text:e.descripcion,producto:e.nomenclatura};t.formulas.push(a)})),t.$loading(!1);case 6:case"end":return a.stop()}}),a)})))()},obtenerFormulas:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne.obtenerFormulas(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},filterState:function(){var e=this;this.formulasFiltradas=this.formulas.filter((function(t){var a=t.text.toString().toUpperCase(),o=t.producto.toString().toUpperCase(),r=e.state.trim().toUpperCase();return a.includes(r)||o.includes(r)}))},focusInputFormula:function(){this.state.length>0&&(this.modal=!0)},setState:function(e){this.reporte.codProducto=e.value,this.state=e.text,this.reporte.producto=e.producto,this.modal=!1,this.mostrarProducto=!0,this.disabledFormula=!0},limpiarProducto:function(){var e=this;this.reporte.producto=0,this.reporte.codProducto=0,this.mostrarProducto=!1,this.disabledFormula=!1,this.state="",this.$nextTick((function(){e.$refs.refFormula.focus()}))},BuscarDatosReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],e.$loading(!0),t.next=4,Yi.ObtenerReporteMensualProductos(e.desde,e.hasta,e.reporte);case 4:a=t.sent,a.value?(e.datos=!0,e.items=a.data,console.log(e.items),e.CargarRenglones(),e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"}));case 6:case"end":return t.stop()}}),t)})))()},GenerarReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Yi.GenerarReporteMensualProductos(e.desde,e.hasta,e.items);case 3:if(a=t.sent,!a.value){t.next=12;break}return t.next=7,e.ImprimirReporteMensualProductos(a.data);case 7:e.$loading(!1),o=e.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}}),o.fire({icon:"success",title:"Reporte mensual de clientes descargado."}),t.next=14;break;case 12:e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"});case 14:case"end":return t.stop()}}),t)})))()},ImprimirReporteMensualProductos:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Reporte Mensual de Productos",a.href="data:application/pdf;base64,"+e,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},verGraficaDemanda:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){var o,r,n,i,s,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("CEDIS -> ",e),t.datasets=[],t.mostrarGraficaDemanda=!0,a.next=5,t.ObtenerDemandaArticulo(e);case 5:for(o=[],r=[],n=[],i=0,s=0,c=0;c<t.chartdata.length;c++)i=t.chartdata[c].ano,l=s,0!=s&&s!=i||c==t.chartdata.length-1?(s=t.chartdata[c].ano,c==t.chartdata.length-1&&(o.push(t.chartdata[c].surtido),r.push(t.chartdata[c].negado),n.push(t.chartdata[c].demanda)),t.datasets.push({label:"Surtido "+l,data:o,backgroundColor:"transparent",borderColor:t.getRandomRgb(),pointBackgroundColor:t.getRandomRgb()}),o=[],r=[],o.push(t.chartdata[c].surtido),r.push(t.chartdata[c].negado),n.push(t.chartdata[c].demanda)):(0==s&&(s=t.chartdata[c].ano),o.push(t.chartdata[c].surtido),r.push(t.chartdata[c].negado),n.push(t.chartdata[c].demanda));case 11:case"end":return a.stop()}}),a)})))()},ObtenerDemandaArticulo:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.chartdata=[],t.next=3,Yi.ObtenerDemandaArticulo().then((function(t){console.log("ObtenerDemandaArticulo -> ",t.data),e.chartdata=t.data})).catch((function(e){console.log("ObtenerDemandaArticulo",e)}));case 3:case"end":return t.stop()}}),t)})))()},cerrarGrafica:function(){this.mostrarGraficaDemanda=!1},consultarGraficaCedis:function(e){this.cedisMostrarGrafica=e,console.log("MOSTAR ->",this.cedisMostrarGrafica),this.verGraficaDemanda(e)},getRandomRgb:function(){var e=Math.round(16777215*Math.random()),t=e>>16,a=e>>8&255,o=255&e;return"rgb("+t+", "+a+", "+o+")"},exportarExcel:function(){this.$loading(!0);var e=Object.keys(this.items[0]).join("♪")+"\n";for(var t in this.items)e+=Object.values(this.items[t]).join("♪"),e+="\n";console.log("CSV #1 ",e),e=e.replaceAll(","," "),e=e.replaceAll("♪",","),console.log("CSV #2 ",e);var a=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",o),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),this.$loading(!1)}}},$s=Ps,Os=(a("9b5d"),Object(m["a"])($s,fs,bs,!1,null,"ce00da9e",null)),Ss=Os.exports,Ns=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[e._m(0),a("hr"),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Equipos:")]),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.equipo,expression:"equipo"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.equipo=t.target.multiple?a:a[0]},e.restablecerDatos]}},e._l(e.equipos,(function(t){return a("option",{key:t.value,domProps:{value:t}},[e._v(" "+e._s(t.text)+" ")])})),0)])])]),a("div",[a("b-row",[a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"primary"},on:{click:e.BuscarDatosReporteEquipos}},[a("i",{staticClass:"fas fa-search"}),e._v(" Buscar Datos ")])],1),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"dark"},on:{click:e.GenerarReporteMensual}},[a("i",{staticClass:"fas fa-chart-bar"}),e._v(" Generar Reporte ")])],1):e._e(),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.exportarExcel}},[a("i",{staticClass:"fas fa-file-excel"}),e._v(" Exportar Excel ")])],1):e._e()],1),e.datos?a("div",[a("hr"),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["D"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Limite Credito")]):e._e(),"DP"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Falta Pago")]):e._e()]}}],null,!1,3125670860)}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()],1)],1)])},Ds=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[a("i",{staticClass:"fa fa-chart-line"}),e._v(" Reporte de Entradas y Salidas")])])}],Fs={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=t.toISOString().slice(0,10),r=a.toISOString().slice(0,10);return{desde:o,hasta:r,equipo:0,equipos:[{value:0,text:"Todos"}],datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"notaRemision",label:"Nota Remisión",sortable:!0,sortDirection:"desc"},{key:"fechaSalida",label:"Fecha",sortable:!0,class:"text-center"},{key:"equipo",label:"Equipo",sortable:!0,sortDirection:"desc"},{key:"operador",label:"Operador",sortable:!0,class:"text-center"},{key:"tiempoFuera",label:"Tiempo Fuera",sortable:!0,class:"text-center"},{key:"kilometrosRecorridos",label:"Kilometros Recorridos",sortable:!0,class:"text-center"},{key:"horometrajeRecorrido",label:"Horometraje Recorrido",sortable:!0,class:"text-center"}]}},components:{},mounted:function(){},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerEquipos();case 2:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{ObtenerEquipos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,fe.equipos(0).then((function(t){t.value&&(t.data.forEach((function(t){var a={value:t.codigo,text:t.nombre};e.equipos.push(a)})),console.log(e.equipos),e.equipo=e.equipos[0])}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},BuscarDatosReporteEquipos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],console.log("Equipo -> ",e.equipo),e.$loading(!0),t.next=5,Yi.ObtenerReporteMensualEntradasSalidas(e.desde,e.hasta,e.equipo.value);case 5:a=t.sent,a.value?(e.datos=!0,e.items=a.data,console.log(e.items),e.CargarRenglones(),e.$loading(!1)):(e.datos=!1,e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"}));case 7:case"end":return t.stop()}}),t)})))()},GenerarReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Yi.GenerarReporteEntradasSalidas(e.desde,e.hasta,e.equipo.value,e.items);case 3:if(a=t.sent,!a.value){t.next=12;break}return t.next=7,e.ImprimirReporteEntradasSalidas(a.data);case 7:e.$loading(!1),o=e.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}}),o.fire({icon:"success",title:"Reporte de entradas y salidas descargado."}),t.next=14;break;case 12:e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"});case 14:case"end":return t.stop()}}),t)})))()},ImprimirReporteEntradasSalidas:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Reporte de Entradas y Salidas",a.href="data:application/pdf;base64,"+e,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},restablecerDatos:function(){this.datos=!1,this.items=[]},exportarExcel:function(){this.$loading(!0);var e=Object.keys(this.items[0]).join("♪")+"\n";for(var t in this.items)e+=Object.values(this.items[t]).join("♪"),e+="\n";console.log("CSV #1 ",e),e=e.replaceAll(","," "),e=e.replaceAll("♪",","),console.log("CSV #2 ",e);var a=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",o),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),this.$loading(!1)}}},Ts=Fs,js=Object(m["a"])(Ts,Ns,Ds,!1,null,"0e987190",null),As=js.exports,Bs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[e._m(0),a("hr"),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Equipos:")]),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.equipo,expression:"equipo"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.equipo=t.target.multiple?a:a[0]},e.restablecerDatos]}},e._l(e.equipos,(function(t){return a("option",{key:t.value,domProps:{value:t}},[e._v(" "+e._s(t.text)+" ")])})),0)])])]),a("div",[a("b-row",[a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"primary"},on:{click:e.BuscarDatosReporteEquipos}},[a("i",{staticClass:"fas fa-search"}),e._v(" Buscar Datos ")])],1),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"dark"},on:{click:e.GenerarReporteMensual}},[a("i",{staticClass:"fas fa-chart-bar"}),e._v(" Generar Reporte ")])],1):e._e(),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.exportarExcel}},[a("i",{staticClass:"fas fa-file-excel"}),e._v(" Exportar Excel ")])],1):e._e()],1),e.datos?a("div",[a("hr"),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["D"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Limite Credito")]):e._e(),"DP"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Falta Pago")]):e._e()]}}],null,!1,3125670860)}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()],1)],1)])},qs=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[a("i",{staticClass:"fa fa-chart-line"}),e._v(" Reporte de Equipos")])])}],Ms={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=t.toISOString().slice(0,10),r=a.toISOString().slice(0,10);return{desde:o,hasta:r,equipo:0,equipos:[{value:0,text:"Todos"}],datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"equipo",label:"Equipo",sortable:!0,sortDirection:"desc"},{key:"obras",label:"Obras",sortable:!0,class:"text-center"},{key:"viajes",label:"Viajes",sortable:!0,class:"text-center"},{key:"metros",label:"Metros ³",sortable:!0,class:"text-center"},{key:"kilometrosRecorridos",label:"Kilometros Recorridos",sortable:!0,class:"text-center"},{key:"horometrajeRecorrido",label:"Horometraje Recorrido",sortable:!0,class:"text-center"},{key:"litrosConsumidos",label:"Litros Consumidos",sortable:!0,class:"text-center"}]}},components:{},mounted:function(){},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerEquipos();case 2:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{ObtenerEquipos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,fe.equipos(0).then((function(t){t.value&&(t.data.forEach((function(t){var a={value:t.codigo,text:t.nombre};e.equipos.push(a)})),console.log(e.equipos),e.equipo=e.equipos[0])}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},BuscarDatosReporteEquipos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],console.log("Equipo -> ",e.equipo),e.$loading(!0),t.next=5,Yi.ObtenerReporteMensualEquipos(e.desde,e.hasta,e.equipo.value);case 5:a=t.sent,a.value?(e.datos=!0,e.items=a.data,console.log(e.items),e.CargarRenglones(),e.$loading(!1)):(e.datos=!1,e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"}));case 7:case"end":return t.stop()}}),t)})))()},GenerarReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Yi.GenerarReporteEquipos(e.desde,e.hasta,e.equipo.value,e.items);case 3:if(a=t.sent,!a.value){t.next=12;break}return t.next=7,e.ImprimirReporteEntradasSalidas(a.data);case 7:e.$loading(!1),o=e.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}}),o.fire({icon:"success",title:"Reporte Mensual de Equipos Descargado."}),t.next=14;break;case 12:e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"});case 14:case"end":return t.stop()}}),t)})))()},ImprimirReporteEntradasSalidas:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Reporte Mensual de Equipos",a.href="data:application/pdf;base64,"+e,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},restablecerDatos:function(){this.datos=!1,this.items=[]},exportarExcel:function(){this.$loading(!0);var e=Object.keys(this.items[0]).join("♪")+"\n";for(var t in this.items)e+=Object.values(this.items[t]).join("♪"),e+="\n";console.log("CSV #1 ",e),e=e.replaceAll(","," "),e=e.replaceAll("♪",","),console.log("CSV #2 ",e);var a=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",o),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),this.$loading(!1)}}},Is=Ms,zs=Object(m["a"])(Is,Bs,qs,!1,null,"3d3d8215",null),Vs=zs.exports,Gs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[e._m(0),a("hr"),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Equipos:")]),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.equipo,expression:"equipo"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.equipo=t.target.multiple?a:a[0]},e.restablecerDatos]}},e._l(e.equipos,(function(t){return a("option",{key:t.value,domProps:{value:t}},[e._v(" "+e._s(t.text)+" ")])})),0)])])]),a("div",[a("b-row",[a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"primary"},on:{click:e.BuscarDatosReporteNocturnos}},[a("i",{staticClass:"fas fa-search"}),e._v(" Buscar Datos ")])],1),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"dark"},on:{click:e.GenerarReporteMensual}},[a("i",{staticClass:"fas fa-chart-bar"}),e._v(" Generar Reporte ")])],1):e._e(),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.exportarExcel}},[a("i",{staticClass:"fas fa-file-excel"}),e._v(" Exportar Excel ")])],1):e._e()],1),e.datos?a("div",[a("hr"),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["D"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Limite Credito")]):e._e(),"DP"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Falta Pago")]):e._e()]}}],null,!1,3125670860)}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()],1)],1)])},Us=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[a("i",{staticClass:"fa fa-chart-line"}),e._v(" Reporte de Tiros Nocturnos")])])}],Ls={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=t.toISOString().slice(0,10),r=a.toISOString().slice(0,10);return{desde:o,hasta:r,equipo:0,equipos:[{value:0,text:"Todos"}],datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"notaRemision",label:"Nota Remisión",sortable:!0,sortDirection:"desc"},{key:"fechaSalida",label:"Fecha",sortable:!0,class:"text-center"},{key:"equipo",label:"Equipo",sortable:!0,sortDirection:"desc"},{key:"operador",label:"Operador",sortable:!0,class:"text-center"},{key:"tiempoFuera",label:"Tiempo Fuera",sortable:!0,class:"text-center"},{key:"kilometrosRecorridos",label:"Kilometros Recorridos",sortable:!0,class:"text-center"},{key:"horometrajeRecorrido",label:"Horometraje Recorrido",sortable:!0,class:"text-center"}]}},components:{},mounted:function(){},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerEquipos();case 2:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{ObtenerEquipos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,fe.equipos(0).then((function(t){t.value&&(t.data.forEach((function(t){var a={value:t.codigo,text:t.nombre};e.equipos.push(a)})),console.log(e.equipos),e.equipo=e.equipos[0])}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},BuscarDatosReporteNocturnos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],console.log("Equipo -> ",e.equipo),e.$loading(!0),t.next=5,Yi.ObtenerReporteMensualNocturnos(e.desde,e.hasta,e.equipo.value);case 5:a=t.sent,a.value?(e.datos=!0,e.items=a.data,console.log(e.items),e.CargarRenglones(),e.$loading(!1)):(e.datos=!1,e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"}));case 7:case"end":return t.stop()}}),t)})))()},GenerarReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Yi.GenerarReporteNocturnos(e.desde,e.hasta,e.equipo.value,e.items);case 3:if(a=t.sent,!a.value){t.next=12;break}return t.next=7,e.ImprimirReporteNocturnos(a.data);case 7:e.$loading(!1),o=e.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}}),o.fire({icon:"success",title:"Reporte de entradas y salidas descargado."}),t.next=14;break;case 12:e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"});case 14:case"end":return t.stop()}}),t)})))()},ImprimirReporteNocturnos:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Reporte de Tiros Nocturnos",a.href="data:application/pdf;base64,"+e,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},restablecerDatos:function(){this.datos=!1,this.items=[]},exportarExcel:function(){this.$loading(!0);var e=Object.keys(this.items[0]).join("♪")+"\n";for(var t in this.items)e+=Object.values(this.items[t]).join("♪"),e+="\n";console.log("CSV #1 ",e),e=e.replaceAll(","," "),e=e.replaceAll("♪",","),console.log("CSV #2 ",e);var a=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",o),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),this.$loading(!1)}}},Ks=Ls,Hs=Object(m["a"])(Ks,Gs,Us,!1,null,"7e708b50",null),Js=Hs.exports,Ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[e._m(0),a("hr"),a("b-row",[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Desde:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.desde,callback:function(t){e.desde=t},expression:"desde"}})],1),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-5 col-xl-4 mb-1"},[a("label",[e._v("Hasta:")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{locale:"es"},model:{value:e.hasta,callback:function(t){e.hasta=t},expression:"hasta"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 mb-2"},[a("label",[e._v("Equipos:")]),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.equipo,expression:"equipo"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.equipo=t.target.multiple?a:a[0]},e.restablecerDatos]}},e._l(e.equipos,(function(t){return a("option",{key:t.value,domProps:{value:t}},[e._v(" "+e._s(t.text)+" ")])})),0)])])]),a("div",[a("b-row",[a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"primary"},on:{click:e.BuscarDatosReporteForaneos}},[a("i",{staticClass:"fas fa-search"}),e._v(" Buscar Datos ")])],1),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"dark"},on:{click:e.GenerarReporteMensual}},[a("i",{staticClass:"fas fa-chart-bar"}),e._v(" Generar Reporte ")])],1):e._e(),e.datos?a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.exportarExcel}},[a("i",{staticClass:"fas fa-file-excel"}),e._v(" Exportar Excel ")])],1):e._e()],1),e.datos?a("div",[a("hr"),a("b-row",{staticClass:"my-2"},[a("b-col",{attrs:{md:"4"}},[a("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),a("b-col",{attrs:{md:"3"}},[a("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatus)",fn:function(t){return["D"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Limite Credito")]):e._e(),"DP"==t.item.estatusNuevo?a("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Falta Pago")]):e._e()]}}],null,!1,3125670860)}),a("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()],1)],1)])},Xs=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[a("i",{staticClass:"fa fa-chart-line"}),e._v(" Reporte de Tiros Foráneos")])])}],Ys={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=t.toISOString().slice(0,10),r=a.toISOString().slice(0,10);return{desde:o,hasta:r,equipo:0,equipos:[{value:0,text:"Todos"}],datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"notaRemision",label:"Nota Remisión",sortable:!0,sortDirection:"desc"},{key:"fechaSalida",label:"Fecha",sortable:!0,class:"text-center"},{key:"equipo",label:"Equipo",sortable:!0,sortDirection:"desc"},{key:"operador",label:"Operador",sortable:!0,class:"text-center"},{key:"tiempoFuera",label:"Tiempo Fuera",sortable:!0,class:"text-center"},{key:"kilometrosRecorridos",label:"Kilometros Recorridos",sortable:!0,class:"text-center"},{key:"horometrajeRecorrido",label:"Horometraje Recorrido",sortable:!0,class:"text-center"}]}},components:{},mounted:function(){},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ObtenerEquipos();case 2:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{ObtenerEquipos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,fe.equipos(0).then((function(t){t.value&&(t.data.forEach((function(t){var a={value:t.codigo,text:t.nombre};e.equipos.push(a)})),console.log(e.equipos),e.equipo=e.equipos[0])}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},BuscarDatosReporteForaneos:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],console.log("Equipo -> ",e.equipo),e.$loading(!0),t.next=5,Yi.ObtenerReporteMensualForaneos(e.desde,e.hasta,e.equipo.value);case 5:a=t.sent,a.value?(e.datos=!0,e.items=a.data,console.log(e.items),e.CargarRenglones(),e.$loading(!1)):(e.datos=!1,e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"}));case 7:case"end":return t.stop()}}),t)})))()},GenerarReporteMensual:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,Yi.GenerarReporteForaneos(e.desde,e.hasta,e.equipo.value,e.items);case 3:if(a=t.sent,!a.value){t.next=12;break}return t.next=7,e.ImprimirReporteForaneos(a.data);case 7:e.$loading(!1),o=e.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}}),o.fire({icon:"success",title:"Reporte de entradas y salidas descargado."}),t.next=14;break;case 12:e.$loading(!1),e.$swal.fire({text:a.message,icon:"warning"});case 14:case"end":return t.stop()}}),t)})))()},ImprimirReporteForaneos:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=document.createElement("a"),o="Reporte de Tiros Foraneos",a.href="data:application/pdf;base64,"+e,a.download=o,t.next=6,a.click();case 6:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)},restablecerDatos:function(){this.datos=!1,this.items=[]},exportarExcel:function(){this.$loading(!0);var e=Object.keys(this.items[0]).join("♪")+"\n";for(var t in this.items)e+=Object.values(this.items[t]).join("♪"),e+="\n";console.log("CSV #1 ",e),e=e.replaceAll(","," "),e=e.replaceAll("♪",","),console.log("CSV #2 ",e);var a=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",o),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),this.$loading(!1)}}},Zs=Ys,Qs=Object(m["a"])(Zs,Ws,Xs,!1,null,"795d5206",null),ec=Qs.exports,tc=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container-fluid color"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 text-right color-fondo"},[o("img",{attrs:{src:a("e090"),height:"80px"}})])]),e._m(0),e.encuestaResuelta?o("div",{staticClass:"d-flex justify-content-center my-4"},[o("h1",[e._v("LA ENCUESTA YA FUE PREVIAMENTE COMPLETADA")])]):e._e(),e.encuestaResuelta?e._e():o("div",[e._m(1),e._m(2),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("label",{staticClass:"textoEncabezado",attrs:{for:""}},[e._v(" En general, ¿qué grado de satisfacción tiene hacia del servicio?")]),o("vue-feedback-reaction",{staticStyle:{"font-size":"19"},attrs:{labels:["Muy mal","Mal","Normal","Bueno","Excelente"]},model:{value:e.feedbackGral,callback:function(t){e.feedbackGral=t},expression:"feedbackGral"}})],1)]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("label",{staticClass:"textoEncabezado",attrs:{for:""}},[e._v(" ¿Cómo valora la atención recibida por el Personal ?")]),o("vue-feedback-reaction",{attrs:{labels:["Muy mal","Mal","Normal","Bueno","Excelente"]},model:{value:e.feedbackPersonal,callback:function(t){e.feedbackPersonal=t},expression:"feedbackPersonal"}})],1)]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("label",{staticClass:"textoEncabezado",attrs:{for:""}},[e._v(" ¿Que opinión le merece el cumplimiento de los plazos de entrega del producto?")]),o("vue-feedback-reaction",{attrs:{labels:["Muy mal","Mal","Normal","Bueno","Excelente"],"label-class":"font-medium text-sm text-gray-500"},model:{value:e.feedbackPlazo,callback:function(t){e.feedbackPlazo=t},expression:"feedbackPlazo"}})],1)]),o("div",{staticClass:"row mt-5"},[e._m(3),o("div",{staticClass:"col-12"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comentarios,expression:"comentarios"}],staticClass:"form-control",domProps:{value:e.comentarios},on:{input:function(t){t.target.composing||(e.comentarios=t.target.value)}}})])]),o("div",{staticClass:"row mt-3"},[o("div",{staticClass:"col-12 mb-2"},[o("button",{staticClass:"btn btn-primary col-12",on:{click:e.enviar}},[e._v("Enviar")])])])])])},ac=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("h2",{staticClass:"text-center"},[e._v("¡ GRACIAS POR TU PREFERENCIA !")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12"},[a("h5",{staticClass:"text-center",attrs:{for:"encabezado"}},[e._v(" ENCUESTA DE SATISFACCIÓN DEL CLIENTE ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12"},[a("p",{staticClass:"text-justify",staticStyle:{"font-size":"20px"},attrs:{for:"msg"}},[e._v(" Fue un placer para nosotros Concreto2H el haberle prestado de sus servicios, estamos en constante crecimiento es por ello que su opinión es de suma importancia. ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("label",{staticClass:"textoEncabezado",attrs:{for:"opinion"}},[e._v("Dejenos sus observaciones: ")])])}],oc={guardarValoracion:function(e){return D.post("/correos/guardarValoracion",{datos:e}).then((function(e){return e.data})).catch((function(e){return e}))},verificarEncuesta:function(e){return D.post("/correos/verificarEncuesta",{codPedido:e}).then((function(e){return e.data})).catch((function(e){return e}))}},rc=oc,nc={data:function(){return{encuestaResuelta:!1,feedbackGral:"",feedbackPersonal:"",feedbackPlazo:"",comentarios:"",codPedido:0}},created:function(){this.codPedido=void 0!=this.$route.params.id?this.$route.params.id:0},mounted:function(){this.varificarEncuestaValoracion()},methods:{enviar:function(){var e=this,t={codPedido:this.codPedido,general:this.feedbackGral,personal:this.feedbackPersonal,producto:this.feedbackPlazo,comentarios:this.comentarios};this.$loading(!0),rc.guardarValoracion(t).then((function(){e.varificarEncuestaValoracion(),e.$loading(!1)})).catch((function(t){e.$loading(!1),console.error(t)}))},varificarEncuestaValoracion:function(){var e=this;this.$loading(!0),rc.verificarEncuesta(this.codPedido).then((function(t){t.value?e.encuestaResuelta=!1:e.encuestaResuelta=!0,e.$loading(!1)})).catch((function(t){e.$loading(!1),console.error(t)}))}}},ic=nc,sc=(a("98e8"),Object(m["a"])(ic,tc,ac,!1,null,"3387f882",null)),cc=sc.exports,lc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-stripped table-sm",attrs:{id:"tablaClientes"}},[e._m(1),a("tbody",{ref:"tablaClientesBody"},e._l(e.items,(function(t,o){return a("tr",{key:o,attrs:{id:"row"+o}},[a("td",{domProps:{textContent:e._s(t.nombre)}}),a("td",{domProps:{textContent:e._s(t.edad)}}),e._m(2,!0)])})),0)])])]),e._m(3)])},uc=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h3",[e._v("Comisiones de Empleados")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",{staticClass:"col-6"},[e._v("Empleado")]),a("th",{staticClass:"col-3"},[e._v("Puesto")]),a("th",{staticClass:"col-3 text-center"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",{staticClass:"align-middle text-center"},[a("div",{staticClass:"form-check-inline"},[a("input",{staticClass:"form-check mr-5",attrs:{type:"checkbox"}}),a("input",{staticClass:"form-check",attrs:{type:"checkbox"}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row text-right"},[a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-sm btn-primary col-2"},[a("i",{staticClass:"fas fa-save"}),e._v(" Guardar ")])])])}],dc={data:function(){return{items:[{nombre:"Juan Orlando Crack",edad:"16",check:"true"},{nombre:"christian Alvarado esperano",edad:"16",check:"false"}]}},mounted:function(){return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},computed:{},watch:{},methods:{}},mc=dc,pc=Object(m["a"])(mc,lc,uc,!1,null,"1b792d47",null),fc=pc.exports;o["default"].use(C["a"]);var bc=[{path:"/",name:"Home",component:V,children:[{path:"/noticias/",name:"noticias",component:Hi},{path:"/agente-de-ventas/programacion",name:"Programacion",component:Or},{path:"/agente-de-ventas/pedidos",name:"Pedidos",component:jr},{path:"/agente-de-ventas/listaPrecios",name:"Lista de Precios",component:Wr},{path:"/agente-de-ventas/clientes",name:"Clientes",component:_r},{path:"/calidad/ajustes",name:"Ajustes",component:En},{path:"/catalogos/clientes",name:"clientes",component:Re,meta:{title:"Clientes"}},{path:"/catalogos/clientes/registro/:id?",name:"clientes/registro",component:Ue},{path:"/clientes-detenidos-suministro",name:"ClientesDetenidos",component:Xe},{path:"/catalogos/empleados",name:"empleados",component:rt,meta:{title:"empleados"}},{path:"/catalogos/empleados/registro/:id?",name:"empleados/registro",component:mt},{path:"/catalogos/empleados/Documentacion/:id?",component:gt},{path:"/catalogos/especificaciones-de-concreto",name:"especificacionesdeconcreto",component:Rt,meta:{title:"Especificaciones de concreto"}},{path:"/catalogos/tipos-de-concreto",name:"tiposdeconcreto",component:St,meta:{title:"tipos de concreto"}},{path:"/catalogos/tipos-de-concreto/registro/:id?",name:"registrotiposdeconcreto",component:At,meta:{title:"Registro de tipos de concreto"}},{path:"/catalogos/tipos-de-resistencias",name:"tipoderesistencia",component:Vt,meta:{title:"tipo de resistencia"}},{path:"/catalogos/tipos-de-resistencias/registro/:id?",name:"registrotipoderesistencia",component:Jt,meta:{title:"Registro de tipo de resistencia"}},{path:"/catalogos/TMA",name:"TMA",component:ea,meta:{title:"TMA"}},{path:"/catalogos/TMA/registro/:id?",name:"registroMA",component:ia,meta:{title:"Registro TMA"}},{path:"/catalogos/tipos-equipo",name:"tiposdeEquipo",component:ma,meta:{title:"tipos de equipo"}},{path:"/catalogos/tipos-equipo/registro/:id?",name:"tiposdeEquipoRegistro",component:ga,meta:{title:"registro de tipos de equipo"}},{path:"/catalogos/tipos-empleado",name:"tiposdeEmpleado",component:Ra,meta:{title:"tipos de empleado"}},{path:"/catalogos/tipos-empleado/registro/:id?",name:"tiposdeEmpleadoRegistro",component:Sa,meta:{title:"registro de tipos de empreado"}},{path:"/catalogos/equipos",name:"Equipos",component:Aa,meta:{title:"Equipos"}},{path:"/catalogos/equipos/registro/:id?",name:"equipos registro",component:Va,meta:{title:"Equipos registro"}},{path:"/catalogos/operadores",name:"operadores",component:Xa,meta:{title:"operadores"}},{path:"/catalogos/operadores/registro/:id?",name:"Registro de operador",component:ao,meta:{title:"Registro de operador"}},{path:"/catalogos/vendedores",name:"vendedores",component:uo,meta:{title:"vendedores"}},{path:"/catalogos/vendedores/registro/:id?",name:"Registro de vendedor",component:ho,meta:{title:"Registro de vendedor"}},{path:"/catalogos/usuarios",name:"Usuarios",component:_o,meta:{title:"Usuarios"}},{path:"/cobranza/notas-de-remision",name:"NotasDeRemision",component:tn},{path:"/cobranza/notas-de-remision/detalle/:id?",name:"detalles nota remisión",component:xn},{path:"/cobranza/pedidos-detenidos",name:"PedidosDetenidos",component:cn},{path:"/cobranza/clientes",name:"CobranzaClientes",component:fn},{path:"/configuracion/permisos",name:"permisos",component:No},{path:"/configuracion/cargarRegistros",name:"Cargar Registros",component:Bo},{path:"/configuracion/noticias",name:"Noticias",component:Lo},{path:"/dosificador/nota-de-remision",name:"notaderemision",component:Dn},{path:"/dosificador/nota-de-remision/registro/:id?",name:"registroNotaRemision",component:oi},{path:"/dosificador/pedidos",name:"dosificador/pedidos",component:li},{path:"/dosificador/pruebaExcel",name:"dosificador/pruebaExcel",component:bi},{path:"/pedidos",name:"pedidos",component:wi},{path:"/pedidos/registro/:id?",name:"pedidos registro",component:Oi},{path:"/portero/entradas-salidas",name:"EntradasSalidas",component:Qo},{path:"/portero/entradas-salidas/registro/:entrada?",name:"EntradasSalidasRegistro",component:nr},{path:"/portero/suministros",name:"Suministros",component:dr},{path:"/portero/suministros/registro/:id?",name:"SuministrosRegistro",component:hr},{path:"/reportes/reporte-mensual-metros",name:"ReporteMensualMetros",component:ts},{path:"/reportes/reporte-mensual-clientes",name:"ReporteMensualClientes",component:ss},{path:"/reportes/reporte-volumen-por-obra",name:"ReporteVolumenPorObra",component:ps},{path:"/reportes/reporte-mensual-productos",name:"ReporteMensualProductos",component:Ss},{path:"/reportes/reporte-entradas-salidas",name:"ReporteEntradasSalidas",component:As},{path:"/reportes/reporte-equipos",name:"ReporteEquipos",component:Vs},{path:"/reportes/reporte-nocturnos",name:"ReporteNocturnos",component:Js},{path:"/reportes/reporte-foraneos",name:"ReporteForaneos",component:ec},{path:"/taller/servicios",name:"taller",component:ji},{path:"/taller/equipos",name:"EquiposTaller",component:zi,meta:{title:"equipos"}},{path:"/comisiones/empleados",name:"ComisionesEmpleados",component:fc,meta:{title:"comisiones"}}]},{path:"/login",name:"login",component:Y,meta:{isPublic:!0}},{path:"/encuesta/:id?",name:"Encuesta",component:cc,meta:{isPublic:!0}}],vc=new C["a"]({base:"/",routes:bc}),hc=function(){var e=void 0;if(window.localStorage.tokenWebAdmin){var t=JSON.parse(window.localStorage.tokenWebAdmin);e=t.token;var a=new Date(t.expiresAt);a<Date.now()&&(window.localStorage.removeItem("tokenWebAdmin"),O.a.fire({text:"La sesión ha caducado, por favor vuelva a autenticarse para continuar",icon:"warning"}))}return e};vc.beforeEach((function(e,t,a){if(hc()||"login"==e.name||localStorage.getItem("RouteTo")||localStorage.setItem("RouteTo",e.path),!e.meta.isPublic&&!hc())return a({path:"/login"});if("login"==e.name&&hc())return a({path:"/"});if(hc()&&localStorage.getItem("RouteTo")){var o=localStorage.getItem("RouteTo");return localStorage.removeItem("RouteTo"),a({path:o})}return a()}));var gc=vc,Cc=a("2f62");o["default"].use(Cc["a"]);var xc=new Cc["a"].Store({state:{loading:!1,msgLoading:"Espere un momento ..."},getters:{},mutations:{setLoading:function(e,t){e.loading=t},setMsgLoading:function(e,t){e.msgLoading=t}},actions:{},modules:{}}),wc=(a("3d68"),a("755e")),kc=a("4776"),_c=a.n(kc),Rc=(a("b15b"),a("44a1")),yc=a.n(Rc),Ec=a("b9eb"),Pc=(a("15f5"),{install:function(e){e.prototype.$swal=O.a}}),$c=Pc,Oc={install:function(e){e.prototype.$msg={question:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.fire({text:e,icon:"question",showCancelButton:!0,confirmButtonText:"Sí",cancelButtonText:"No"});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()},show:function(e,t){var a=arguments;return Object(L["a"])(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:"warning",o.next=3,O.a.fire({text:e,icon:t?"success":r});case 3:case"end":return o.stop()}}),o)})))()}}}},Sc=Oc,Nc=a("1157"),Dc=a.n(Nc),Fc=(a("91a1"),{install:function(e){e.prototype.$floatThead={ini:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=Dc()(e);return t?a.floatThead(t):(console.log("aplico default"),a.floatThead({position:"fixed",scrollContainer:!0})),a.floatThead("reflow"),a},reflow:function(e){var t=Dc()(e);return t.floatThead("reflow"),t},el:function(e){return Dc()(e)}}}}),Tc=Fc,jc=a("1dce"),Ac=a.n(jc),Bc=(a("f9e3"),a("ca56"),a("b079")),qc=a.n(Bc),Mc=(a("ce8c"),a("e027")),Ic=a.n(Mc),zc={data:function(){return{}},methods:{isChrome:function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&navigator.vendor.toLowerCase().indexOf("google")>-1},imgExtension:function(){return this.isChrome()?"webp":"jpg"},usuarioGlobal:function(){var e=void 0,t=void 0;return window.localStorage.tokenWebAdmin&&(e=JSON.parse(window.localStorage.tokenWebAdmin),t=JSON.parse(e.user)),t},uriServicio:function(){return P.apiUrl}},computed:{tituloPantalla2:function(){return this.tituloPantalla},usuario:function(){var e=JSON.parse(window.localStorage.tokenWebAdmin),t=JSON.parse(e.user);return t},permisos:function(){var e=JSON.parse(window.localStorage.tokenWebAdmin),t=JSON.parse(e.permisos);return t},empresas:function(){var e=JSON.parse(window.localStorage.tokenWebAdmin),t=JSON.parse(e.empresas);return t}}},Vc=zc,Gc={methods:{obtenerNotificaciones:function(){var e=this;return T.obtenerNotificaciones().then((function(t){return e.$emit("actualizarNotificaciones",t),t})).catch((function(e){return e}))}}},Uc=Gc,Lc={};function Kc(e){e.focus()}Lc.install=function(e){e.directive("focus",{inserted:function(e,t){Kc(e,t)}})};var Hc=Lc,Jc={},Wc=function(e){e.preventDefault(),e.target.select()};Jc.install=function(e){e.directive("selectonfocus",{inserted:function(e){e.addEventListener("focus",Wc),e.addEventListener("click",Wc)}})};var Xc=Jc,Yc={install:function(e){e.directive("nextcontrol",{inserted:function(e,t){e.onkeyup=function(e){13==e.keyCode&&document.getElementById(t.arg).focus()}}})}},Zc=Yc,Qc={},el=void 0;Qc.install=function(e){e.directive("float-thead",{inserted:function(e){el="table-responsive"==e.className?Dc()(e.childNodes[0]):Dc()(e),el.floatThead({position:"fixed"}),setTimeout((function(){el.floatThead(),el.trigger("reflow")}),5e3)}})};var tl=Qc,al=a("c1df"),ol=a.n(al),rl={};function nl(e,t){return ol()(String(e)).format(t)}ol.a.locale("es"),ol.a.updateLocale("en",{monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]}),rl.install=function(e){e.filter("format-date",(function(e,t){return nl(e,t)}))};var il=rl,sl=a("6612"),cl=a.n(sl),ll={};function ul(e,t){return cl()(e).format(t)}ll.install=function(e){e.filter("format-number",(function(e,t){return ul(e,t)}))};var dl=ll,ml="AIzaSyAbG_eyVgmdfq7xuPTvidPbj36Vf-Tfjnk",pl="AIzaSyDN3U-3Wii-C4MU_Poy7MncZgUdt7N2cU4";o["default"].use(yc.a),o["default"].use(_c.a),o["default"].use(wc,{load:{key:ml,libraries:"places,drawing,visualization"}}),o["default"].use(Ec,{load:{key:pl}}),o["default"].use(Ac.a),o["default"].use($c),o["default"].use(Sc),o["default"].use(qc.a),o["default"].use(Tc),o["default"].component("vue-pdf-app",Ic.a),o["default"].mixin(Vc),o["default"].mixin(Uc),o["default"].use(Hc),o["default"].use(Xc),o["default"].use(Zc),o["default"].use(tl),o["default"].use(il),o["default"].use(dl);var fl=a("1157");window.$=fl,window.jQuery=fl,o["default"].config.productionTip=!1,o["default"].prototype.$loading=function(e){this.$store.commit("setLoading",e)},new o["default"]({router:gc,store:xc,render:function(e){return e(g)}}).$mount("#app")},"642d":function(e,t,a){"use strict";var o=a("6ea6"),r=a.n(o);r.a},"6ea6":function(e,t,a){},"6f69":function(e,t,a){},"74ae":function(e,t,a){"use strict";var o=a("b4ad"),r=a.n(o);r.a},7802:function(e,t,a){"use strict";var o=a("10f3"),r=a.n(o);r.a},"7cfb":function(e,t,a){},"82e4":function(e,t,a){"use strict";var o=a("84b8"),r=a.n(o);r.a},"84b8":function(e,t,a){},"85ec":function(e,t,a){},"8ba5":function(e,t,a){"use strict";var o=a("7cfb"),r=a.n(o);r.a},"98e8":function(e,t,a){"use strict";var o=a("b1b7"),r=a.n(o);r.a},"9b5d":function(e,t,a){"use strict";var o=a("a8ee"),r=a.n(o);r.a},"9f7d":function(e,t,a){e.exports=a.p+"img/calendario.5737347e.jpeg"},a253:function(e,t,a){},a8ee:function(e,t,a){},b1b7:function(e,t,a){},b3cd:function(e,t,a){"use strict";var o=a("55ac"),r=a.n(o);r.a},b4ad:function(e,t,a){},b9f4:function(e,t,a){},bf91:function(e,t,a){},c61d:function(e,t,a){},c7d5:function(e,t,a){e.exports=a.p+"img/nuevalinea.0f1cca28.png"},d0ed:function(e,t,a){"use strict";var o=a("0eed"),r=a.n(o);r.a},d1af:function(e,t,a){},d6db:function(e,t,a){"use strict";var o=a("e67a"),r=a.n(o);r.a},e090:function(e,t,a){e.exports=a.p+"img/C2H.4515406f.png"},e67a:function(e,t,a){},f069f:function(e,t,a){"use strict";var o=a("b9f4"),r=a.n(o);r.a},f0a6:function(e,t,a){"use strict";var o=a("c61d"),r=a.n(o);r.a},f3f9:function(e,t,a){"use strict";var o=a("bf91"),r=a.n(o);r.a}});
//# sourceMappingURL=app.fd5e94e6.js.map